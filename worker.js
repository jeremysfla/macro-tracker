const AK='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';
const H='PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAiIC8+Cjx0aXRsZT5KZXJlbXltYWNybzwvdGl0bGU+CjxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UGx1cytKYWthcnRhK1NhbnM6d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiIC8+CjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9xdWFnZ2EvMC4xMi4xL3F1YWdnYS5taW4uanMiPjwvc2NyaXB0Pgo8c3R5bGU+CiAgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfQogIDpyb290IHsKICAgIC0tYmc6ICAgICAgICAgICMwZDBmMTQ7CiAgICAtLXN1cmZhY2U6ICAgICAjMTYxOTIwOwogICAgLS1zdXJmYWNlMjogICAgIzFlMjIyZDsKICAgIC0tc3VyZmFjZTM6ICAgICMyNTJhMzc7CiAgICAtLWJvcmRlcjogICAgICAjMmEyZjNkOwogICAgLS1ib3JkZXIyOiAgICAgIzM0M2E0ZDsKICAgIC0tdGV4dDogICAgICAgICNlZWYwZjY7CiAgICAtLXRleHQyOiAgICAgICAjOGI5MmE4OwogICAgLS10ZXh0MzogICAgICAgIzRkNTQ2ODsKICAgIC0tZ3JlZW46ICAgICAgICMyMmM1NWU7CiAgICAtLWdyZWVuLXNvZnQ6ICAjMGQyZDFhOwogICAgLS1ibHVlOiAgICAgICAgIzNiODJmNjsKICAgIC0tYmx1ZS1zb2Z0OiAgICMwZDFlM2Q7CiAgICAtLWFtYmVyOiAgICAgICAjZjU5ZTBiOwogICAgLS1hbWJlci1zb2Z0OiAgIzJkMWYwNTsKICAgIC0tcmVkOiAgICAgICAgICNlZjQ0NDQ7CiAgICAtLXJlZC1zb2Z0OiAgICAjMmQwZjBmOwogICAgLS1wdXJwbGU6ICAgICAgIzhiNWNmNjsKICAgIC0tcHVycGxlLXNvZnQ6ICMxYTEwMzA7CiAgICAtLWN5YW46ICAgICAgICAjMDZiNmQ0OwogICAgLS1jeWFuLXNvZnQ6ICAgIzA1MWUyNjsKICAgIC0tc2hhZG93OiAgICAgIDAgMnB4IDE2cHggcmdiYSgwLDAsMCwwLjQpOwogICAgLS1zaGFkb3ctbWQ6ICAgMCA0cHggMjhweCByZ2JhKDAsMCwwLDAuNSk7CiAgfQogIGJvZHkgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7IGNvbG9yOiB2YXIoLS10ZXh0KTsgZm9udC1mYW1pbHk6ICdQbHVzIEpha2FydGEgU2FucycsIHNhbnMtc2VyaWY7IG1pbi1oZWlnaHQ6IDEwMHZoOyBwYWRkaW5nLWJvdHRvbTogOTBweDsgfQogIDo6LXdlYmtpdC1zY3JvbGxiYXIgeyB3aWR0aDogNHB4OyB9IDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7IH0gOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7IGJhY2tncm91bmQ6IHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDRweDsgfQogICNhcHAgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgfQoKICAvKiBIZWFkZXIgKi8KICAuaGVhZGVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBkMGYxNCAwJSwgIzE2MTkyMCAxMDAlKTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IHBhZGRpbmc6IDIycHggMjBweCAxOHB4OyB9CiAgLmhlYWRlci1zdWIgeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiB2YXIoLS1ncmVlbik7IGxldHRlci1zcGFjaW5nOiAycHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGZvbnQtd2VpZ2h0OiA3MDA7IG1hcmdpbi1ib3R0b206IDRweDsgfQogIC5oZWFkZXItdGl0bGUgeyBmb250LXNpemU6IDI2cHg7IGZvbnQtd2VpZ2h0OiA4MDA7IGNvbG9yOiB2YXIoLS10ZXh0KTsgbGV0dGVyLXNwYWNpbmc6IC0wLjVweDsgfQoKICAvKiBDb250ZW50ICovCiAgLmNvbnRlbnQgeyBwYWRkaW5nOiAxOHB4IDE2cHg7IH0KCiAgLyogQ2FyZHMgKi8KICAuY2FyZCB7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UpOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiAyMHB4OyBwYWRkaW5nOiAxOHB4OyBtYXJnaW4tYm90dG9tOiAxNHB4OyBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOyB9CiAgLmNhcmQtbGFiZWwgeyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAxLjVweDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbWFyZ2luLWJvdHRvbTogMTRweDsgY29sb3I6IHZhcigtLXRleHQyKTsgfQoKICAvKiBUYWIgYmFyICovCiAgLnRhYi1iYXIgeyBwb3NpdGlvbjogZml4ZWQ7IGJvdHRvbTogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJhY2tncm91bmQ6ICMwZDBmMTQ7IGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBkaXNwbGF5OiBmbGV4OyB6LWluZGV4OiAxMDA7IHBhZGRpbmctYm90dG9tOiBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7IGJveC1zaGFkb3c6IDAgLTRweCAzMHB4IHJnYmEoMCwwLDAsMC42KTsgfQogIC50YWItYnRuIHsgZmxleDogMTsgcGFkZGluZzogMTJweCAwIDEwcHg7IGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsgY29sb3I6IHZhcigtLXRleHQzKTsgZm9udC1zaXplOiAxMHB4OyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC13ZWlnaHQ6IDYwMDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuOHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDRweDsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiBhbGwgMC4yczsgfQogIC50YWItYnRuLmFjdGl2ZSB7IGNvbG9yOiB2YXIoLS1ncmVlbik7IH0KICAudGFiLWJ0bi5hY3RpdmUgLnRhYi1pY29uIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOyBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMnB4IDZweCByZ2JhKDAsMCwwLDAuMTgpKTsgfQogIC50YWItaWNvbiB7IGZvbnQtc2l6ZTogMjJweDsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIGZpbHRlciAwLjJzOyBkaXNwbGF5OiBibG9jazsgfQoKICAvKiBJbnB1dHMgKi8KICBpbnB1dFt0eXBlPW51bWJlcl0sIGlucHV0W3R5cGU9dGV4dF0geyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgY29sb3I6IHZhcigtLXRleHQpOyBwYWRkaW5nOiAxMXB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiA1MDA7IHdpZHRoOiAxMDAlOyBvdXRsaW5lOiBub25lOyAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDsgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4yczsgfQogIGlucHV0Ojotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uLCBpbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgfQogIGlucHV0OmZvY3VzIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ncmVlbik7IGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LDE5Nyw5NCwwLjEyKTsgfQogIGlucHV0OjpwbGFjZWhvbGRlciB7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IH0KCiAgLyogQnV0dG9uICovCiAgLmJ0bi1ncmVlbiB7IHdpZHRoOiAxMDAlOyBwYWRkaW5nOiAxNHB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbik7IGNvbG9yOiAjZmZmOyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxNHB4OyBsZXR0ZXItc3BhY2luZzogMC41cHg7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMTZweDsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMTVzLCB0cmFuc2Zvcm0gMC4xczsgYm94LXNoYWRvdzogMCA0cHggMTRweCByZ2JhKDM0LDE5Nyw5NCwwLjMpOyB9CiAgLmJ0bi1ncmVlbjphY3RpdmUgeyBvcGFjaXR5OiAwLjk7IHRyYW5zZm9ybTogc2NhbGUoMC45OSk7IH0KCiAgLyogTWFjcm8gZ3JpZCAqLwogIC5tYWNyby1ncmlkIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyBnYXA6IDEwcHg7IG1hcmdpbi10b3A6IDE2cHg7IH0KICAubWFjcm8tdGlsZSB7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMTRweDsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CiAgLm1hY3JvLXRpbGUtbGFiZWwgeyBmb250LXNpemU6IDEwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAxcHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IH0KICAubWFjcm8tdGlsZS12YWwgeyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAtMC41cHg7IG1hcmdpbi10b3A6IDVweDsgY29sb3I6IHZhcigtLXRleHQpOyB9CiAgLm1hY3JvLXRpbGUtbm90ZSB7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLXRleHQzKTsgbWFyZ2luLXRvcDogM3B4OyB9CgogIC8qIFJpbmdzICovCiAgLnJpbmdzLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiA0cHggMDsgfQogIC5yaW5nLXdyYXAgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDZweDsgfQogIC5yaW5nLWxibCB7IGZvbnQtc2l6ZTogMTBweDsgZm9udC13ZWlnaHQ6IDcwMDsgbGV0dGVyLXNwYWNpbmc6IDAuOHB4OyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBjb2xvcjogdmFyKC0tdGV4dDIpOyB9CgogIC8qIFdlZWsgc3RyaXAgKi8KICAud2Vlay1zdHJpcCB7IGRpc3BsYXk6IGZsZXg7IGdhcDogNnB4OyBtYXJnaW4tYm90dG9tOiAxOHB4OyBvdmVyZmxvdy14OiBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNHB4OyBzY3JvbGxiYXItd2lkdGg6IG5vbmU7IH0KICAud2Vlay1zdHJpcDo6LXdlYmtpdC1zY3JvbGxiYXIgeyBkaXNwbGF5OiBub25lOyB9CiAgLndlZWstZGF5IHsgbWluLXdpZHRoOiA0NHB4OyBmbGV4OiAxOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAxMHB4IDRweCA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlKTsgdHJhbnNpdGlvbjogYWxsIDAuMnM7IGN1cnNvcjogcG9pbnRlcjsgcG9zaXRpb246IHJlbGF0aXZlOyB9CiAgLndlZWstZGF5OmFjdGl2ZSB7IHRyYW5zZm9ybTogc2NhbGUoMC45NCk7IH0KICAud2Vlay1kYXkuc2VsZWN0ZWQgeyBib3JkZXItY29sb3I6IHZhcigtLWJsdWUpOyBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSg1OSwxMzAsMjQ2LDAuMyk7IH0KICAud2Vlay1kYXkudG9kYXktY2FyZCB7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgfQogIC53ZWVrLWRheS1uYW1lIHsgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAwLjhweDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgY29sb3I6IHZhcigtLXRleHQzKTsgbWFyZ2luLWJvdHRvbTogNnB4OyB9CiAgLndlZWstZGF5LW5hbWUuYWN0aXZlLW5hbWUgeyBjb2xvcjogdmFyKC0tdGV4dCk7IH0KICAud2Vlay1kYXktaWNvbiB7IGZvbnQtc2l6ZTogMjBweDsgbGluZS1oZWlnaHQ6IDE7IH0KICAud2Vlay1kYXktc2VzcyB7IGZvbnQtc2l6ZTogOXB4OyBmb250LXdlaWdodDogODAwOyBtYXJnaW4tdG9wOiA0cHg7IGxldHRlci1zcGFjaW5nOiAwLjNweDsgfQoKICAvKiBTZXNzaW9uIHRhYnMgKi8KICAuc2Vzc2lvbi10YWJzIHsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IG1hcmdpbi1ib3R0b206IDE2cHg7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgYm9yZGVyLXJhZGl1czogMThweDsgcGFkZGluZzogNHB4OyB9CiAgLnNlc3MtYnRuIHsgZmxleDogMTsgcGFkZGluZzogMTBweCA0cHg7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogdmFyKC0tdGV4dDIpOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGN1cnNvcjogcG9pbnRlcjsgdGV4dC1hbGlnbjogY2VudGVyOyBsaW5lLWhlaWdodDogMS41OyB0cmFuc2l0aW9uOiBhbGwgMC4yczsgfQogIC5zZXNzLWJ0bi5hY3RpdmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlKTsgY29sb3I6IHZhcigtLXRleHQpOyBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOyB9CgogIC8qIEV4ZXJjaXNlIGNhcmRzIOKAlCBwZXItc2V0IGxvZ2dpbmcgKi8KICAuZXgtY2FyZCB7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UpOyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDE4cHg7IHBhZGRpbmc6IDE2cHg7IG1hcmdpbi1ib3R0b206IDEwcHg7IGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7IH0KICAuZXgtaGVhZGVyIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMnB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9CiAgLmV4LWJhZGdlIHsgd2lkdGg6IDM2cHg7IGhlaWdodDogMzZweDsgYm9yZGVyLXJhZGl1czogMTJweDsgYmFja2dyb3VuZDogdmFyKC0tZ3JlZW4tc29mdCk7IGNvbG9yOiB2YXIoLS1ncmVlbik7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBmb250LXNpemU6IDEzcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGZsZXgtc2hyaW5rOiAwOyB9CiAgLmV4LWJhZGdlLmRvbmUgeyBiYWNrZ3JvdW5kOiAjMGQyZDFhOyBjb2xvcjogIzIyYzU1ZTsgfQogIC5leC1uYW1lIHsgZm9udC1zaXplOiAxNXB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dCk7IH0KICAuZXgtbWV0YSB7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLWJsdWUpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tdG9wOiAycHg7IH0KICAuZXgtc3VnZ2VzdGlvbiB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyBnYXA6IDhweDsgYmFja2dyb3VuZDogIzFmMTgwMDsgYm9yZGVyLXJhZGl1czogMTJweDsgcGFkZGluZzogOXB4IDEycHg7IG1hcmdpbi1ib3R0b206IDEycHg7IGJvcmRlcjogMS41cHggc29saWQgIzNkMmUwMDsgfQogIC5leC1zdWdnZXN0aW9uLXRleHQgeyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjZDRhMDE3OyBmb250LXdlaWdodDogNTAwOyBmbGV4OiAxOyBsaW5lLWhlaWdodDogMS42OyB9CiAgLmV4LXN1Z2dlc3Rpb24tdGV4dCBzdHJvbmcgeyBjb2xvcjogI2Y1OWUwYjsgZm9udC13ZWlnaHQ6IDcwMDsgfQogIC5zZXQtY29sLWhlYWRlcnMgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsgbWFyZ2luLWJvdHRvbTogNXB4OyBwYWRkaW5nOiAwIDJweDsgfQogIC5zZXQtY29sLWxibCB7IGZvbnQtc2l6ZTogOXB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dDMpOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzogMC44cHg7IH0KICAuc2V0LXJvd3MgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDdweDsgfQogIC5zZXQtcm93IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IH0KICAuc2V0LWxhYmVsIHsgZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dDMpOyB3aWR0aDogMzZweDsgZmxleC1zaHJpbms6IDA7IH0KICAuc2V0LXdlaWdodC1pbnB1dCB7IGZsZXg6IDE7IHBhZGRpbmc6IDEwcHggOHB4OyBib3JkZXItcmFkaXVzOiAxMnB4OyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgZm9udC1mYW1pbHk6IGluaGVyaXQ7IGZvbnQtc2l6ZTogMTVweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHRyYW5zaXRpb246IGFsbCAwLjE1czsgfQogIC5zZXQtd2VpZ2h0LWlucHV0OmZvY3VzIHsgb3V0bGluZTogbm9uZTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ncmVlbik7IGJhY2tncm91bmQ6IHZhcigtLWdyZWVuLXNvZnQpOyB9CiAgLnNldC13ZWlnaHQtaW5wdXQuY29tcGxldGVkIHsgYm9yZGVyLWNvbG9yOiAjMTY2NTM0OyBiYWNrZ3JvdW5kOiAjMGQyZDFhOyBjb2xvcjogIzIyYzU1ZTsgfQogIC5zZXQtcmVwcy1pbnB1dCB7IHdpZHRoOiA1NHB4OyBwYWRkaW5nOiAxMHB4IDZweDsgYm9yZGVyLXJhZGl1czogMTJweDsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IDE1cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0KTsgdGV4dC1hbGlnbjogY2VudGVyOyB0cmFuc2l0aW9uOiBhbGwgMC4xNXM7IH0KICAuc2V0LXJlcHMtaW5wdXQ6Zm9jdXMgeyBvdXRsaW5lOiBub25lOyBib3JkZXItY29sb3I6IHZhcigtLWJsdWUpOyBiYWNrZ3JvdW5kOiAjMGQxZTNkOyB9CiAgLnNldC1kb25lLWJ0biB7IHdpZHRoOiAzNnB4OyBoZWlnaHQ6IDM2cHg7IGJvcmRlci1yYWRpdXM6IDExcHg7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZTIpOyBmb250LXNpemU6IDE2cHg7IGN1cnNvcjogcG9pbnRlcjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGZsZXgtc2hyaW5rOiAwOyB0cmFuc2l0aW9uOiBhbGwgMC4xNXM7IH0KICAuc2V0LWRvbmUtYnRuLmRvbmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi1zb2Z0KTsgYm9yZGVyLWNvbG9yOiAjODZlZmFjOyB9CiAgLmV4LXZvbHVtZSB7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQzKTsgbWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA2cHg7IH0KICAuZXgtdm9sdW1lIHNwYW4geyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IHBhZGRpbmc6IDNweCA5cHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IH0KICAucnBlLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGdhcDogNHB4OyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgLnJwZS1idG4geyBmbGV4OiAxOyBwYWRkaW5nOiA1cHggMnB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZTIpOyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dDMpOyBjdXJzb3I6IHBvaW50ZXI7IHRleHQtYWxpZ246IGNlbnRlcjsgdHJhbnNpdGlvbjogYWxsIDAuMTVzOyB9CiAgLnJwZS1idG4uYWN0aXZlIHsgYmFja2dyb3VuZDogdmFyKC0tYW1iZXItc29mdCk7IGJvcmRlci1jb2xvcjogIzNkMmUwMDsgY29sb3I6ICNmNTllMGI7IH0KCiAgLyogUHJpbmNpcGxlcyAqLwogIC5wcmluY2lwbGUtcm93IHsgcGFkZGluZy1ib3R0b206IDEycHg7IG1hcmdpbi1ib3R0b206IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CiAgLnByaW5jaXBsZS10aXRsZSB7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQpOyBtYXJnaW4tYm90dG9tOiAzcHg7IH0KICAucHJpbmNpcGxlLWRlc2MgeyBmb250LXNpemU6IDEycHg7IGNvbG9yOiB2YXIoLS10ZXh0Mik7IGxpbmUtaGVpZ2h0OiAxLjU7IH0KICAucHJpbmNpcGxlLXJvdzpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTogbm9uZTsgbWFyZ2luLWJvdHRvbTogMDsgcGFkZGluZy1ib3R0b206IDA7IH0KCiAgLyogSGlzdG9yeSAqLwogIC5oaXN0LWNhcmQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlKTsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiAxOHB4OyBwYWRkaW5nOiAxNnB4OyBtYXJnaW4tYm90dG9tOiAxMnB4OyBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOyB9CiAgLmhpc3QtaGVhZGVyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiAxMnB4OyB9CiAgLmhpc3Qtc2VzcyB7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQpOyB9CiAgLmhpc3QtZGF0ZSB7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLXRleHQzKTsgbWFyZ2luLXRvcDogMnB4OyBmb250LXdlaWdodDogNTAwOyB9CiAgLmhpc3Qtcm93IHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBmb250LXNpemU6IDEzcHg7IHBhZGRpbmc6IDZweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC5oaXN0LXJvdzpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTogbm9uZTsgfQogIC5oaXN0LWV4IHsgY29sb3I6IHZhcigtLXRleHQyKTsgZm9udC13ZWlnaHQ6IDUwMDsgfQogIC5oaXN0LXd0IHsgY29sb3I6IHZhcigtLXRleHQpOyBmb250LXdlaWdodDogNjAwOyB9CgogIC8qIFRpcCBib3ggKi8KICAudGlwLWJveCB7IG1hcmdpbi10b3A6IDE0cHg7IHBhZGRpbmc6IDE0cHg7IGJhY2tncm91bmQ6ICMwZDJkMWE7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGJvcmRlcjogMS41cHggc29saWQgIzE2NjUzNDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzRhZGU4MDsgbGluZS1oZWlnaHQ6IDEuNzsgZm9udC13ZWlnaHQ6IDUwMDsgfQoKICAvKiBEYWlseSBRdW90ZSAqLwogIC5xdW90ZS1jYXJkIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFhMWQyZSwgIzJkMWY0ZSk7IGJvcmRlci1yYWRpdXM6IDA7IHBhZGRpbmc6IDE2cHggMjBweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7IGdhcDogMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wNik7IH0KICAucXVvdGUtaWNvbiB7IGZvbnQtc2l6ZTogMjJweDsgZmxleC1zaHJpbms6IDA7IG1hcmdpbi10b3A6IDJweDsgfQogIC5xdW90ZS10ZXh0IHsgZm9udC1zaXplOiAxM3B4OyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogI2UyZThmMDsgbGluZS1oZWlnaHQ6IDEuNjU7IGZsZXg6IDE7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfQogIC5xdW90ZS1hdXRob3IgeyBmb250LXNpemU6IDEwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjOGI1Y2Y2OyBsZXR0ZXItc3BhY2luZzogMXB4OyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBtYXJnaW4tdG9wOiA1cHg7IH0KICAucXVvdGUtbG9hZGluZyB7IG9wYWNpdHk6IDAuNDU7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfQogIEBrZXlmcmFtZXMgcXVvdGVGYWRlIHsgZnJvbSB7IG9wYWNpdHk6MDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDRweCk7IH0gdG8geyBvcGFjaXR5OjE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfSB9CiAgLnF1b3RlLWFuaW1hdGUgeyBhbmltYXRpb246IHF1b3RlRmFkZSAwLjVzIGVhc2UgZm9yd2FyZHM7IH0KCiAgLyog4pSA4pSAIFNob2UgVHJhY2tlciDilIDilIAgKi8KICAuc2hvZS1jYXJkIHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxNnB4O3BhZGRpbmc6MTRweDttYXJnaW4tYm90dG9tOjEwcHg7Ym94LXNoYWRvdzp2YXIoLS1zaGFkb3cpO3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmFsbCAwLjJzOyB9CiAgLnNob2UtY2FyZDpsYXN0LWNoaWxkIHsgbWFyZ2luLWJvdHRvbTowOyB9CiAgLnNob2UtY2FyZDphY3RpdmUgeyB0cmFuc2Zvcm06c2NhbGUoMC45OCk7IH0KICAuc2hvZS1jYXJkLnJldGlyZWQgeyBvcGFjaXR5OjAuNjU7Ym9yZGVyLXN0eWxlOmRhc2hlZDsgfQogIC5zaG9lLWNhcmQtYWNjZW50IHsgcG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjRweDtoZWlnaHQ6MTAwJTtib3JkZXItcmFkaXVzOjIwcHggMCAwIDIwcHg7IH0KICAuc2hvZS1jYXJkLXRvcCB7IGRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHg7bWFyZ2luLWJvdHRvbToxMnB4OyB9CiAgLnNob2UtYXZhdGFyIHsgd2lkdGg6NTJweDtoZWlnaHQ6NTJweDtib3JkZXItcmFkaXVzOjE0cHg7b2JqZWN0LWZpdDpjb3ZlcjtmbGV4LXNocmluazowO2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtmb250LXNpemU6MjZweDsgfQogIC5zaG9lLW5hbWUgeyBmb250LXNpemU6MTVweDtmb250LXdlaWdodDo4MDA7Y29sb3I6dmFyKC0tdGV4dCk7bGluZS1oZWlnaHQ6MS4yOyB9CiAgLnNob2UtYnJhbmQgeyBmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi10b3A6MnB4OyB9CiAgLnNob2Utc3RhdHVzLWJhZGdlIHsgZm9udC1zaXplOjlweDtmb250LXdlaWdodDo4MDA7cGFkZGluZzozcHggOHB4O2JvcmRlci1yYWRpdXM6MjBweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MXB4OyB9CiAgLnNob2Utc3RhdHVzLWFjdGl2ZSB7IGJhY2tncm91bmQ6IzBkMmQxYTtjb2xvcjojMjJjNTVlOyB9CiAgLnNob2Utc3RhdHVzLXJldGlyZWQgeyBiYWNrZ3JvdW5kOiMyZDBmMGY7Y29sb3I6I2Y4NzE3MTsgfQogIC5zaG9lLW1pbGVhZ2UtYmFyLXRyYWNrIHsgaGVpZ2h0OjhweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjk5cHg7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbi1ib3R0b206NnB4OyB9CiAgLnNob2UtbWlsZWFnZS1iYXItZmlsbCB7IGhlaWdodDoxMDAlO2JvcmRlci1yYWRpdXM6OTlweDt0cmFuc2l0aW9uOndpZHRoIDAuNnMgY3ViaWMtYmV6aWVyKDAuMzQsMS41NiwwLjY0LDEpOyB9CiAgLnNob2Utc3RhdHMtZ3JpZCB7IGRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDQsMWZyKTtnYXA6NnB4O21hcmdpbi10b3A6MTBweDsgfQogIC5zaG9lLXN0YXQgeyB0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjEwcHg7cGFkZGluZzo4cHggNHB4OyB9CiAgLnNob2Utc3RhdC12YWwgeyBmb250LXNpemU6MTNweDtmb250LXdlaWdodDo4MDA7Y29sb3I6dmFyKC0tdGV4dCk7IH0KICAuc2hvZS1zdGF0LWxibCB7IGZvbnQtc2l6ZTo5cHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMDttYXJnaW4tdG9wOjJweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MC41cHg7IH0KICAuc2hvZS1ydW4tcm93IHsgZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTBweDtwYWRkaW5nOjEwcHggMDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CiAgLnNob2UtcnVuLXJvdzpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTpub25lOyB9CiAgLnNob2UtcnVuLWRhdGUgeyBmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwO21pbi13aWR0aDo3MnB4OyB9CiAgLnNob2UtcnVuLWluZm8geyBmbGV4OjE7IH0KICAuc2hvZS1ydW4tbWkgeyBmb250LXNpemU6MTNweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dCk7IH0KICAuc2hvZS1ydW4tbWV0YSB7IGZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQzKTttYXJnaW4tdG9wOjFweDsgfQogIC5hc3NpZ24tc2hvZS1idG4geyBkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMnB4O3dpZHRoOjEwMCU7cGFkZGluZzoxNHB4IDE2cHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxNnB4O2ZvbnQtZmFtaWx5OmluaGVyaXQ7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luLWJvdHRvbTo4cHg7dHJhbnNpdGlvbjphbGwgMC4xNXM7dGV4dC1hbGlnbjpsZWZ0OyB9CiAgLmFzc2lnbi1zaG9lLWJ0bjpob3ZlciwuYXNzaWduLXNob2UtYnRuOmFjdGl2ZSB7IGJvcmRlci1jb2xvcjp2YXIoLS1ncmVlbik7YmFja2dyb3VuZDp2YXIoLS1ncmVlbi1zb2Z0KTsgfQogIC5hc3NpZ24tc2hvZS1hdmF0YXIgeyB3aWR0aDo0MHB4O2hlaWdodDo0MHB4O2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UpO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtmb250LXNpemU6MjBweDtmbGV4LXNocmluazowOyB9CgoKICAvKiDilIDilIAgV29ya291dCBUaW1lciBCYXIg4pSA4pSAICovCiAgLndvcmtvdXQtdGltZXItYmFyIHsgcG9zaXRpb246c3RpY2t5OyB0b3A6MDsgei1pbmRleDo1MDsgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMwZDFlM2QsIzFhMTAzMCk7IGJvcmRlci1ib3R0b206MS41cHggc29saWQgIzFlM2E1ZjsgcGFkZGluZzoxMnB4IDE2cHg7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgbWFyZ2luOi0xOHB4IC0xNnB4IDE2cHg7IH0KICAud29ya291dC10aW1lci1lbGFwc2VkIHsgZm9udC1zaXplOjI4cHg7IGZvbnQtd2VpZ2h0OjgwMDsgY29sb3I6IzYwYTVmYTsgbGV0dGVyLXNwYWNpbmc6LTFweDsgZm9udC12YXJpYW50LW51bWVyaWM6dGFidWxhci1udW1zOyB9CiAgLndvcmtvdXQtdGltZXItc3RhdHMgeyBkaXNwbGF5OmZsZXg7IGdhcDoxNHB4OyB9CiAgLndvcmtvdXQtdGltZXItc3RhdCB7IHRleHQtYWxpZ246Y2VudGVyOyB9CiAgLndvcmtvdXQtdGltZXItc3RhdC12YWwgeyBmb250LXNpemU6MTRweDsgZm9udC13ZWlnaHQ6ODAwOyBjb2xvcjp2YXIoLS10ZXh0KTsgfQogIC53b3Jrb3V0LXRpbWVyLXN0YXQtbGJsIHsgZm9udC1zaXplOjlweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDo3MDA7IHRleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6MC44cHg7IH0KCiAgLyog4pSA4pSAIFJlc3QgVGltZXIgT3ZlcmxheSDilIDilIAgKi8KICAucmVzdC10aW1lci1vdmVybGF5IHsgcG9zaXRpb246Zml4ZWQ7IGJvdHRvbTo5MHB4OyBsZWZ0OjUwJTsgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7IHotaW5kZXg6MjAwOyBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzBkMmQxYSwjMGQxZTNkKTsgYm9yZGVyOjJweCBzb2xpZCAjMjJjNTVlOyBib3JkZXItcmFkaXVzOjIwcHg7IHBhZGRpbmc6MTRweCAyMnB4OyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjE0cHg7IGJveC1zaGFkb3c6MCA4cHggMzJweCByZ2JhKDAsMCwwLDAuNSk7IG1pbi13aWR0aDoyNjBweDsgfQogIC5yZXN0LXRpbWVyLWNvdW50ZG93biB7IGZvbnQtc2l6ZTozNnB4OyBmb250LXdlaWdodDo4MDA7IGNvbG9yOiMyMmM1NWU7IGZvbnQtdmFyaWFudC1udW1lcmljOnRhYnVsYXItbnVtczsgbGV0dGVyLXNwYWNpbmc6LTFweDsgfQogIC5yZXN0LXRpbWVyLWxhYmVsIHsgZm9udC1zaXplOjExcHg7IGNvbG9yOnZhcigtLXRleHQyKTsgZm9udC13ZWlnaHQ6NzAwOyB0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOjFweDsgfQogIC5yZXN0LXRpbWVyLXNraXAgeyBtYXJnaW4tbGVmdDphdXRvOyBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMTUpOyBib3JkZXItcmFkaXVzOjEwcHg7IHBhZGRpbmc6NnB4IDEycHg7IGZvbnQtZmFtaWx5OmluaGVyaXQ7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo3MDA7IGNvbG9yOnZhcigtLXRleHQyKTsgY3Vyc29yOnBvaW50ZXI7IH0KICAucmVzdC10aW1lci1iYXIgeyBoZWlnaHQ6NHB4OyBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgYm9yZGVyLXJhZGl1czoycHg7IG1hcmdpbi10b3A6OHB4OyBvdmVyZmxvdzpoaWRkZW47IH0KICAucmVzdC10aW1lci1iYXItZmlsbCB7IGhlaWdodDoxMDAlOyBiYWNrZ3JvdW5kOiMyMmM1NWU7IGJvcmRlci1yYWRpdXM6MnB4OyB0cmFuc2l0aW9uOndpZHRoIDFzIGxpbmVhcjsgfQoKICAvKiDilIDilIAgUFIgRmxhc2gg4pSA4pSAICovCiAgLnByLWZsYXNoIHsgcG9zaXRpb246Zml4ZWQ7IHRvcDo4MHB4OyBsZWZ0OjUwJTsgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7IHotaW5kZXg6MzAwOyBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzNkMmUwMCwjMmQxZjA1KTsgYm9yZGVyOjJweCBzb2xpZCAjZjU5ZTBiOyBib3JkZXItcmFkaXVzOjE2cHg7IHBhZGRpbmc6MTJweCAyMHB4OyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjEwcHg7IGJveC1zaGFkb3c6MCA4cHggMzJweCByZ2JhKDI0NSwxNTgsMTEsMC40KTsgYW5pbWF0aW9uOnByUG9wIDAuNHMgY3ViaWMtYmV6aWVyKDAuMzQsMS41NiwwLjY0LDEpOyB9CiAgQGtleWZyYW1lcyBwclBvcCB7IGZyb217b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDAuNyl9IHRve29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgxKX0gfQogIC5wci1mbGFzaC1pY29uIHsgZm9udC1zaXplOjI4cHg7IH0KICAucHItZmxhc2gtdGV4dCB7IGZvbnQtc2l6ZToxNHB4OyBmb250LXdlaWdodDo4MDA7IGNvbG9yOiNmNTllMGI7IH0KICAucHItZmxhc2gtc3ViIHsgZm9udC1zaXplOjExcHg7IGNvbG9yOiNkOTc3MDY7IGZvbnQtd2VpZ2h0OjYwMDsgfQoKICAvKiDilIDilIAgU2V0IHR5cGUgYmFkZ2Ug4pSA4pSAICovCiAgLnNldC10eXBlLWJ0biB7IHdpZHRoOjMycHg7IGhlaWdodDozMnB4OyBib3JkZXItcmFkaXVzOjhweDsgYm9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyBmb250LXNpemU6MTBweDsgZm9udC13ZWlnaHQ6ODAwOyBjb2xvcjp2YXIoLS10ZXh0Myk7IGN1cnNvcjpwb2ludGVyOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgZmxleC1zaHJpbms6MDsgdHJhbnNpdGlvbjphbGwgMC4xNXM7IH0KICAuc2V0LXR5cGUtYnRuLndhcm11cCB7IGJhY2tncm91bmQ6IzA1MWUyNjsgYm9yZGVyLWNvbG9yOiMwZTRkNmU7IGNvbG9yOiMwNmI2ZDQ7IH0KICAuc2V0LXR5cGUtYnRuLmRyb3AgeyBiYWNrZ3JvdW5kOiMxYTEwMzA7IGJvcmRlci1jb2xvcjojNGMxZDk1OyBjb2xvcjojYTc4YmZhOyB9CiAgLnNldC10eXBlLWJ0bi5mYWlsdXJlIHsgYmFja2dyb3VuZDojMmQwZjBmOyBib3JkZXItY29sb3I6IzdmMWQxZDsgY29sb3I6I2Y4NzE3MTsgfQogIC5zZXQtdHlwZS1tZW51IHsgcG9zaXRpb246YWJzb2x1dGU7IHotaW5kZXg6MTAwOyBiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UpOyBib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYm9yZGVyLXJhZGl1czoxNHB4OyBwYWRkaW5nOjZweDsgYm94LXNoYWRvdzp2YXIoLS1zaGFkb3ctbWQpOyBtaW4td2lkdGg6MTYwcHg7IH0KICAuc2V0LXR5cGUtb3B0aW9uIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyBwYWRkaW5nOjEwcHggMTJweDsgYm9yZGVyLXJhZGl1czoxMHB4OyBmb250LXNpemU6MTNweDsgZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjp2YXIoLS10ZXh0KTsgY3Vyc29yOnBvaW50ZXI7IHRyYW5zaXRpb246YmFja2dyb3VuZCAwLjFzOyB9CiAgLnNldC10eXBlLW9wdGlvbjpob3ZlciB7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyB9CgogIC8qIOKUgOKUgCBBZGQgc2V0IC8gcmVtb3ZlIHNldCDilIDilIAgKi8KICAuYnRuLWFkZC1zZXQgeyB3aWR0aDoxMDAlOyBwYWRkaW5nOjlweDsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7IGJvcmRlcjoxLjVweCBkYXNoZWQgdmFyKC0tYm9yZGVyKTsgYm9yZGVyLXJhZGl1czoxMnB4OyBmb250LWZhbWlseTppbmhlcml0OyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0Myk7IGN1cnNvcjpwb2ludGVyOyBtYXJnaW4tdG9wOjhweDsgdHJhbnNpdGlvbjphbGwgMC4xNXM7IH0KICAuYnRuLWFkZC1zZXQ6aG92ZXIsIC5idG4tYWRkLXNldDphY3RpdmUgeyBib3JkZXItY29sb3I6dmFyKC0tZ3JlZW4pOyBjb2xvcjp2YXIoLS1ncmVlbik7IGJhY2tncm91bmQ6dmFyKC0tZ3JlZW4tc29mdCk7IH0KICAuc2V0LXJvdyB7IHBvc2l0aW9uOnJlbGF0aXZlOyB9CiAgLmJ0bi1kZWwtc2V0IHsgd2lkdGg6MjhweDsgaGVpZ2h0OjI4cHg7IGJvcmRlci1yYWRpdXM6OHB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsgY29sb3I6dmFyKC0tdGV4dDMpOyBmb250LXNpemU6MTRweDsgY3Vyc29yOnBvaW50ZXI7IGZsZXgtc2hyaW5rOjA7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyB0cmFuc2l0aW9uOmFsbCAwLjE1czsgfQogIC5idG4tZGVsLXNldDpob3ZlciB7IGJhY2tncm91bmQ6dmFyKC0tcmVkLXNvZnQpOyBjb2xvcjp2YXIoLS1yZWQpOyB9CgogIC8qIOKUgOKUgCBXb3Jrb3V0IGNvbXBsZXRpb24gc2NyZWVuIOKUgOKUgCAqLwogIC53b3Jrb3V0LWNvbXBsZXRlLW92ZXJsYXkgeyBwb3NpdGlvbjpmaXhlZDsgaW5zZXQ6MDsgei1pbmRleDo1MDA7IGJhY2tncm91bmQ6dmFyKC0tYmcpOyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyBwYWRkaW5nOjI0cHg7IG92ZXJmbG93LXk6YXV0bzsgfQogIC53b3Jrb3V0LWNvbXBsZXRlLWljb24geyBmb250LXNpemU6NzJweDsgbWFyZ2luLWJvdHRvbTo4cHg7IGFuaW1hdGlvbjpwclBvcCAwLjVzIGN1YmljLWJlemllcigwLjM0LDEuNTYsMC42NCwxKTsgfQogIC53b3Jrb3V0LWNvbXBsZXRlLXRpdGxlIHsgZm9udC1zaXplOjI4cHg7IGZvbnQtd2VpZ2h0OjgwMDsgY29sb3I6dmFyKC0tdGV4dCk7IGxldHRlci1zcGFjaW5nOi0wLjVweDsgbWFyZ2luLWJvdHRvbTo0cHg7IH0KICAud29ya291dC1jb21wbGV0ZS1zdWIgeyBmb250LXNpemU6MTRweDsgY29sb3I6dmFyKC0tdGV4dDIpOyBtYXJnaW4tYm90dG9tOjI4cHg7IH0KICAud29ya291dC1jb21wbGV0ZS1zdGF0cyB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7IGdhcDoxMnB4OyB3aWR0aDoxMDAlOyBtYXgtd2lkdGg6MzQwcHg7IG1hcmdpbi1ib3R0b206MjRweDsgfQogIC53Yy1zdGF0IHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKTsgYm9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MTZweDsgcGFkZGluZzoxNnB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgfQogIC53Yy1zdGF0LXZhbCB7IGZvbnQtc2l6ZToyNHB4OyBmb250LXdlaWdodDo4MDA7IGNvbG9yOnZhcigtLXRleHQpOyBsZXR0ZXItc3BhY2luZzotMC41cHg7IH0KICAud2Mtc3RhdC1sYmwgeyBmb250LXNpemU6MTBweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0Myk7IHRleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6MXB4OyBtYXJnaW4tdG9wOjRweDsgfQogIC53Yy1wcnMgeyBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzNkMmUwMCwjMmQxZjA1KTsgYm9yZGVyOjEuNXB4IHNvbGlkICNmNTllMGI7IGJvcmRlci1yYWRpdXM6MTZweDsgcGFkZGluZzoxNHB4IDE4cHg7IHdpZHRoOjEwMCU7IG1heC13aWR0aDozNDBweDsgbWFyZ2luLWJvdHRvbToyMHB4OyB9CiAgLndjLXByLWl0ZW0geyBmb250LXNpemU6MTNweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjojZjU5ZTBiOyBwYWRkaW5nOjRweCAwOyB9CgogIC8qIOKUgOKUgCBFeGVyY2lzZSBwcm9ncmVzcyBjaGFydCBtb2RhbCDilIDilIAgKi8KICAuZXgtY2hhcnQtbW9kYWwgeyBwb3NpdGlvbjpmaXhlZDsgaW5zZXQ6MDsgei1pbmRleDo0MDA7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjcpOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtZW5kOyB9CiAgLmV4LWNoYXJ0LXNoZWV0IHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKTsgYm9yZGVyLXJhZGl1czoyNHB4IDI0cHggMCAwOyBwYWRkaW5nOjIwcHg7IHdpZHRoOjEwMCU7IG1heC1oZWlnaHQ6NzB2aDsgb3ZlcmZsb3cteTphdXRvOyB9CiAgLmV4LWNoYXJ0LXRpdGxlIHsgZm9udC1zaXplOjE3cHg7IGZvbnQtd2VpZ2h0OjgwMDsgY29sb3I6dmFyKC0tdGV4dCk7IG1hcmdpbi1ib3R0b206NHB4OyB9CiAgLmV4LWNoYXJ0LXN1YiB7IGZvbnQtc2l6ZToxMnB4OyBjb2xvcjp2YXIoLS10ZXh0Mik7IG1hcmdpbi1ib3R0b206MTZweDsgfQogIC5leC1jaGFydC1zdmcgeyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTQwcHg7IG92ZXJmbG93OnZpc2libGU7IH0KICAuZXgtc3RhdHMtcm93IHsgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDMsMWZyKTsgZ2FwOjhweDsgbWFyZ2luLXRvcDoxNHB4OyB9CiAgLmV4LXN0YXQtYm94IHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7IGJvcmRlci1yYWRpdXM6MTJweDsgcGFkZGluZzoxMHB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgfQogIC5leC1zdGF0LXZhbCB7IGZvbnQtc2l6ZToxNnB4OyBmb250LXdlaWdodDo4MDA7IGNvbG9yOnZhcigtLXRleHQpOyB9CiAgLmV4LXN0YXQtbGJsIHsgZm9udC1zaXplOjlweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0Myk7IHRleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6MC44cHg7IG1hcmdpbi10b3A6MnB4OyB9CgogIC8qIFNoYXJlZCBzZWFyY2ggcGlsbCByb3cgKi8KICAuZmVhdHVyZS10YWJzIHsgZGlzcGxheTpmbGV4OyBnYXA6NnB4OyBtYXJnaW4tYm90dG9tOjE0cHg7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyBib3JkZXItcmFkaXVzOjE4cHg7IHBhZGRpbmc6NHB4OyB9CiAgLmZ0LWJ0biB7IGZsZXg6MTsgcGFkZGluZzo5cHggNHB4OyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OyBjb2xvcjp2YXIoLS10ZXh0Mik7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjE0cHg7IGZvbnQtZmFtaWx5OmluaGVyaXQ7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo2MDA7IGN1cnNvcjpwb2ludGVyOyB0ZXh0LWFsaWduOmNlbnRlcjsgdHJhbnNpdGlvbjphbGwgMC4yczsgfQogIC5mdC1idG4uYWN0aXZlIHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKTsgY29sb3I6dmFyKC0tdGV4dCk7IGJveC1zaGFkb3c6dmFyKC0tc2hhZG93KTsgfQoKICAvKiBVU0RBIC8gUmVzdGF1cmFudCBEQiByZXN1bHQgcm93cyAqLwogIC5kYi1yZXN1bHQgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjEwcHg7IHBhZGRpbmc6MTFweCAxNHB4OyBib3JkZXItcmFkaXVzOjE0cHg7IGJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTsgbWFyZ2luLWJvdHRvbTo4cHg7IGN1cnNvcjpwb2ludGVyOyB0cmFuc2l0aW9uOmFsbCAwLjE1czsgfQogIC5kYi1yZXN1bHQ6YWN0aXZlLCAuZGItcmVzdWx0OmhvdmVyIHsgYm9yZGVyLWNvbG9yOnZhcigtLWdyZWVuKTsgYmFja2dyb3VuZDp2YXIoLS1ncmVlbi1zb2Z0KTsgfQogIC5kYi1yZXN1bHQtaW5mbyB7IGZsZXg6MTsgbWluLXdpZHRoOjA7IH0KICAuZGItcmVzdWx0LW5hbWUgeyBmb250LXNpemU6MTNweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0KTsgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7IH0KICAuZGItcmVzdWx0LW1ldGEgeyBmb250LXNpemU6MTFweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBtYXJnaW4tdG9wOjJweDsgZm9udC13ZWlnaHQ6NTAwOyB9CiAgLmRiLXJlc3VsdC1rY2FsIHsgZm9udC1zaXplOjEzcHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6dmFyKC0tYW1iZXIpOyBmbGV4LXNocmluazowOyB9CgogIC8qIFJlY2lwZSBCdWlsZGVyICovCiAgLnJlY2lwZS1jYXJkIHsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKTsgYm9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MThweDsgcGFkZGluZzoxNHB4OyBtYXJnaW4tYm90dG9tOjEwcHg7IGJveC1zaGFkb3c6dmFyKC0tc2hhZG93KTsgfQogIC5yZWNpcGUtbmFtZSB7IGZvbnQtc2l6ZToxNXB4OyBmb250LXdlaWdodDo3MDA7IGNvbG9yOnZhcigtLXRleHQpOyB9CiAgLnJlY2lwZS1tZXRhIHsgZm9udC1zaXplOjExcHg7IGNvbG9yOnZhcigtLXRleHQzKTsgbWFyZ2luLXRvcDozcHg7IH0KICAucmVjaXBlLWluZ3JlZGllbnQtcm93IHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7IHBhZGRpbmc6N3B4IDA7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAucmVjaXBlLWluZ3JlZGllbnQtcm93Omxhc3QtY2hpbGQgeyBib3JkZXItYm90dG9tOm5vbmU7IH0KICAucmVjaXBlLWluZy1uYW1lIHsgZmxleDoxOyBmb250LXNpemU6MTNweDsgY29sb3I6dmFyKC0tdGV4dCk7IGZvbnQtd2VpZ2h0OjUwMDsgfQogIC5yZWNpcGUtaW5nLW1hY3JvcyB7IGZvbnQtc2l6ZToxMXB4OyBjb2xvcjp2YXIoLS10ZXh0Myk7IH0KICAucmVjaXBlLXRvdGFsLXJvdyB7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyBib3JkZXItcmFkaXVzOjEycHg7IHBhZGRpbmc6MTBweCAxMnB4OyBtYXJnaW4tdG9wOjEwcHg7IGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOmNlbnRlcjsgfQogIC5yZWNpcGUtdG90YWwtbWFjcm9zIHsgZm9udC1zaXplOjEycHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6dmFyKC0tdGV4dCk7IH0KICAuYnRuLXJlY2lwZS1sb2cgeyBwYWRkaW5nOjhweCAxNnB4OyBiYWNrZ3JvdW5kOnZhcigtLWdyZWVuLXNvZnQpOyBjb2xvcjojMjJjNTVlOyBib3JkZXI6MS41cHggc29saWQgIzE2NjUzNDsgYm9yZGVyLXJhZGl1czoxMnB4OyBmb250LWZhbWlseTppbmhlcml0OyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NzAwOyBjdXJzb3I6cG9pbnRlcjsgfQogIC5idG4tcmVjaXBlLWRlbGV0ZSB7IHBhZGRpbmc6OHB4IDEycHg7IGJhY2tncm91bmQ6dmFyKC0tcmVkLXNvZnQpOyBjb2xvcjp2YXIoLS1yZWQpOyBib3JkZXI6MS41cHggc29saWQgIzdmMWQxZDsgYm9yZGVyLXJhZGl1czoxMnB4OyBmb250LWZhbWlseTppbmhlcml0OyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NzAwOyBjdXJzb3I6cG9pbnRlcjsgfQogIC5pbmctcXR5LWlucHV0IHsgd2lkdGg6NjBweDsgcGFkZGluZzo3cHggOHB4OyBib3JkZXItcmFkaXVzOjEwcHg7IGJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTsgZm9udC1mYW1pbHk6aW5oZXJpdDsgZm9udC1zaXplOjEzcHg7IGZvbnQtd2VpZ2h0OjYwMDsgY29sb3I6dmFyKC0tdGV4dCk7IHRleHQtYWxpZ246Y2VudGVyOyB9CiAgLmluZy1xdHktaW5wdXQ6Zm9jdXMgeyBvdXRsaW5lOm5vbmU7IGJvcmRlci1jb2xvcjp2YXIoLS1ncmVlbik7IH0KCiAgLyogTW9udGhseSBDaGFydHMgKi8KICAuY2hhcnQtY29udGFpbmVyIHsgd2lkdGg6MTAwJTsgb3ZlcmZsb3cteDphdXRvOyB9CiAgLm1vbnRoLWJhci1jaGFydCB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6ZmxleC1lbmQ7IGdhcDo0cHg7IGhlaWdodDoxMDBweDsgcGFkZGluZzowIDJweDsgfQogIC5tb250aC1iYXItd3JhcCB7IGZsZXg6MTsgZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjNweDsgbWluLXdpZHRoOjE4cHg7IH0KICAubW9udGgtYmFyIHsgd2lkdGg6MTAwJTsgYm9yZGVyLXJhZGl1czo1cHggNXB4IDAgMDsgbWluLWhlaWdodDozcHg7IHRyYW5zaXRpb246aGVpZ2h0IDAuM3M7IH0KICAubW9udGgtYmFyLWxibCB7IGZvbnQtc2l6ZTo4cHg7IGNvbG9yOnZhcigtLXRleHQzKTsgZm9udC13ZWlnaHQ6NjAwOyB0ZXh0LWFsaWduOmNlbnRlcjsgfQogIC5tb250aC1iYXItdmFsIHsgZm9udC1zaXplOjdweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDo3MDA7IHRleHQtYWxpZ246Y2VudGVyOyB9CiAgLmNoYXJ0LXRhYi1yb3cgeyBkaXNwbGF5OmZsZXg7IGdhcDo2cHg7IG1hcmdpbi1ib3R0b206MTJweDsgZmxleC13cmFwOndyYXA7IH0KICAuY2hhcnQtdGFiIHsgcGFkZGluZzo1cHggMTJweDsgYm9yZGVyLXJhZGl1czoyMHB4OyBib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7IGZvbnQtZmFtaWx5OmluaGVyaXQ7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo3MDA7IGNvbG9yOnZhcigtLXRleHQyKTsgY3Vyc29yOnBvaW50ZXI7IHRyYW5zaXRpb246YWxsIDAuMTVzOyB9CiAgLmNoYXJ0LXRhYi5hY3RpdmUgeyBiYWNrZ3JvdW5kOnZhcigtLXB1cnBsZS1zb2Z0KTsgYm9yZGVyLWNvbG9yOiM0YzFkOTU7IGNvbG9yOiNhNzhiZmE7IH0KCiAgLyogV2Vla2x5IENhbG9yaWUgQmFsYW5jZSAqLwogIC53ZWVrLWJhbGFuY2UtZ3JpZCB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7IGdhcDogNXB4OyBtYXJnaW4tYm90dG9tOiAxNnB4OyB9CiAgLndiZCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogM3B4OyB9CiAgLndiZC1uYW1lIHsgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IGxldHRlci1zcGFjaW5nOiAwLjVweDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgfQogIC53YmQtYmFyLXdyYXAgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiA1NnB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyBhbGlnbi1pdGVtczogY2VudGVyOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KICAud2JkLWJhciB7IHdpZHRoOiAxMDAlOyBib3JkZXItcmFkaXVzOiA2cHggNnB4IDAgMDsgbWluLWhlaWdodDogM3B4OyB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zczsgfQogIC53YmQtYmFyLnN1cnBsdXMgeyBiYWNrZ3JvdW5kOiB2YXIoLS1yZWQpOyB9CiAgLndiZC1iYXIuZGVmaWNpdCB7IGJhY2tncm91bmQ6IHZhcigtLWdyZWVuKTsgfQogIC53YmQtYmFyLm5vbmUgICAgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIpOyB9CiAgLndiZC12YWwgeyBmb250LXNpemU6IDhweDsgZm9udC13ZWlnaHQ6IDcwMDsgbWFyZ2luLXRvcDogMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiAxLjI7IH0KICAud2JkLXZhbC5zdXJwbHVzIHsgY29sb3I6IHZhcigtLXJlZCk7IH0KICAud2JkLXZhbC5kZWZpY2l0IHsgY29sb3I6IHZhcigtLWdyZWVuKTsgfQogIC53YmQtdmFsLm5vbmUgICAgeyBjb2xvcjogdmFyKC0tdGV4dDMpOyB9CiAgLndiZC10b2RheSB7IG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1ibHVlKTsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAzcHggMnB4OyB9CiAgLndlZWtseS1zdW1tYXJ5LXJvdyB7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgfQogIC53ZWVrbHktc3RhdCB7IGZsZXg6IDE7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgYm9yZGVyLXJhZGl1czogMTRweDsgcGFkZGluZzogMTJweCAxMHB4OyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogIC53ZWVrbHktc3RhdC12YWwgeyBmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAtMC41cHg7IH0KICAud2Vla2x5LXN0YXQtbGJsIHsgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAwLjhweDsgbWFyZ2luLXRvcDogM3B4OyB9CgogIC8qIE1pc2MgKi8KICAuZW1wdHktc3RhdGUgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IHBhZGRpbmc6IDQ4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMS44OyB9CiAgLnNlY3Rpb24tdGl0bGUgeyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAtMC4zcHg7IG1hcmdpbi1ib3R0b206IDRweDsgY29sb3I6IHZhcigtLXRleHQpOyB9CiAgLnBhZ2UgeyBkaXNwbGF5OiBub25lOyB9IC5wYWdlLmFjdGl2ZSB7IGRpc3BsYXk6IGJsb2NrOyB9CiAgLnBpbGwtdGFnIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nOiA0cHggMTJweDsgYm9yZGVyLXJhZGl1czogMjBweDsgZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogNzAwOyBsZXR0ZXItc3BhY2luZzogMC41cHg7IH0KCiAgQGtleWZyYW1lcyBzcGluIHsgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9CgogIC8qIEdhcm1pbiAmIFNldHRpbmdzICovCiAgLmdhcm1pbi1jYXJkIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSg1OSwxMzAsMjQ2LDAuMDgpLCByZ2JhKDYsMTgyLDIxMiwwLjA2KSk7IGJvcmRlcjogMS41cHggc29saWQgIzFlM2E1ZjsgYm9yZGVyLXJhZGl1czogMjBweDsgcGFkZGluZzogMTZweDsgbWFyZ2luLWJvdHRvbTogMTRweDsgfQogIC5nYXJtaW4tbG9nbyB7IHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDQwcHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGJhY2tncm91bmQ6ICMxYTU2ZGI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBmb250LXNpemU6IDIwcHg7IGZsZXgtc2hyaW5rOiAwOyB9CiAgLmdhcm1pbi1hY3Rpdml0eS1yb3cgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgbWFyZ2luLXRvcDogMTJweDsgZmxleC13cmFwOiB3cmFwOyB9CiAgLmdhcm1pbi1zdGF0IHsgZmxleDogMTsgbWluLXdpZHRoOiA3MHB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDEwcHggOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAuZ2FybWluLXN0YXQtdmFsIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dCk7IH0KICAuZ2FybWluLXN0YXQtbGJsIHsgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAwLjVweDsgbWFyZ2luLXRvcDogMnB4OyB9CiAgLm1hY3JvLWFkai1iYW5uZXIgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi1zb2Z0KTsgYm9yZGVyOiAxLjVweCBzb2xpZCAjMTY2NTM0OyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAxMHB4IDE0cHg7IG1hcmdpbi10b3A6IDEwcHg7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM0YWRlODA7IGZvbnQtd2VpZ2h0OiA2MDA7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogOHB4OyB9CiAgLnNldHRpbmdzLWJ0biB7IGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsgZm9udC1zaXplOiAyMnB4OyBjdXJzb3I6IHBvaW50ZXI7IHBhZGRpbmc6IDRweDsgbGluZS1oZWlnaHQ6IDE7IH0KICAuc2V0dGluZ3Mtc2VjdGlvbiB7IG1hcmdpbi1ib3R0b206IDIwcHg7IHBhZGRpbmctYm90dG9tOiAyMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC5zZXR0aW5ncy1zZWN0aW9uOmxhc3QtY2hpbGQgeyBib3JkZXItYm90dG9tOiBub25lOyBtYXJnaW4tYm90dG9tOiAwOyB9CiAgLnNldHRpbmdzLXNlY3Rpb24tdGl0bGUgeyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IGxldHRlci1zcGFjaW5nOiAxLjVweDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbWFyZ2luLWJvdHRvbTogMTJweDsgfQogIC5zZXR0aW5ncy1yb3cgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDEwcHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAuc2V0dGluZ3Mtcm93Omxhc3QtY2hpbGQgeyBib3JkZXItYm90dG9tOiBub25lOyB9CiAgLnNldHRpbmdzLXJvdy1sYWJlbCB7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQpOyB9CiAgLnNldHRpbmdzLXJvdy1zdWIgeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IG1hcmdpbi10b3A6IDJweDsgZm9udC13ZWlnaHQ6IDQwMDsgfQogIC50b2dnbGUgeyB3aWR0aDogNDRweDsgaGVpZ2h0OiAyNnB4OyBib3JkZXItcmFkaXVzOiAxM3B4OyBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIpOyBib3JkZXI6IG5vbmU7IGN1cnNvcjogcG9pbnRlcjsgcG9zaXRpb246IHJlbGF0aXZlOyB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7IGZsZXgtc2hyaW5rOiAwOyB9CiAgLnRvZ2dsZS5vbiB7IGJhY2tncm91bmQ6IHZhcigtLWdyZWVuKTsgfQogIC50b2dnbGU6OmFmdGVyIHsgY29udGVudDonJzsgcG9zaXRpb246YWJzb2x1dGU7IHdpZHRoOjIwcHg7IGhlaWdodDoyMHB4OyBib3JkZXItcmFkaXVzOjUwJTsgYmFja2dyb3VuZDojZmZmOyB0b3A6M3B4OyBsZWZ0OjNweDsgdHJhbnNpdGlvbjogbGVmdCAwLjJzOyBib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLDAsMCwwLjIpOyB9CiAgLnRvZ2dsZS5vbjo6YWZ0ZXIgeyBsZWZ0OiAyMXB4OyB9CiAgLmJ0bi1yZWQgeyB3aWR0aDogMTAwJTsgcGFkZGluZzogMTNweDsgYmFja2dyb3VuZDogdmFyKC0tcmVkLXNvZnQpOyBjb2xvcjogdmFyKC0tcmVkKTsgZm9udC1mYW1pbHk6IGluaGVyaXQ7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogMTRweDsgYm9yZGVyOiAxLjVweCBzb2xpZCAjN2YxZDFkOyBib3JkZXItcmFkaXVzOiAxNnB4OyBjdXJzb3I6IHBvaW50ZXI7IG1hcmdpbi10b3A6IDhweDsgfQogIC5vYXV0aC1zdGVwIHsgZGlzcGxheTogZmxleDsgZ2FwOiAxMnB4OyBhbGlnbi1pdGVtczogZmxleC1zdGFydDsgcGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC5vYXV0aC1zdGVwOmxhc3QtY2hpbGQgeyBib3JkZXItYm90dG9tOiBub25lOyBwYWRkaW5nLWJvdHRvbTogMDsgfQogIC5zdGVwLW51bSB7IHdpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgYmFja2dyb3VuZDogdmFyKC0tYmx1ZSk7IGNvbG9yOiAjZmZmOyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBmbGV4LXNocmluazogMDsgbWFyZ2luLXRvcDogMXB4OyB9CiAgLm9hdXRoLXN0ZXAtdGV4dCB7IGZvbnQtc2l6ZTogMTNweDsgY29sb3I6IHZhcigtLXRleHQpOyBsaW5lLWhlaWdodDogMS42OyBmbGV4OiAxOyB9CiAgLm9hdXRoLXN0ZXAtdGV4dCBhIHsgY29sb3I6IHZhcigtLWJsdWUpOyBmb250LXdlaWdodDogNjAwOyB9CiAgLmtleS1pbnB1dC1ncm91cCB7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0KICAua2V5LWlucHV0LWxhYmVsIHsgZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dDIpOyBtYXJnaW4tYm90dG9tOiA1cHg7IGxldHRlci1zcGFjaW5nOiAwLjVweDsgfQogIC5jb25uZWN0LXN0YXR1cyB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogOHB4OyBwYWRkaW5nOiAxMHB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogMTJweDsgfQogIC5jb25uZWN0LXN0YXR1cy5jb25uZWN0ZWQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi1zb2Z0KTsgY29sb3I6ICM0YWRlODA7IGJvcmRlcjogMS41cHggc29saWQgIzE2NjUzNDsgfQogIC5jb25uZWN0LXN0YXR1cy5kaXNjb25uZWN0ZWQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC5tZWFsLXRpbWUtbGFiZWwgeyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGxldHRlci1zcGFjaW5nOiAxcHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGNvbG9yOiB2YXIoLS10ZXh0Myk7IG1hcmdpbi1ib3R0b206IDEwcHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4OyB9CiAgLm1lYWwtdGltZS1kb3QgeyB3aWR0aDogOHB4OyBoZWlnaHQ6IDhweDsgYm9yZGVyLXJhZGl1czogNTAlOyBiYWNrZ3JvdW5kOiB2YXIoLS1hbWJlcik7IH0KICAucXVpY2stZm9vZHMtc2Nyb2xsIHsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IG92ZXJmbG93LXg6IGF1dG87IHBhZGRpbmctYm90dG9tOiA0cHg7IG1hcmdpbi1ib3R0b206IDRweDsgfQogIC5xdWljay1mb29kLWNoaXAgeyBmbGV4LXNocmluazogMDsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZTIpOyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDE0cHg7IHBhZGRpbmc6IDEwcHggMTJweDsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiBhbGwgMC4xNXM7IG1heC13aWR0aDogMTYwcHg7IH0KICAucXVpY2stZm9vZC1jaGlwOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHZhcigtLWdyZWVuLXNvZnQpOyBib3JkZXItY29sb3I6IHZhcigtLWdyZWVuKTsgfQogIC5xZmMtbmFtZSB7IGZvbnQtc2l6ZTogMTJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQpOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgfQogIC5xZmMtY2FsIHsgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogdmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tdG9wOiAycHg7IH0KICAucWZjLWRlbGV0ZSB7IGZvbnQtc2l6ZTogMTBweDsgY29sb3I6IHZhcigtLXJlZCk7IG1hcmdpbi10b3A6IDRweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXdlaWdodDogNjAwOyB9CgogIC8qIFNhdmVkIGZvb2RzIGJvdHRvbSBzaGVldCAqLwogIC5zYXZlLWZvb2Qtcm93IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4OyBtYXJnaW4tdG9wOiAxMnB4OyB9CiAgLnNhdmUtbmFtZS1pbnB1dCB7IGZsZXg6IDE7IH0KICAuYnRuLXNhdmUtZm9vZCB7IHBhZGRpbmc6IDExcHggMTZweDsgYmFja2dyb3VuZDogdmFyKC0tYW1iZXItc29mdCk7IGNvbG9yOiAjZjU5ZTBiOyBib3JkZXI6IDEuNXB4IHNvbGlkICMzZDJlMDA7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDEzcHg7IGN1cnNvcjogcG9pbnRlcjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfQogIC50aW1lLXNsb3QtcGlja2VyIHsgZGlzcGxheTogZmxleDsgZ2FwOiA2cHg7IGZsZXgtd3JhcDogd3JhcDsgbWFyZ2luLXRvcDogMTBweDsgfQogIC50cy1idG4geyBwYWRkaW5nOiA2cHggMTJweDsgYm9yZGVyLXJhZGl1czogMjBweDsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlMik7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0Mik7IGN1cnNvcjogcG9pbnRlcjsgdHJhbnNpdGlvbjogYWxsIDAuMTVzOyB9CiAgLnRzLWJ0bi5hY3RpdmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1hbWJlci1zb2Z0KTsgYm9yZGVyLWNvbG9yOiAjM2QyZTAwOyBjb2xvcjogI2Y1OWUwYjsgfQogIC5tb2RhbC1vdmVybGF5IHsgZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGZpeGVkOyBpbnNldDogMDsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjYpOyB6LWluZGV4OiAyMDA7IGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpOyB9CiAgLm1vZGFsLW92ZXJsYXkub3BlbiB7IGRpc3BsYXk6IGZsZXg7IH0KICAubW9kYWwtc2hlZXQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlKTsgYm9yZGVyLXJhZGl1czogMjhweCAyOHB4IDAgMDsgd2lkdGg6IDEwMCU7IG1heC13aWR0aDogNjAwcHg7IHBhZGRpbmc6IDI0cHggMjBweCA0MHB4OyBtYXgtaGVpZ2h0OiA5MHZoOyBvdmVyZmxvdy15OiBhdXRvOyBhbmltYXRpb246IHNsaWRlVXAgMC4zcyBlYXNlOyB9CiAgQGtleWZyYW1lcyBzbGlkZVVwIHsgZnJvbSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsgb3BhY2l0eTowOyB9IHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyBvcGFjaXR5OjE7IH0gfQogIC5tb2RhbC1oYW5kbGUgeyB3aWR0aDogNDBweDsgaGVpZ2h0OiA0cHg7IGJhY2tncm91bmQ6IHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDRweDsgbWFyZ2luOiAwIGF1dG8gMjBweDsgfQogIC5tb2RhbC10aXRsZSB7IGZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQpOyBtYXJnaW4tYm90dG9tOiA0cHg7IH0KICAubW9kYWwtc3ViIHsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogdmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9CiAgI3NjYW5uZXItdmlkZW8geyB3aWR0aDogMTAwJTsgYm9yZGVyLXJhZGl1czogMThweDsgYmFja2dyb3VuZDogIzAwMDsgYXNwZWN0LXJhdGlvOiA0LzM7IG9iamVjdC1maXQ6IGNvdmVyOyB9CiAgLnNjYW5uZXItZnJhbWUgeyBwb3NpdGlvbjogcmVsYXRpdmU7IG1hcmdpbi1ib3R0b206IDE2cHg7IH0KICAuc2Nhbm5lci1vdmVybGF5IHsgcG9zaXRpb246IGFic29sdXRlOyBpbnNldDogMDsgYm9yZGVyLXJhZGl1czogMThweDsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9pbnRlci1ldmVudHM6IG5vbmU7IH0KICAuc2Nhbm5lci1saW5lIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAxMCU7IHJpZ2h0OiAxMCU7IGhlaWdodDogMnB4OyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHRyYW5zcGFyZW50LCAjMjJjNTVlLCB0cmFuc3BhcmVudCk7IGFuaW1hdGlvbjogc2NhbkxpbmUgMnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7IHRvcDogNTAlOyB9CiAgQGtleWZyYW1lcyBzcGluUHVsc2UgeyAwJSwxMDAle3RyYW5zZm9ybTpzY2FsZSgxKSByb3RhdGUoMGRlZyk7b3BhY2l0eToxfSA1MCV7dHJhbnNmb3JtOnNjYWxlKDEuMikgcm90YXRlKDIwZGVnKTtvcGFjaXR5OjAuN30gfQogIC5zcGluLXB1bHNlIHsgZGlzcGxheTppbmxpbmUtYmxvY2s7IGFuaW1hdGlvbjogc3BpblB1bHNlIDEuMnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7IH0KICAuc2VhcmNoLXJlc3VsdC1pdGVtIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyBwYWRkaW5nOjExcHggMTRweDsgYm9yZGVyLXJhZGl1czoxNHB4OyBib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7IG1hcmdpbi1ib3R0b206OHB4OyBjdXJzb3I6cG9pbnRlcjsgdHJhbnNpdGlvbjphbGwgMC4xNXM7IH0KICAuc2VhcmNoLXJlc3VsdC1pdGVtOmFjdGl2ZSwgLnNlYXJjaC1yZXN1bHQtaXRlbTpob3ZlciB7IGJvcmRlci1jb2xvcjp2YXIoLS1ncmVlbik7IGJhY2tncm91bmQ6dmFyKC0tZ3JlZW4tc29mdCk7IH0KICAuc2VhcmNoLXJlc3VsdC1uYW1lIHsgZm9udC1zaXplOjEzcHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6dmFyKC0tdGV4dCk7IH0KICAuc2VhcmNoLXJlc3VsdC1tYWNyb3MgeyBmb250LXNpemU6MTFweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBtYXJnaW4tdG9wOjJweDsgZm9udC13ZWlnaHQ6NTAwOyB9CiAgLnNlYXJjaC1yZXN1bHQtYXJyb3cgeyBmb250LXNpemU6MTZweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBtYXJnaW4tbGVmdDphdXRvOyBmbGV4LXNocmluazowOyB9CiAgLnNjYW5uZXItY29ybmVyczo6YmVmb3JlLCAuc2Nhbm5lci1jb3JuZXJzOjphZnRlciB7IGNvbnRlbnQ6Jyc7IHBvc2l0aW9uOmFic29sdXRlOyB3aWR0aDoyOHB4OyBoZWlnaHQ6MjhweDsgYm9yZGVyLWNvbG9yOiMyMmM1NWU7IGJvcmRlci1zdHlsZTpzb2xpZDsgfQogIC5zY2FubmVyLWNvcm5lcnM6OmJlZm9yZSB7IHRvcDoxMnB4OyBsZWZ0OjEycHg7IGJvcmRlci13aWR0aDozcHggMCAwIDNweDsgYm9yZGVyLXJhZGl1czo0cHggMCAwIDA7IH0KICAuc2Nhbm5lci1jb3JuZXJzOjphZnRlciB7IGJvdHRvbToxMnB4OyByaWdodDoxMnB4OyBib3JkZXItd2lkdGg6MCAzcHggM3B4IDA7IGJvcmRlci1yYWRpdXM6MCAwIDRweCAwOyB9CiAgLmZvb2QtcmVzdWx0IHsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZTIpOyBib3JkZXItcmFkaXVzOiAxOHB4OyBwYWRkaW5nOiAxNnB4OyBtYXJnaW4tYm90dG9tOiAxNnB4OyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAuZm9vZC1uYW1lIHsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dCk7IG1hcmdpbi1ib3R0b206IDRweDsgfQogIC5mb29kLWJyYW5kIHsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogdmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tYm90dG9tOiAxNHB4OyB9CiAgLmZvb2QtbWFjcm9zIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgMWZyKTsgZ2FwOiA4cHg7IG1hcmdpbi1ib3R0b206IDE2cHg7IH0KICAuZm9vZC1tYWNyby1jaGlwIHsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZSk7IGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDEwcHggNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAuZm9vZC1tYWNyby1jaGlwLXZhbCB7IGZvbnQtc2l6ZTogMTVweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQpOyB9CiAgLmZvb2QtbWFjcm8tY2hpcC1sYmwgeyBmb250LXNpemU6IDlweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQzKTsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OyBtYXJnaW4tdG9wOiAycHg7IH0KICAuc2VydmluZ3Mtcm93IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMnB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlKTsgYm9yZGVyLXJhZGl1czogMTRweDsgcGFkZGluZzogMTBweCAxNHB4OyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KICAuc2VydmluZ3MtbGFiZWwgeyBmb250LXNpemU6IDEzcHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS10ZXh0KTsgZmxleDogMTsgfQogIC5zZXJ2aW5ncy1jdHJsIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4OyB9CiAgLnNydi1idG4geyB3aWR0aDogMzJweDsgaGVpZ2h0OiAzMnB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS10ZXh0KTsgY3Vyc29yOiBwb2ludGVyOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDE7IHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4xNXM7IH0KICAuc3J2LWJ0bjphY3RpdmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi1zb2Z0KTsgfQogIC5zcnYtdmFsIHsgZm9udC1zaXplOiAxN3B4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dCk7IG1pbi13aWR0aDogMzZweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgLnNjYW4tc3RhdHVzIHsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAxMnB4OyBmb250LXNpemU6IDEzcHg7IGNvbG9yOiB2YXIoLS10ZXh0Mik7IGZvbnQtd2VpZ2h0OiA1MDA7IH0KICAuYnRuLW91dGxpbmUgeyB3aWR0aDogMTAwJTsgcGFkZGluZzogMTNweDsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGNvbG9yOiB2YXIoLS10ZXh0Mik7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXdlaWdodDogNjAwOyBmb250LXNpemU6IDE0cHg7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYm9yZGVyLXJhZGl1czogMTZweDsgY3Vyc29yOiBwb2ludGVyOyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgLmJ0bi1zY2FuIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGdhcDogOHB4OyBwYWRkaW5nOiAxM3B4IDIwcHg7IGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UyKTsgY29sb3I6IHZhcigtLXRleHQpOyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxNHB4OyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDE2cHg7IGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDEwMCU7IG1hcmdpbi1ib3R0b206IDEwcHg7IHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4xNXM7IH0KICAuYnRuLXNjYW46YWN0aXZlIHsgYmFja2dyb3VuZDogdmFyKC0tZ3JlZW4tc29mdCk7IH0KCiAgLyogV2VpZ2h0IHRyZW5kICYgYWRhcHRpdmUgbWFjcm9zICovCiAgLndlaWdodC1jYXJkIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhMWYxMiwgIzBhMTUyNSk7IGJvcmRlcjogMS41cHggc29saWQgIzFhM2EyNTsgYm9yZGVyLXJhZGl1czogMjBweDsgcGFkZGluZzogMTZweDsgbWFyZ2luLWJvdHRvbTogMTRweDsgfQogIC53ZWlnaHQtaGVhZGVyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogZmxleC1zdGFydDsgbWFyZ2luLWJvdHRvbTogMTJweDsgfQogIC53ZWlnaHQtc3RhdCB7IHRleHQtYWxpZ246IHJpZ2h0OyB9CiAgLndlaWdodC1zdGF0LXZhbCB7IGZvbnQtc2l6ZTogMjJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQpOyBsZXR0ZXItc3BhY2luZzogLTAuNXB4OyB9CiAgLndlaWdodC1zdGF0LWxibCB7IGZvbnQtc2l6ZTogMTBweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQzKTsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OyB9CiAgLndlaWdodC1jaGFydCB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDYwcHg7IH0KICAud2VpZ2h0LWJhZGdlcyB7IGRpc3BsYXk6IGZsZXg7IGdhcDogNnB4OyBtYXJnaW4tdG9wOiAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7IH0KICAud2VpZ2h0LWJhZGdlIHsgcGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDcwMDsgfQogIC53ZWlnaHQtYmFkZ2Uub24tdHJhY2sgIHsgYmFja2dyb3VuZDogIzBkMmQxYTsgY29sb3I6ICMyMmM1NWU7IH0KICAud2VpZ2h0LWJhZGdlLnRvby1zbG93ICB7IGJhY2tncm91bmQ6ICMyZDFmMDU7IGNvbG9yOiAjZjU5ZTBiOyB9CiAgLndlaWdodC1iYWRnZS50b28tZmFzdCAgeyBiYWNrZ3JvdW5kOiAjMmQwZjBmOyBjb2xvcjogI2Y4NzE3MTsgfQogIC53ZWlnaHQtYmFkZ2UubmV1dHJhbCAgIHsgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZTIpOyBjb2xvcjogdmFyKC0tdGV4dDIpOyB9CiAgLmFkYXB0aXZlLWJhbm5lciB7IGJhY2tncm91bmQ6ICMwZDFlM2Q7IGJvcmRlcjogMS41cHggc29saWQgIzFlM2E1ZjsgYm9yZGVyLXJhZGl1czogMTJweDsgcGFkZGluZzogMTBweCAxNHB4OyBtYXJnaW4tdG9wOiAxMHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjBhNWZhOyBmb250LXdlaWdodDogNjAwOyBsaW5lLWhlaWdodDogMS42OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7IH0KICAubG9nLXdlaWdodC1idG4geyBiYWNrZ3JvdW5kOiBub25lOyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWdyZWVuKTsgY29sb3I6IHZhcigtLWdyZWVuKTsgYm9yZGVyLXJhZGl1czogMjBweDsgcGFkZGluZzogNXB4IDE0cHg7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1mYW1pbHk6IGluaGVyaXQ7IGN1cnNvcjogcG9pbnRlcjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfQogIC8qIENvcHkgeWVzdGVyZGF5ICovCiAgLmNvcHkteWVzdGVyZGF5LWJ0biB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDZweDsgd2lkdGg6IDEwMCU7IHBhZGRpbmc6IDExcHg7IGJhY2tncm91bmQ6IHZhcigtLWJsdWUtc29mdCk7IGNvbG9yOiAjNjBhNWZhOyBib3JkZXI6IDEuNXB4IHNvbGlkICMxZTNhNWY7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDEzcHg7IGN1cnNvcjogcG9pbnRlcjsgbWFyZ2luLWJvdHRvbTogMTBweDsgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjE1czsgfQogIC5jb3B5LXllc3RlcmRheS1idG46YWN0aXZlIHsgYmFja2dyb3VuZDogIzFlM2E1ZjsgfQogIC8qIFdlaWdodCBjaGVjay1pbiBtb2RhbCAqLwogIC5iaWctaW5wdXQgeyBmb250LXNpemU6IDM2cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMTZweDsgYm9yZGVyLXJhZGl1czogMThweDsgbGV0dGVyLXNwYWNpbmc6IC0xcHg7IH0KICAubG9nLWVudHJ5IHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyBwYWRkaW5nOjEwcHggMDsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC5sb2ctZW50cnk6bGFzdC1jaGlsZCB7IGJvcmRlci1ib3R0b206bm9uZTsgfQogIC5sb2ctZW50cnktaWNvbiB7IHdpZHRoOjM2cHg7IGhlaWdodDozNnB4OyBib3JkZXItcmFkaXVzOjEycHg7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgZm9udC1zaXplOjE2cHg7IGZsZXgtc2hyaW5rOjA7IH0KICAubG9nLWVudHJ5LWluZm8geyBmbGV4OjE7IG1pbi13aWR0aDowOyB9CiAgLmxvZy1lbnRyeS1uYW1lIHsgZm9udC1zaXplOjEzcHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6dmFyKC0tdGV4dCk7IHdoaXRlLXNwYWNlOm5vd3JhcDsgb3ZlcmZsb3c6aGlkZGVuOyB0ZXh0LW92ZXJmbG93OmVsbGlwc2lzOyB9CiAgLmxvZy1lbnRyeS1tYWNyb3MgeyBmb250LXNpemU6MTFweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBtYXJnaW4tdG9wOjJweDsgZm9udC13ZWlnaHQ6NTAwOyB9CiAgLmxvZy1lbnRyeS10aW1lIHsgZm9udC1zaXplOjEwcHg7IGNvbG9yOnZhcigtLXRleHQzKTsgZm9udC13ZWlnaHQ6NTAwOyBtYXJnaW4tdG9wOjFweDsgfQogIC5sb2ctZW50cnktYWN0aW9ucyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjZweDsgZmxleC1zaHJpbms6MDsgfQogIC5sb2ctYWN0aW9uLWJ0biB7IHdpZHRoOjMwcHg7IGhlaWdodDozMHB4OyBib3JkZXItcmFkaXVzOjEwcHg7IGJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTsgZm9udC1zaXplOjE0cHg7IGN1cnNvcjpwb2ludGVyOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgdHJhbnNpdGlvbjphbGwgMC4xNXM7IH0KICAubG9nLWFjdGlvbi1idG46YWN0aXZlIHsgdHJhbnNmb3JtOnNjYWxlKDAuOTIpOyB9CiAgLmxvZy1hY3Rpb24tYnRuLmVkaXQgeyBjb2xvcjp2YXIoLS1ibHVlKTsgYm9yZGVyLWNvbG9yOiMxZTNhNWY7IGJhY2tncm91bmQ6dmFyKC0tYmx1ZS1zb2Z0KTsgfQogIC5sb2ctYWN0aW9uLWJ0bi5kZWwgIHsgY29sb3I6dmFyKC0tcmVkKTsgIGJvcmRlci1jb2xvcjojN2YxZDFkOyBiYWNrZ3JvdW5kOnZhcigtLXJlZC1zb2Z0KTsgfQogIC5sb2ctdG90YWwtcm93IHsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBwYWRkaW5nOjEwcHggMCAwOyBtYXJnaW4tdG9wOjRweDsgYm9yZGVyLXRvcDoycHggc29saWQgdmFyKC0tYm9yZGVyKTsgfQogIC8qIFVzdWFsIEZvb2RzIHRpbGUgKi8KICAudWYtcm93IHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyBwYWRkaW5nOjlweCAwOyBib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CiAgLnVmLXJvdzpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTpub25lOyBwYWRkaW5nLWJvdHRvbTowOyB9CiAgLnVmLWljb24geyBmb250LXNpemU6MjJweDsgZmxleC1zaHJpbms6MDsgd2lkdGg6MzJweDsgdGV4dC1hbGlnbjpjZW50ZXI7IH0KICAudWYtaW5mbyB7IGZsZXg6MTsgbWluLXdpZHRoOjA7IH0KICAudWYtbmFtZSB7IGZvbnQtc2l6ZToxM3B4OyBmb250LXdlaWdodDo3MDA7IGNvbG9yOnZhcigtLXRleHQpOyB3aGl0ZS1zcGFjZTpub3dyYXA7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczsgfQogIC51Zi1tYWNyb3MgeyBmb250LXNpemU6MTFweDsgY29sb3I6dmFyKC0tdGV4dDMpOyBmb250LXdlaWdodDo1MDA7IG1hcmdpbi10b3A6MXB4OyB9CiAgLnVmLWJhZGdlIHsgZm9udC1zaXplOjlweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjojZjk3MzE2OyBiYWNrZ3JvdW5kOiMyZDFhMGU7IGJvcmRlcjoxcHggc29saWQgIzNkMmUwMDsgYm9yZGVyLXJhZGl1czo4cHg7IHBhZGRpbmc6MnB4IDZweDsgZmxleC1zaHJpbms6MDsgfQogIC51Zi1zdGVwcGVyIHsgZGlzcGxheTpub25lOyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo2cHg7IGZsZXgtc2hyaW5rOjA7IH0KICAudWYtc3RlcHBlci5hY3RpdmUgeyBkaXNwbGF5OmZsZXg7IH0KICAudWYtc3RlcC1idG4geyB3aWR0aDoyOHB4OyBoZWlnaHQ6MjhweDsgYm9yZGVyLXJhZGl1czo4cHg7IGJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTsgY29sb3I6dmFyKC0tdGV4dCk7IGZvbnQtc2l6ZToxNnB4OyBmb250LXdlaWdodDo3MDA7IGN1cnNvcjpwb2ludGVyOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgbGluZS1oZWlnaHQ6MTsgdHJhbnNpdGlvbjphbGwgMC4xNXM7IH0KICAudWYtc3RlcC1idG46YWN0aXZlIHsgYmFja2dyb3VuZDp2YXIoLS1ncmVlbi1zb2Z0KTsgYm9yZGVyLWNvbG9yOnZhcigtLWdyZWVuKTsgfQogIC51Zi1zdGVwLXZhbCB7IGZvbnQtc2l6ZToxM3B4OyBmb250LXdlaWdodDo4MDA7IGNvbG9yOnZhcigtLXRleHQpOyBtaW4td2lkdGg6MThweDsgdGV4dC1hbGlnbjpjZW50ZXI7IH0KICAudWYtYWRkLWJ0biB7IGZsZXgtc2hyaW5rOjA7IHBhZGRpbmc6NnB4IDEycHg7IGJhY2tncm91bmQ6dmFyKC0tZ3JlZW4tc29mdCk7IGJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ncmVlbik7IGJvcmRlci1yYWRpdXM6MTBweDsgY29sb3I6IzRhZGU4MDsgZm9udC1zaXplOjExcHg7IGZvbnQtd2VpZ2h0OjcwMDsgY3Vyc29yOnBvaW50ZXI7IHRyYW5zaXRpb246YWxsIDAuMTVzOyB9CiAgLnVmLWFkZC1idG46YWN0aXZlIHsgYmFja2dyb3VuZDp2YXIoLS1ncmVlbik7IGNvbG9yOiNmZmY7IH0KICAudWYtdGFwLWJ0biB7IGZsZXgtc2hyaW5rOjA7IHBhZGRpbmc6NnB4IDEycHg7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpOyBib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTsgYm9yZGVyLXJhZGl1czoxMHB4OyBjb2xvcjp2YXIoLS10ZXh0Mik7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo3MDA7IGN1cnNvcjpwb2ludGVyOyB0cmFuc2l0aW9uOmFsbCAwLjE1czsgfQogIC51Zi10YXAtYnRuOmFjdGl2ZSB7IGJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZSk7IH0KICAudWYtcmVwZWF0LXJvdyB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6MTBweDsgcGFkZGluZzo2cHggMDsgfQogIC51Zi1yZXBlYXQtcm93Om5vdCg6bGFzdC1jaGlsZCkgeyBib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDc0LDIyMiwxMjgsMC4xNSk7IH0KICAubG9nLXRvdGFsLWxhYmVsIHsgZm9udC1zaXplOjEycHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6dmFyKC0tdGV4dDIpOyB0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOjAuOHB4OyB9CiAgLmxvZy10b3RhbC1tYWNyb3MgeyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0KTsgfQoKICAvKiBFZGl0IGVudHJ5IG1vZGFsICovCiAgLmVkaXQtbWFjcm8tZ3JpZCB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7IGdhcDoxMHB4OyBtYXJnaW46MTRweCAwOyB9CiAgLmVkaXQtbWFjcm8tZmllbGQgbGFiZWwgeyBmb250LXNpemU6MTBweDsgZm9udC13ZWlnaHQ6NzAwOyBjb2xvcjp2YXIoLS10ZXh0Mik7IGxldHRlci1zcGFjaW5nOjFweDsgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlOyBkaXNwbGF5OmJsb2NrOyBtYXJnaW4tYm90dG9tOjVweDsgfQo8L3N0eWxlPgo8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgaHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNQUFBQURBQ0FZQUFBQlMzR3dIQUFBSVZFbEVRVlI0bk8zZDIyOGNaeG5IOGQvTTdNRzdhOGRPWXE5TFNKdVQ0Z1lxMHRKS1ZTdEZSQWdFNGhMeEovQW5SRndqdUVVUkV2ZUl5M0xESFhjVlYxUmNJRUZGRDFMVnFnV3BJcVVtYXVyRTU4TXVGeHNYZTNlOTNwbDUzM2ZHODN3L1VsVEZiajBqKy9uTys4NGUzRWdGMjduWDdSZDlEaWhPOC81cVZPVHhneCtjZ2Nja29ZTUljakNHSGxtRWlNSHJBUmg4dU9BekJDOWZtTUdIRHo1Q2NQb0ZHWHlFNERJRUoxK0l3VWNSWElRUTUvMENERCtLNG1MMmNnWEE4S05vZVdjdzB4TEM0S09Nc215SlVxOEFERC9LS3N0c3BncUE0VWZacFozUnFaZU1Jb2QvYld1MXFFTWpoL2xXdDdCalQ3c2RtdXBmQ2ozOERIdzFoUTVpbWdocUlVNWtHZ3g5OVIzOUdSZTVPaHgxYWlFK3IvNE1QU1MvTVp5MkNreThDV2I0RVlMUFdUaHRoaytzdzlmd00vaVl4TmRxY05KS2tQdWxFR2t3L0RoTjZCa1pXNFhycXorRGp5eGNyd2JqVmdIdkt3RERqNnhDek01SUFDNnYvZ3cvOG5JNVErTm0yOXNLd1BEREZaK3pkQ3dBVjFkL2hoK3V1WnFwNFJsMy9rd3d3ei93NW9PV2Z2Ylg4OTZQOCtNcm0vcjV0Ny8wZnB3eVdOdGFkWDVqL05VSzRPTHF6L0RETnhjemRuVFdnejRQQUpTTnN3QzQraU1VbDdOV2svSnZmeGorNHJ6L0grazNmLzcvMzE5NFJ2cmV6ZUxPSjVTODl3TTc5N3I5NXYzVmlDMFFUTXNkQUZkL0ZNWEY3T1VLZ09GSDBmTE9ZTXdiM1dIVnpyMXVuM3NBbUpZNUFMWS9LSXM4czhnS0FOTUlBS1psQ29EdEQ4b202MHl5QXNBMEFvQnBCQURUVWdmQS9oOWxsV1UyV1FGZ0dnSEFOQUtBYVFRQTB3Z0FwaEVBVENNQW1FWUFNSTBBWUJvQndEUUNnR2tFQU5NSUFLWVJBRXdqQUpoR0FEQ05BR0FhQWNBMEFvQnBCQURUQ0FDbUVRQk1Jd0NZUmdBd2pRQmdHZ0hBTkFLQWFRUUEwd2dBcGhFQVRDTUFtRVlBTUkwQVlCb0J3RFFDZ0drRUFOTUlBS1lSQUV3akFKaEdBRENOQUdBYUFjQTBBb0JwQkFEVENBQ21FUUJNSXdDWVJnQXdqUUJnR2dIQU5BS0FhUVFBMHdnQXBoRUFUQ01BbUVZQU1JMEFZQm9Cd0RRQ2dHa0VBTk1JQUtZUkFFd2pBSmhHQURDTkFHQWFBY0EwQW9CcEJBRFRDQUNtRVFCTUl3Q1lSZ0F3alFCZ0dnSEFOQUx3Wkw4WDVqaHgxQTl6b0lvaUFFLzJlbEdRNDlSRUFIa1FnQ2ZyZTJFQ1NGZ0JjaUVBVHg3dUpFR09Vd3ZUV1dVUmdDZWZiWVlLNFBqTlJrd1FxUkNBSng4OXJnYzVUanMrSGtDTm4yZ3FmTHM4Mk5pUDlNOG50U0RIbW8wUGp2MmRBTkxoMitYQjN4ODJkUkRvM3JRekhFQ1luVmRsRUlBSGJ6NllDWEtjV0gyMWhnS284eE5OaFcrWFl4djdrZjcwb0JYa1dPZHIreHErNSswMGd4eTZNZ2pBc1RjKzZXaGpQOHhETVl1MXZaR1B6UkZBS2dUZzBIKzNFLzN1dzdsZ3gxdE1ka2MrUmdEcEVJQWp2YjcwaTdjWGdsMzlKV2xwYUFXSUk2bmRDSGI0U2lBQVIzNzkvam05OVhtNHkyODdQdENGb1FBdWRqUnlUNERKd2p4WVhXRUhmZWxYNzg3cjk1OTBnaDczdWNiMnlNZVdaNE9lUWlVUVFBNGZQNm5wbDI4djZCOWZoTjkzakF1Z0crNzJveklJSUlNUDF1cDY0K09PL3ZocE85Z1RYa2ZOeEQxZHFvL2VBQzhUUUdvRWNJSmVYOXJ0UlZyZmkvWFpWcUovcmRmMDNxTzYvdko1VTU5dUZQdHR1OVhjVUR6MFBvQk9RMW9LdXd1ckJBSjQ2cWR2TGVwdkQ4di9FRXFzdm03TmJJNTgvUHJGQWs2bUFuZ1U2SXk1M3R4V2UramxEeElCWkVVQVowZ1M5ZlZ5Ky9ISXgxdDE2ZkpDK1BPcEFnSTRRMjdQckkrOC9GbVN2dlUxS2VFSmdFd0k0SXlZaXc5MHU3VSs4dkU0R2dTQWJBamdESWpWMTNmbnZoajdCdmlWcGNFalFNaUdBTTZBVnp1UHg3N3lzeFpMcjE4TmZ6NVZRZ0FsZDdPNXFXL09iSXo5M0N1WGVmVm5YZ1JRWXRlYlc3b3orK1hZejUyYmtWNTVOdXo1VkJFQmxOUzF4cGJ1emo0YSsrck9KSkorZElzM3dMdkFNOEVsOUZMcmlWNXVQem54ODNldTg3b2ZWd2lnUk9wUlgzZG5INDE5cGVlaGJ5eExMMTRLZUZJVlJ3QWxjYVd4cmRjNmF5Ty81dVNvbFNYcCt5c0JUOG9BQWlqWVhMS3YxOXVQZFhuQ1ZWK1NiaTVKUDN5ZWQzeTVSZ0FGT1ovczZYWnJYZGVhVzZjK0V2SHFjOUpyVjRLY2xqa0VFRkFTOWZWc2ZVY3J6YzFUci9pUzFFaWtIenpQS3oxOUlnRFA2bEZmeS9VZFhXdHM2MnBqUy9VcGY1Ly9qWXZTZDI3d1JKZHZxUU9ZYjNXMXRyWHE0MXdxWVRZKzBQbmFucFpydTNxbXZxdkYybTZxSjF2bVo2UzdONlNyRjd5ZFltWE50N3FwL3h0V2dGUEU2aXVKcEVSOUpkSGd6MHpVVXp2dXFSVWZxQlgzMUlrUHRKRHNheUhabS9vS1AreGlaL0RTaHBVbGZzZC9TQVR3MUcvdlBEejI5eis4SS8xN3plOHhrM2h3cFg5aG1TdCtVUWdnc0hvaWZYMWV1cmtvM1ZnYzNPaWlPSmtDNEQ1Z2VuUE53ZmJtMHJuQjJ4YTdzMnh4Zk1peS81ZFlBVkpMb3NIVzVmQlBMUjY4SjdmZGtEcFAvem5YbEM2MEIzL3FYT0ZMalFCTzhKUGJSWjhCUXNqOGd0cXNTdzdnV3A1WjVCWGxNQzF1M2wvbGxnd21OZSt2UnJsV0FMWkJLRnJlR2N5OUJTSUNGTVhGN0hFUEFOTmlhYkFYeXZORldBVVFXdDZaTzV4NVp5c0FFU0FVbDdQR0ZnaW1mUldBaTRkRFdRWGdtNHNaT3pycnpsY0FJb0F2UG1icldBQ3VuaFFqQXJqbWFxYUdaOXpiUFFBUndCV2ZzelFTZ011WFJoQUI4bkk1UStObTIvdWpRRVNBckVMTXpvbFgrNTE3WGVmL0MyamVSWVpwK0JqOGszWTJRWjhIWURYQWFVTFB5TVQ5dm85VjRCQ3JBWTd5T2ZpVDdtc25yZ0ErM3l2QWFvQkRSUTIvTk9VdkcvYTVFaHhpUmJBbHhBVndtZ3Q0YWQ0VWYvUWJRZ3pWVk1aVmYrb3RUb2hWNENRRWNUWVZPZkRUYnQ5VDdmR0xqQUNZVnBwNzExUVBnL0lHZXBSZDJobE4vVHdBRWFDc3NzeG1ybUZtUzRReXlITlJ6dlZNTUtzQmlwWjNCbk8vRklJSVVCUVhzK2QwZU5rU0lRU1hGMTB2VjI5Q2dBOCtkaHRldHkrRUFCZDhick9EN044SkFWbUV1TDhNZmdOTERKZ2s5SU1xaFQrQ1F4QzJGZjBvNHY4QVBZZjZiS0c5U2UwQUFBQUFTVVZPUks1Q1lJST0iIC8+CjxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgaHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFMUUFBQUMwQ0FZQUFBQTl6UVl5QUFBSHpFbEVRVlI0bk8zZHoyOGJaUjdIOGMvTStIZWNKaTJSMHg4QkNyVGRGaEFJQ2UydTJHNGxxbDBKaVF2OER4d1JseDZRK0I5NjRjNko2KzVxajN2WXZTR3RWZ0lKQWVLQWtQZ2h0SUlJYlp1bWJlb2tqdmRndVVyaWNUemplWjVuN0svZnIwc1YxL1ZNblhlL2ZtWThjU09WcUh1cjB5OXorL0NqZm5zekttdmJ3VFpNdklzdFZPUmVOMExFU09NemJpOFBUTWpJd2tmWVRoK1FrREVObDJFN2VTQkNoZ3N1d282TFBnQXh3eFVYTFJVS21wamhXdEdtcGhyeGhJd1FwbG1DNUo3UXhJeFFwbWt0VjlERWpORHlOcGQ1cEllT2VXdG5NK1Rta05OS3N4TjBlMW1YSDVudUZDSm1BcDV2SVFMUEV2WEVPL2lNbVlodDhobjNwS2dyM3JaOEFrSzJiZmo5RGIwc2tTWk1hTmZUbVpBWGsrdXdUNXJTWTg5eUVETmNjZjI5UDZuTjFOSmR4a3pJT016bHRFNmIxSVd2NVRnSk1lTTQzMDJNQk8xcU9oTXp4bkhWUmxxclhpWTBNV01TWDQwY0NkckZkQ1ptWk9XaWxlUE5PcDNReEl5OFhEZnorQ2l4NkhSZTVKaS8yNjdvN1gvNWZSUGhuMi84ckxYR2dkZHRsS25vMlkvaEdROG5FM3FSWTRZYnJocnlldG9PQ0MyV2lpMDNtTTV3cFVoTHc0WUxYWnhFek9GODlCK3BlZWoxOUozZlNhMWFlZnZqeTliT1pxSDFORXNPbURKMTBFeG4rRktrTFNZMFRJbW5PU0JrT3NPM2FScnIzdXIwbWRBd2hhQmhTdTZnV1c0Z2xHbGFZMExERklLR0tRUU5VM0lGemZvWm9lVnRqZ2tOVXdnYXBoQTBUQ0ZvbUVMUU1JV2dZUXBCd3hTQ2hpa0VEVk1JR3FZUU5Fd2hhSmhDMERDRm9HRUtRY01VZ29ZcEJBMVRDQnFtRURSTUlXaVlRdEF3aGFCaENrSERGSUtHS1FRTlV3Z2FwaEEwVENGb21FTFFNSVdnWVFwQnd4U0NoaWtFRFZNSUdxWVFORXdoYUpoQzBEQ0ZvR0VLUWNNVWdvWXBCQTFUQ0JxbUVEUk1JV2lZUXRBd2hhQmhDa0hERklLR0tRUU5Vd2dhcGhBMFRDRm9tRUxRTUlXZ1lRcEJ3eFNDaGlrRURWTUlHcVlRTkV3aGFKaEMwRENGb0dFS1FjTVVnb1lwQkExVENCcW1FRFJNSVdpWVF0QXdoYUFkNlBYOWJ5UHl2d2tUQ05xQjdUMy9UMk1TQmZoWFl3QkJPeEFpNkFwQlowTFFEbXp2K1YwUXhPcXo1TWlJb0IzNGVTZngrdmpWbE9rY1VYZ3FnbmJneXpzMXI0L2ZpZzlHYnF2d25VdkYwK0xBVjU2RFhvcDdJN2NSZERxZWxvSit2Ri9ScjQvOFBvMUx5ZEdnNDRnbHh6Z0VYZEJmZjJoNTMwWTczai95ZGRYdmtuMnVFWFFCM1Y2a3Z3Y0krb25LM3BHdjIzNVhPSE9Ob0F2NHkvY3RiZTM2ZndyWGttTkIxNzF2Y200UjlKUysyNjdvdzY5UGVkOU9PKzZwY2V3c3h6SkJqMFhRVStqMklyMy82V2wxZS82UHpOYXJ1eU8zTFRlOGIzWnVFWFJPRC9ZanZmdnZNL3BtcXhwa2UwL1ZIbzNjMW1rSDJmUmNxcFM5QS9Qa3F6czFmZkRacW42OEgrWnBpOVhYUnBXZzh5RG9ETDYrVzlYSDM3YjFqNSthQ25tSjBJVmFkK1J0NytXNjFBeno0akNYQ1BxUWJpL1N3LzFJdnp4SzlQMTJSVi9lcWVtVFgrcjZJZEJFUHU1cS9lSEliUmRXU3RpUk9iS3dRWC82YTEzdmZQSkUyYnN4MXFsa1gwK21ySitmbWQxZG5na2NGTTZvNXhzUFJtNUxJdW5wMHlYc3pCd2g2QmwwS3RuWDFjYm9jdVBKMDFLTnQ3MVBSTkF6NkxldGU0cFREajlmT2xmQ3pzd1pncDR4RzdWSHFlZWVWNXZTeFRNbDdOQ2NJZWdaMG9wN3VyRjBOL1gzWGo0ZmRsL21GVUhQaUZqUzY4dDNScTdia0FiVCtVV1dHNWtROUl6NFEvdXUxaXVqMTIxSTB2Vm5CbWM0TUJsQno0RFhsclowT2VWTkZHbXdibjZXYzgrWkxld2JLN01nVmwrdnRiZDBaVXpNN1pyMDV5dUJkMnJPRVhSSm12R0JiaTcvYit3eUk0NmtONjV4M1VaZUJGMkNqV3BYMTl0MzFVcjVhZTZobTVlbDgvNS9mc0FjZ2c2b0ZmZjArNlY3dWxqYk9mRitOeTlKejY4SDJpbGpDRHFBWm55Z0Z4cjNkYTN4SVBWVGtJYmlTSHI5a3ZUQzJZQTdad3hCZTNRbTJkUFZ4a05kcmorYytPbWhyWnIwNWpYcEhNdU1RZ2phc1pWa1h4ZHJPM3F1dnFQVlpIL3lIOURnQ3JvL1haR1crSGlDd2dpNmdGaURLK002bFYyZHJYWjFycnFiK3JGZDQ3UnIwbzNucEV0ci92WngwZVFLZXFYWjBkYk9wcTk5bVFteCtrcWk0YTk5VmFPK0d0R0JtbkZQemZoQXJmaEFwNUo5clNaN1drbDZxVmZGVGRLcVNhOWNHRnc5eDZjZ25XeWwyY2wxLzRXZDBLK3VkZlg1Vy85OS9QVlBXOUxmdnZDN3piV2xRY1RYMXFXRTkyaTlXTmlnUTFsdFNwZlhwTjkwcERQK1B6VnM0UkcwUTNFMENQanNzclN4S20yczhMRmRvZVVPZWhIVzBZZkYwV0I1a01SU0paSXFpZFNxRHRiQnJkcmd6TVJxWXpCOVQ3Y0c5NGNiZWRmUEVoUDZzWTBWNmIwL2xyMFhLSXBERTVnUzEyOXY1bjZSbk9hbEFNaGptc2JxdHpjakpqUk1tVHBvcGpSOEtkSVdFeHFtRkFxYUtRM1hpallWUzRQRmRGazdBQXdWYVduWU1Fc09tT0lrYUtZMGluTFYwT09naXl3N0pLTEc5SXEyYzdoZHAwc09va1plcnBzNUVuVFJLUzBSTmJKejBjcnhacjBjRkJJMUp2SFZ5RWpRTHFhMFJOUVl6MVViYWExNlBXMUgxRGpPZHhOanAzSDNWc2ZwZjhtM1NEOFVnRkd1UXg2M2toZzdvVjB0UFlhWTFvc3JWTXpTQ1JONnlQV2tscGpXaThMSEVKczBhRXY1RWF6aFg1U3diU3J6MVRqVHNzTEhsRDZPdU9kYmlJaXpMSU16cjVORFJIMFlnYysyMEZNNDZ6RmRyZ08vMEZFRFVyNFRGTG5PUTdzKzh3Rk1rcmU1M0crc0VEVkNtYWExUW5HeUJJRVBSWVptb2JlK21kWndyV2hUaGEvbElHcTQ0cUlscHpHeUJNRTBYQTVGTDlPVnNKR0ZqMWQzcjhzRndrWWFuOHZVWU90ZjRsNXNvWTYxU2oyZ0kzS2J5anhSOEgveHdOaUh5cmFBZmdBQUFBQkpSVTVFcmtKZ2dnPT0iIC8+CjxsaW5rIHJlbD0ibWFuaWZlc3QiIGhyZWY9ImRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKdVlXMWxJam9nSWtwbGNtVnRlU2R6SUUxaFkzSnZJRUZ3Y0d4cFkyRjBhVzl1SWl3Z0luTm9iM0owWDI1aGJXVWlPaUFpU21WeVpXMTVUV0ZqY204aUxDQWlhV052Ym5NaU9pQmJleUp6Y21NaU9pQWlaR0YwWVRwcGJXRm5aUzl3Ym1jN1ltRnpaVFkwTEdsV1FrOVNkekJMUjJkdlFVRkJRVTVUVldoRlZXZEJRVUZOUVVGQlFVUkJRMEZaUVVGQlFsTXpSM2RJUVVGQlNWWkZiRVZSVmxJMGJrOHpaREl5T0dOYWVHNUlPR1F2VFRkTlJ6ZGhPR1JQV1hFNVRGTktkVlEwWjFseE1IUktTMVpUZEVaU1FXZEZOR2hNZUVvdlFXNVNSbmRxZFVWVlVrVjJaVWw1TTB4RVNGaGpWbFl4VW1OSlJVWkdSREZNVm5GblYzQkpjVlZ0WVhWeVJUVTRUWFZHZUhOWVpUTmxPVE53YkRVek0yWkhPRE4zTDFWc1ZFWmlhakJxS3k5dVR5czROR1V6UldkR01qZHVXRGRTWkRsRWFXaFBPQzgxY1ZaUFZIaG5lQ3RqWjJOamEyOVpUVWxqYWtOSFNHeHRSV2xOU0hKQlVtZzRkVTlCZWtKRE9XWnRUVWRJUkhvMVEyTlFiMFpIV0hsRk5FUkpSVW94SzBsM1ZXTlNXRWxSVVRVdk1FTkVSQ3RMTkcxTU1tTm5XRUU0UzA1dlpWZGpkekI0VEVNMFMwOU5jMjE1U2xWeE9FRkVSQzlMUzNOMGMzQm5jVUUwVldaYWNGb3pVbkZhWlUxSmIyUXZZbGQxTVhGRlRXcG9MMnhYZERkQ2FsUTNjMlJ0ZFhCbVEyb3pPRVJJZHpGb1VUVnBiV2RvY1VsVk5XdEhaM2c1T1ZJek9VZFNaVFZQYUhneFlXbEZLM0l2TkUxUVUxTXZUVnA1TWtOcmVUaERWMkkwUlZsTVVGZFVhSFJvYXl0emR6bG1kMDB2YVZsNFRtUnhZMDVLUzJ0UWRXeEZSMnQzTDBSb1RqWkNhMXBYTkZoeWNYb3JSR3A1ZUdOeWQySnFWbWRJZGt0M1JFUnFObmhEZWswMVNVRkRObll2WjNjdk9HNUpOVkVyVG0weU9YTkxkMUJFUkVaYUszcGtRM2RCVmpGa0wyaG9LM1YxV25Gd05GSnNNeTlyZDNkM2VpOTNOVzlQVjJaMllsZzRPVFpRT0N0TmNtMHZjalYwTnk4d1puQjNlVmRPZEdGa1dEVnFMMDVWU3pSUFRIRjZMMFJFVG5oamVtUnVWRmRuZWpSUVFVcFRUbk4zUXpRcmFVMVZiRGRPVjJzdlNuWm1lR29yTkhKNkwwZ3Jhek5tTHpjdk16RTVORkoyY21WNlpVeFBTalZUT0RsM1RUYzVOM0k1TlhZelZtbERNRkZVVFhOa1FVWmtMMFpOV0VZM1QxVkxaMDlHU0RCbVRFOVpUWGRpTTFkSVZucHlNWFZ1TTNOQmJVcFpOVUZNV1M5TFNYTTRjemhuUzBGT1RVbEJTMXBzUTI5RWRFUTRiMjAyTUhsNVFYTkJNRUZ2UW5CQ1FVUlVWV2RtUVM5b09XeHNWMVV5VjFGR1owZG5TRUZPUVV0QllWRlJRVEIzWjBGd2FFVkJWRU5OUVcxRldVRk5TVEJCV1VKdlFuZEVVVU5uUjJ0RlFVNU5TVUZMV1ZKQlJYZHFRVXBvUjBGRVEwNUJSMEZoUVdOQk1FRnZRbkJDUVVSVVEwRkRiVVZSUWsxSmQwTlpVbWRCZDJwUlFtZEhaMGhCVGtGTFFXRlJVVUV3ZDJkQmNHaEZRVlJEVFVGdFJWbEJUVWt3UVZsQ2IwSjNSRkZEWjBkclJVRk9UVWxCUzFsU1FVVjNha0ZLYUVkQlJFTk9RVWRCWVVGalFUQkJiMEp3UWtGRVZFTkJRMjFGVVVKTlNYZERXVkpuUVhkcVVVSm5SMmRJUVU1QlMwRmhVVkZCTUhkblFYQm9SVUZVUTAxQmJVVlpRVTFKTUVGWlFtOUNkMFJSUTJkSGEwVkJUazFKUVV0WlVrRkZkMnBCU21oSFFVUkRUa0ZIUVdGQlkwRXdRVzlDY0VKQlJGUkRRVU50UlZGQ1RVbDNRMWxTWjBGM2FsRkNaMGRuU0VGT1FVeDNXa3c0V0RWcWFIZ3hRVGw2YjBsdmFVRkZMekpsYkVkUk5EbFNSVUZJYTFGblEyWnlaVEpGUTFOR1owSmphVVZCVkhnM2RVcEZSMDlWZDNaVVYxZFZVbWREWldaaVdWbExORkJxVGxKcmQxRnhVa05CU25nNE9YSm5ZelZVYW5NclNHdERUbTR5WjNGbVRITTRNazVwVURsTk9HNTBVMFJJYlc4d1VHcDJNbVJCVGt4b01pdFlRak40T0RKa1VrUnZNM0pSZWtoRlExbHVWbVJzUlVsQlNHSjZObGxEV0V0alYwZ3lNV2huUzI4NGVFNU9hRmNyV0ZsNGRqZHJaamN3YjBKWWExZFBaSElyZUhFck5Tc3dNR2Q0ZVRaTloycEJjMVJqS3paWGFHcFFPSGhFVFZsMU1YWmFSMUI2VWtaQlMyZFVaekJJS3pORkx6TjFkemRzWjNneGRFMWthMk1yVW1kRWNFVkpRV3AyWWpjd2FUZGpXR2RzTXpsS1YyeHdZVUZYU1VrMmJtUkRTR0kwVTJsQlFWSXpOemt2YW0wNU9WaHROSGt5T0RkUWRFTkdiMUZCZFdScVVubFVORVJLZDJwNFdWaFhSVWhtWld4WU56ZzNjamsxT1RCbmFEY3pkV05pTW5sTlpWZGFORTlsVVdsVlVWRkJOR1pRTm01d2JESTRkalpDT1dab1Rqa3pha0YxWjBjck56SnZla2xKU1VsTlVERjFjRFkwSzA5UEwzWm9jRTg1WjFSWWEyWk9lRVF4WkhGdkwyVkJRemhVVVVkdlJXTkpTbVZZT1hKMFVsWnlabWt2V0ZwV2NVb3ZjbVJtTUROeFR6WXZka28xVlRVNWRVWlFkSFIxT1ZoalZVUjZNRkJ2UWs5Uk1XOUxkWGQxY2tKQlNqUTJjV1IyVEdWd2RrUTRkaTlGUlhGemRtMDNUbUpKTlRndlVISkdRV3MyYlVGdVoxVTJTWGsxTTNSNFYyVXJhbXhFZUVsQ1drVlZRVm93WjFNNVpsWjVLeTlJU1hneGRERTJaa3BESzFCUGNFRm5TVFJSTWpkUWNra3JPQzlHYlZOMmRsVXhTMlZGU21kRmQwazBTWGxaYVhjNU1IVTNWU3M0ZGtVMFIyZFRRV0pCYW1kRVNXcFdNVE5tYm5ab2FqZENkbWxXY0dORmFsRk5hVWRCVFRaQlZucDFVSGczTjNsemVGcE1jakU0VG1aNk5WWlJaMEZzWkRkUE5YRlhMMDlpU1hvNU0wTjFXR1ZtVm01WVoxSlJXWFJsWWxjM2Izb3JLMWhaZWpVeVltdFdOVFZPZFhvMVZrSkZRbXhPVXpGNGNHSjFlbW8wWVNzcmNrOUtTa29yWkVsek0zZE1ka0ZOT0VWc09VWk1jbWxXTlhWUWVtNTRPRE5sZFRnM2IyWldkMmxuVWs5d1VsZ3paRzVJTkRFNWNHVmxhR0o1ZUV4TU1UUkxaVVpKVmxKM1FXeGpZVmQ0Y21Sak5tRjVUeTgxZFZOdmJGTlljQ3Q1YzBKVU9HOUJRV2xxV1ZoTVMzWXhPWFZRWkZodVExWldLMU5pYVRWS1VETjVaV1F6ZVRWU1owRkdUMW92Y3paWVduSllaR1ZoVnpaakswVjJTSEZqT1VweVZqUkxZMnhxYTBWRlJrRlRPV1pXYzJaVlkzSjZZekZVY2k5cFV6RkZhV3RJZW5wUVMzb3hPVWxuUkZBMmJFWm1lUzlWWkZoWGRITTJNbkJxVXk5VmNHWTFMeTlxV1haVFpESTNkMUpLWkhaeFVVOVpZak5YTVhSeVdIRTBNWGR4V1ZSWkt6QlFibUZ1Y0ZweWRUTnhiWFp4ZGtZeWJUWnhTakYyYlZvMlV6ZE9ObE55UmpkNVpGbHRXRTUwTjNGd0wzaDBWMmRHVUVVMmFYVktjRVZTT1Vwa1NHZDZNSHBWVlhwMmRYRlNWV1p4UWxnek1VbHJVSFJLUkhOaGVVaGFiUzl2UzFBcmVHbGFMMFJUYUhCVmJHWnpaQzlUUVZSM01VY3ZkbEJFZWpJNWVpczRTUzh4TjNwbE9IaHJNMmgzY0ZnNWFHMVRkQ3RWVVdkbmMwaHZhV1pZTVdWMWNtdHZNMVpuWXpOUGFXbFBTbXRETkVRMVoyVnVVRTUzWm1KdE1ISnVRako0WVRkek1uaDRaazFwZVM4MVpGbEJWa3BNYjNOSVZ6Vm1RbEJNVWpZNFNqZG1aR3RFY0ZBdmVtNVliRU0yTUVJekwzRllUMFpNYWxGQ1R6aEtVR0pTV2poQ1VYTnFPR2QwY1hOVGR6ZG5WM0ExV2pWQ1dHeE5RekYxTTJ3dmJHeG5kMjFPWlN0MlVuSnNWMEZNV2tKTFJuSmxSMk41T1VKVFNVTkdUVmhHTjBoRlVFRk9UbWxoWWtGWWVYWk9SbGRCVlZGWGREWmFUelY0TlZwNWMwRkZVMEZWYkRkUVIwWm5hVzFtVWxkQmFUUmtSRmRSV0dkdE5ITmFUM3B5Y25wc1kwRkpiMEYyVUcxaWNsZEJRM1Z1YUZGcVFYSnFiV0Z4WVVkYU9YcGlVRkZCVW5kQ1YyWnplbEZUWjAxMVdGSm9RVUk0YmtrMVVTdE9iVEl2ZFdwUlJWTkJja1ZNVFhwdmJGZ3JOVEUzV0dWbUwwTXlhbVZTV1Zwd0swSnFPR3N6V1RKUldqaElXVVJZUVdGVlRGQjVUVlE1ZG04NVZqUkNRM0pCV1RkNVQyWnBWRGR0YzI1eVowRXJNM2wyUVdGdlFrUlNVVEl2VGs5VmRrY3ZZVFZGYUhocFVtSkJiSGhCVm5kdFozUTBZV1EwVldZdlVXSlJaM3BXVmsxYVZtWXJiM1JVYjJoV05FTlJSV05VV1ZaUFprUlVZblE1VkRkbVIweHFRVU5aVm5Cd056RXhVVkJuTDBsSFpYQlNaREpvYkU0dlZIZEJSV0ZEYzNOemVHMXliVVp0VXpSUmVYbElUbEo2ZGxaTlRVdHpRbWx3V2pOQ2JrOHZSa2xKU1ZWQ1VWaHpLMlF3WlU1clUwbFJVMWhHTVRCMlZqSTVRMmRCT0N0a2FIUmxkSGtyUlVGQ1pEaGljazlFTjA0NFNrRldiVVYxVERoTlptZE9URVJLWjJzNVNVMXhhRlFyUTFGNFF6SkdaakJ2TkhZNFFWQlpaalppUzBjNVUyVXdRVUZCUVVGVFZWWlBVa3MxUTFsSlNUMGlMQ0FpYzJsNlpYTWlPaUFpTVRreWVERTVNaUlzSUNKMGVYQmxJam9nSW1sdFlXZGxMM0J1WnlKOUxDQjdJbk55WXlJNklDSmtZWFJoT21sdFlXZGxMM0J1Wnp0aVlYTmxOalFzYVZaQ1QxSjNNRXRIWjI5QlFVRkJUbE5WYUVWVlowRkJRV2RCUVVGQlNVRkRRVmxCUVVGRU1HVk9WRFpCUVVGYVdtdHNSVkZXVWpSdVR6TmtlVFE1YXpVemJsazBZbU4xV0ZneVptNW9kRzVUUVRaMlJXbHRTM0JGVWt4clUxVnBiRzlSTkhSdGVsbFJTa2t2U1dSelJUbHBZVUZ6ZGtVMmJUSjVNRU5TVEVFNFRVcEJUblEwUlRoTlRFOUNVVVZEU2toRVowSkNXVVZKTTBSblYwWmlhM2xNU25OcGVWbHdhMWhRYWxSTksyeFBOSFJwVjNvd2VtWmhkWEZqSzNBNE16TnRaa0o1UWtkRE0xZ3hObFpRWkRVdk0xWmtNRFprUjJkU1RIUm1kakZMTDNSa1luZE9RV2xXWVM4NFpUWm5Oakl6U1hoTk5YVm5VMFZRTUVONGVEQkVkemRrUlVkSFVGVkJNMUpOUm1rM1RIZGFSMlpuUVZwU1NVVnpOMGQ2ZW5ORVVVSTJhVXhIUkdsa1NGaFJSVUY0SzJkWWQxUkNheXQ1VVZGM2VDdG5TRFJVUVdvclVtWnJZMWtyWjBFMVdsa3JRblJFS3poM1VUbEJVazQwVVZOUVpFUkhMM2RCU0VOV1lrTkxWRFJaVVRFNVFVZGhVa2xSV2pZdlVVMWhMMEZCYzI5ek9HaE5UM2cyUVRsd2FTdEJUM2R4UkRkUWEzUTJWbFJhSzJaTVFVTTJNRGRtVm1kT056aE5RVmt2UVUxMlVXeDRRMjh2YjJOM0swRkliMUYxTUdoVlVGVXhRVWxaTDBGR01uQm1VVnBXVjFNck1UY3pVVUVyY1ZoSE1WbEVjVlpuUVUxbWQwSkxWU3RPYzNGcGIwRmhkSHBDUVU5U1VUSTBlWEZaYzIxcGRIQXdTMUZITkRGdVFrbHZabWRZUVRoQlpXZE9hbGhOY25GSlJHOUpXV1JEUVVKSVMxZ3lSMFppYkVWVlpuQlBRVFJDV214SWFFdHZUR2RXUVUxTlptZE1OSEJqWWxsV1JsRkJiRGRwUVVGaFJVcHdUVFkyV1VGRGFIUjRkMEpCTURCeFlXUlZWVVZSUldzM1FrRkVZVlpOY2swMmVuZEJVM1JyVWtGTVFYTktZM2tyVkdkUFoyaENNRUZCUmpOdlpXZGFNa1puUW1RdkswRkJNRXhWZFZveVJXNUJWMFEwUVRoQ1ZWWjZUbmcyVkdOdFRWQjVXRGN2Y1dSa04zWmxRa3RCZVU4cmRGaDFkRFpGWkVwYU9YTTJRMnhtYWxCRWRuZ3dSMUJNUW5OQmNVVmtlVFI1UVhCWU1HcDNOemcxUW1vMVVVZHJTRkZ1UjFaR2QwWkxLMmxsUnk5SFFVMW1jVWt3WjFkTmQzbEpjVVF4WWpKRU5IbzROMEZDTDNCSFJVMTVkVGRSYUc4NVkwVk9MemROZWpsSlJYTjRUVVJhZEZKclFqUTNXV1Z0VGsxYUsydENSMmcwT1RsWmNVRTNjbHBYUmxZdkwwaE5MMmRDU0dsVlJXcDBabGRMYTBGeVJESnlORWc0TTJkQ2VtbGFSVVJvWVVkNFNGRXJRVTFoTDI4NGVUbEJTRzFKZDFsbE1WaFJSWFZCWVdkS1VWa3ZkMGRKVDJweFRrTnZRakpPTVc5U1dDOTNXUzlSUm5WRlVVeFBja0ZKTVRsSFNrUm9ZaTluUkhSTmEzaDBkR3hhTWpCb1NscENMeXRtYVd0Q2JHbDJOMkZyUVZSTGQwZDFRVlpwUVhkUkwxRkVaR05JVEVjM2FGVjNRbHBZTHpCaUwyZEVaSGt6YjNOaWJVd3lUSEpUUld0SVNEUmFMekZzUVhsb1pIaDBWMEZTVlRSR1RraFpVbGxCWVVkUU1FTTFTRXRPYmswell6VmFTSEl4TnpWalMyOURObHBXWjFCdFdGRlhkMEZ1UVV0M2VDdG5VRzgzWkhBMWMzSkJURXM0SzNaalRFSkdRM1pNVFdaM1pWZGxlWFIzUldWSlkzTjJSRlZFWm1WaWRtYzRWMXBsUVdWcU4zRXpMMFJJTmtJdksyNDFjMjR5WXpKNmVGRkJhR280UVhSbGNqZE5XRGRYUjJVd2FYZEpMekV2VW1ORVFVMW1ObmM0TkdOQlNERXJPV1U0V0VGcFExQlFhQzk2V2pWdVZuRlRPRU0zVUUxMlFWRkVTR016Um1jMGJFMUJhR280UVcxWFprSnRVVXRuWWpoMkwyMWFPWGRCUWpkV2REVnNkekZ3YldSaVoxZG5ZakE0TUVGSmRreFBRblJQUkZsQkszWm1jbEFyUVZGRVkwUmFPVzFvUm01dFpERndWbWRFTmpsTlVVTXdTVFZOY3l0TVJVRlBhbFJ4TXpoQmVVOVRNRWRhTjJsaVdVTmFhVzgzS3l0TFRXWlVLMGxtTHprM2JISnFaV3BMU2xCb1ptNTZla2d2TW5jMk9ESm5OVFkzWm1WVVprWXlkMDQzWm5keVFUaEJaR2RXYUd4dGVEZEZRakJKWm13dmQzaFFTVUZFZERaTlRVMVBWMjFYT1ROWlJtOUJPVkJJUVVSa05uWk5jMDlVU1VGaGJpOHhNeXRqYmtSSlJHeHhiakp0U0VSbVZHVTNjME5CUVVGamNqTmpRbFZJZFhCQlZrTmxVSE0yVjFoblZrRklOVGhuUVUxeVVYUjRibnBTUVVSVlpYWTJMMkl3T0UxQlQxZHdaR1JaWTA1a2REZDBVVWxCUVVwNFRreDNTMmN4YVVsRWIwUTFPVzFVYlZCQ1JVTk9lUzg1T1dWVFNVRnhSV1ZPY3l0bWVFZGFMMmx6ZDBOQlptNXBORWd2UjNZdmRuWmFMeThyYWxsalUzWm1jbTA1TjFsSFlWWllNRXR2VFZsRFFUWkJabUZ3T1VJeFVWcEJOMVJ6WldkUWNsWlFTWFlyVG1kQ2NWQlFPRkJCU25wa05GWnNaalZSY0VGNlkxVkdVVXd2VlU5d1QzRkVRVUZCV1VSSVZrSlZRM1J3VVZaQlpqbFZORzAyYjB0blFuQXpUVUZCTlRGRVlXcG9hRVYxUVVGVFFVeEJOVzFtYWxWeVFVeFhWa1pSUkRVeFJGTnljV2RyUVVGTFFUVldVVkpCVkZWVlJsRkhOakY2UzNkeFFXZEJRV0ZLV1VGQlNVTkZhV2NyUVZkd1dsTkJUMEpCUkdKT2NqWkRNa0ZCU2tSTU4zUmxkamRDWlRsQmJFSkVVVkZJUVZWVmNXWlpWVlZJUVVGRVVXcHRTVVJ2VUZKNVFXOUVWR3hFZWt4cFp6QkJRVXRCT1VGblFVRkZhVzk1UVVWd1pVMW5SMEZYV2xFMk1EUnZUVUZCUTJkWVVVbEJRVUpKY1V4blFrdFlVMjlDWjBodFZrOU9kVXREZDBGQmIwZ3dRMEZCUVZORlowRkJhMFpDVWtGV1JHbFBVa2xCWVVWS2NFMDJObTlCUVVGQmJHdE5RVUZGUWtOQlowRkJSV2x2YlVGRmJ6ZE9kMGxCVkZOMGNERm9WVlJCUVVSQk9HZG5RVUZGYUVsQlFVSkJVV3RWUlZGRmJtNVNRVU5uVkdGWVRYWkRTVU5CUVVKWlRHZEZRVUZCYTBwQlFVSkpVMEZCUVZGRlNVTkJRVUZUUldkQlFXdEtRVUZCU1VORlQyY3JRVlYwTkZCRFVVUk1WWE5NY3paNmQwRkJTVVJzUlhkQlFXdEtRVUZCU1VORlFrRkJRVXBEVVVGQlEwRm9RVkZCUVVOUmEwRkJSV2hKUVVGQ1FWRm5TVUZCUWtsVFFVRkRVV3RCUVVGblNWRkZRVUZCYTBwQlFVRkpRMFZDUVVGQlNrTlJRVUZUUldkQlFVVkNRMEZuUVVGRmFFbEJRVXBEVVVGQlEwRm9RVkZCUVVOUmEwRkJRV2RKVVVWQlFVRnJTa0ZCUWtsVFFVRkJVVVZKUTBGQlFWTkZaMEZCYTBwQlFVRkpRMFZDUVVGQlNrTlJRVUZEUVdoQlVVRkJRMUZyUVVGRmFFbEJRVUpCVVdkSlFVRkNTVk5CUVVOUmEwRkJRV2RKVVVWQlFVRnJTa0ZCUVVsRFJVSkJRVUZLUTFGQlFWTkZaMEZCUlVKRFFXZEJRVVZvU1VGQlNrTlJRVUZEUVdoQlVVRkJRMUZyUVVGQlowbFJSVUZCUVd0S1FVRkNTVk5CUVVGUlJVbERRVUZCVTBWblFVRnJTa0ZCUVVsRFJVSkJRVUZLUTFGQlFVTkJhRUZSUVVGRFVXdEJRVVZvU1VGQlFrRlJaMGxCUVVKSlUwRkJRMUZyUVVGQlowbFJSVUZCUVd0S1FVRkJTVU5GUWtGQlFVcERVVUZCVTBWblFVRkZRa05CWjBGQlJXaEpRVUZLUTFGQlFVTkJhRUZSUVVGRFVXdEJRVUZuU1ZGRlFVRkJhMHBCUVVKSlUwRkJRVkZGU1VOQlFVRlRSV2RCUVd0S1FVRkJTVU5GUWtGQlFVcERVVUZCUTBGb1FWRkJRVU5SYTBGQlJXaEpRVUZDUVZGblNVRkJRa2xUUVVGRFVXdEJRVUZuU1ZGRlFVRkJhMHBCUVVGSlEwVkNRVUZCU2tOUlFVRlRSV2RCUVVWQ1EwRm5RVUZGYUVsQlFVcERVVUZCUTBGb1FWRkJRVU5SYTBGQlFXZEpVVVZCUVVGclNrRkJRa2xUUVVGQlVVVkpRMEZCUVZORlowRkJhMHBCUVVGSlEwVkNRVUZCU2tOUlFVRkRRV2hCVVVGQlExRnJRVUZGYUVsQlFVSkJVV2RKUVVGQ1NWTkJRVU5SYTBGQlFXZEpVVVZCUVVGclNrRkJRVWxEUlVKQlFVRktRMUZCUVZORlowRkJSVUpEUVdkQlFVVm9TVUZCU2tOUlFVRkRRV2hCVVVGQlExRnJRVUZCWjBsUlJVRkJRV3RLUVVGQ1NWTkJRVUZSUlVsRFFVRkJVMFZuUVVGclNrRkJRVWxEUlVKQlFVRktRMUZCUVVOQmFFRlJRVUZEVVd0QlFVVm9TVUZCUWtGUlowbEJRVUpKVTBGQlExRnJRVUZCWjBsUlJVRkJRV3RLUVVGQlNVTkZRa0ZCUVVwRFVVRkJVMFZuUVVGRlFrTkJaMEZCUldoSlFVRktRMUZCUVVOQmFFRlJRVUZEVVd0QlFVRm5TVkZGUVVGQmEwcEJRVUpKVTBGQlFWRkZTVU5CUVVGVFJXZEJRV3RLUVVGQlNVTkZRa0ZCUVVwRFVVRkJRMEZvUVZGQlFVTlJhMEZCUldoSlFVRkNRVkZuU1VGQlFrbFRRVUZEVVd0QlFVRm5TVkZGUVVGQmEwcEJRVUZKUTBWQ1FVRkJTa05SUVVGVFJXZEJRVVZDUTBGblFVRkZhRWxCUVVwRFVVRkJRMEZvUVZGQlFVTlJhMEZCUVdkSlVVVkJRVUZyU2tGQlFrbFRRVUZCVVVWSlEwRkJRVk5GWjBGQmEwcEJRVUZKUTBWQ1FVRkJTa05SUVVGRFFXaEJVVUZCUTFGclFVRkZhRWxCUVVKQlVXZEpRVUZDU1ZOQlFVTlJhMEZCUVdkSlVVVkJRVUZyU2tGQlFVbERSVUpCUVVGS1ExRkJRVk5GWjBGQlJVSkRRV2RCUVVWb1NVRkJTa05SUVVsQ1F6TmtjMkprVERCS2VGaElRV2QxWWpSbE5FcEROMVEzYzJWbmRrdE5OSG81Y21walFtVnJUVUZSUzBkelFVUjRjRmxLWkVGWmQxRkJSa2R5TTI5WGJqTlBRM05CTUVKM1FrRkpWM2xCZGtGclFubDRiMnB5T0c1TFRsUjBRbmRNWjJOalQwSkdVVUp2YVdkRFFWRnlNUzlrT1ZReFNtaFNia3hCUTJkTlVVbEJRM1pZWlZoWUsyVnFNWE5TUVU1QldWSjRaMjlzUWxkQlNqWXdUVGx5Y21WQ1QyZE9RVkZEUm1WME9FdDNRazF0Vm1kRFowMVpOSGRWUzJnemNsRkJPSGRUYTBGaFNUUkJaMEZNT1dWSVkxbElPVGQ2TlM5dE5HbFdUVUV3UW1oSVIwTnFVUzgzTW5nd2RsVnRSa2RzZEhoblFWbGxhV05zU0VWelFWRkpSeXRsTWxCak9WTlpWV0ZZTURReWQyTnJRMEZCTkc1blEwRkJiR3RDVDA1eU5qQkJiMEZPUlZWQlVVbEhLMk14TUVGSVJWVkJVVWhOUlVGQ1ZHMDFkakZvWmtaelFVaEhiR28wUWxGQlRrVlZRVkZIUnlzNVpqUnJPWEo2WWpkUmJrUXlTUzlXUjFaalFWSnZOWGRqUTNndlNHeERXVkF6YUhaMFpYUk9TMDVNVnpaSFNFMHJiMG9yTjBGblNIZ3ZURzVCV1ZWU1FVVm1ZbTUyUldSQlFrVlNSVElyYldkSFRVcEJRMnBKT1RJclRqUXpjek5VWVRKcVlrazRaWHBRZHpGRmVtUlVhRWROU2tGRGFrbDJMeTlDWlhSbFlsVkxlVFZXWjBGRlFVSjRURUZGUVdnNWFWQnBVQzk0WjI4cmRrNUxTbGxXUVVkcFYwRkpRa012VDBnM2F5OXFjbW93ZVhNME5YbG1TbmREWTFSWlJtcERVVUZ2ZUVjNUwyWTNVSEpVVTJwWFlVeEJaalVyV1VsblFUSXpWVFJDYWtOUlFXOTNSaTlsU0hOV0x5dHJkbTR2TkRsNlpuWlNaM0p2VUZaNGNWUjRWRmxJWlVWQlFsRm5UaTg0ZW5KaFlpODFlbWMwZFdvcldFWTVia0pSUTA5S2QwTm5XU3N2WTBkaldIWjFVSEl2VWtKbWJWZFFObEJ6UVVsQlNuaEZRVEJNUmk4NGVXWmlPRmRFVUZSbGRGQmpiV3M0TTNkeVFYQm5RMEZaZDJ0Qk5rNUJNek14ZFU0ekx6Qk1ZaTh3TjNsVFFXbE1ieTkyZW1aNE1YY3dTRVZ0YkUxQlkwTjNRa0ZDTTFwbVZHbEpaaTlITDJSeWNtVnFUMHBrU0U0clVHeGpTSE5HTUdsalZ6UjFXbEI2YzBGTmFFVkJNRXBHWmk4dldqSXZUME15VGpaeFpqVnpiMk55THpScWNHZEZRVWhGT0VGUlFXUXJOelV5TVN0TVptWXpaWEEyVFRadmQySjNSSE5EUVVFMGExRkRRVXBtZG1WNldFZzRNbkpqZFdWT2RtWkhWakZrUlZGRVVVSm5SVUZUTTFSNkwycEVLekpTT1dOcVRuTlFia293SzJrMU0xSm5PV2xoTkRCUFFVbG5VVUZ1UlZsQmQwcE1ZM1pFSzAxWUwydG1SaXRRTjNRMWVqTlFOblJ5U3pkMGVtWXJNRVppTmpaQlJYcHJVM2RTU2pobFJ6aFpMeTlVTTB3NFZ6TnlNM1JtTW1sNVpXMTZUVUZTYzA5Sk9DczJkRUpEWTFOQlRrTjVPU3NyVHpSd0x6Z3ZjVmcwY3pWMkt6TkhXWGhIZFhwSU1ETk5SM2ROVjA0MldEQkJaMDlOTlVsclIweDJkbTVsWVhaNllYUjVOMFZxTTJGa1lscDJWakFyVGpkTldqZHFMMlk0VWtWYVpEbHpRMHRqVTJkQ1FVTXZZakpKTXpkcVZEZG1hazR2TjFWb0wzcE5OalpZU201aWJTODVjRXg2THpOQmNVRlJRVTRyT0RjeGJHWnBXR1kzVVZSbUwyZHFUalpMWmpGNlFXbFliSEU1VHk5bVdGZ3pSMHhDVkdsV1FVbERSMlpJYUhaSFVDODJMeko2U0dJek9TOHdObllyUWxReWVuTm9kWEpuTnpJMWRtNVpkMmxNYVRZelprRkhVVkU0U2tGR2FsRXJNMlJJT0dVdksyWkRUaXMyT0RneU5DdGFPVFV2Y1dJNFVFeHhMMDEyTDJ4NlkycFdhMWxPWW1kNk1HeEJRMEZQWmpONFFubDJlRmN2T1haTEx6ZDZXRFl6TlU5T09FZHFVV0kzT0dWS2F5OTFXQzlhT0RReGRVUklVVmwzU1VGNmJXY3ZTWFkzTTJwNVpuZ3pPVFZhYVM4dk5uYzNXRFJ1Y21ZeGRHVkxiSGxrTWpWc0x6aHFTWEEyZUM5Qk9XNDBaMmRIZURsb09VOUphbll6Um1sS1VDODFaeXQwTHk5bVJ6Z3hNM0k1Y21KaWJIUnlOak5sV0hWcWNtNHZWVXA1TTBGdFFXOUNWVGwyV1dvM2FqUmplRTgzUkZGbGVuVkVaVXgxZHpCSVkzWnFLMGxrS3paTk5IQXdOMjh2YVdKUE5sQTBORm94VWk5UFJGZFBURFUzWXpKNGNHWTRiazlxVWpkRk1ETk9LeXRGT1VWNFNWZ3hhVTh6VmtKcVkwbGxhM2RCVlV3eEx5OXpNa3c0Vmk4ck1tbGxMemxOUm5KeGVEaDBPVkJWZGxoSGFHOVJlVUZDYkhsM1JGSldaMW8zVFdSeVlUUnpSbmRKYzBOQlRUVk5RVUZDUm1WSE16RmthM2RYZFZCb2RrNUplRFEzYm5oNk1uZE9PVXAzUTBGNlp6RnFVRGsxWTFncmVtbDJNbk0zUlZkT1NFNUVaM3BtZVRWQk5YbzJlR1ZwWXpKb2R6aFlaVzk0V0V4cVpUQk5Xa05GUVVGQk5rNVphVWx1TVhFdmRHUkNha1JCWTFKeU1YaHhXbTV6WjBOM1JVRmtUM0pXTVZrNWFWb3ZVbWR2WTJRME4yNTZSVEpyYjNveWQwNWFRMEZEWjAwMlVFSm1kbmxrYWxwelRGQTRObkpzZGpsb1dtZEpRVFpOZDJKaE4yUnFXVGhHZWk4MlRtaDRRMk5HUVUxNFRVRkJRMlJYUW5aemVGWnpURzUyZFZCdFJqYzRkQ3RoVjFwcVFYcEJVVUl3Tkc5MVlrNTRZall3U2poRWJqTnRObWRaTWtKb1FWRkJjMGhTVUhJNWVVeFdlR1U0TjFjNVJYaFFiakUyWm5ZdloyUnJTa0ZIUTNCb2NrVm1aak5tZW5jd1dXVjVOblF2YlVvNFFVRktZbkZ5WmxaaVkxZElRblF2TVVaU1JYaEhSVmM0UzBGS2FXSkJRVU5YTlhaTU5HWnVlSFZaTDBWTUwzbExiWGN6TDFaNFdEaDNUbmRGUVV4TlZqUnpRamt2WWl0MVJFZE5ZaXQzYnpneFNFVlNPQzlzYjBSSGQxZEtRMUZDWjB0aU5qQmpWMUJvVHk4MFpHVlBNbkJwU3pOV1VtZzBTekJvU1VGUlQzUmxiblI1U2xRMk9IUTViV3d2UW5kaFJHbEtPU3QyY0VkSVozUlJSVUZPUTNGRE5sQTNPR1JYZEVSNGREZDJSR1YxVW14NldXRlBlbWhKUXpCQ1FVeFNiV1JpUVZoWU9YWXJZMWwzU0drMUx6TnFOV3BsT1habWRFWjRkRFZMUldoUVFVRkRkRWRGWWtWNk1qVXZSVTUxYW5obE56Rm1PV3B1Ym04eldXMXFWREpqU2tOaFFVRkNZVGhsVjNSRUsxQmhlVzAxYW1vM1pTczBkSGN2VGtWclFVRkpNemMwYzJGT1VtMDNNV1U1YUZoWWRtRXJaakpwVTBGQlFXRTVXbTB4Vnk5SVdrSnFOMnczTjBKeVQzaEhkbGd5TXpCSlUwVTVRVkZCTURWMlZ6RXlMMGRzZWxKMVRsQjFXbmRGVUVkNmNucFVObXRGUWtWWFJrRkVSM1pJYlRKeE1UUjFLMGhvU0hoSWVHaGxZMnBNYm01aVNIcFNUMEZCUVV3ck5tNHhWeTlIUm1wbFlVZ3ZOVmQwYVV4a1ptRlFlR2huVWtGQmQwbExLM1ZJUjJvNFdGQXJSVkpJYWxsalVYWm1XSEEyUTJkQ2IyNW5RVUUxYWt3MkswMU9PVmh3Y21OaVpWaDRkaTl4U21sUVVISnlWSGN3UlVGSlFXMU5VRFpqUXprcldXWjBTR05ZYkRoMk5WaElaaTlYY0dsTk9Dc3dPSEJFUVhnNFZFRk5RazF1YUhKbWFUVXZZaTlwUVRKb09ETmtOR1VyZDFNMWMxSllNM1V4YkZsalIwUm9SVUYzU20wNWRWaFpOM1p5YURWSk5HSlNla3d6T1VnM1l6WnFkbWRJWWpCVGMycEdjRFZsVDBGUlFWRkRZMkZxVEZscE5qbDFabEpuZG5SdVV5dFFNa28yYzJRNGRtWjZjR2xhTmpJeFluZEZZMGxuUTBGRk1URmlNbGt5ZG1KSU0xa3ljRXd2WjFvNUwwNWxTMFpETmpFclF5dEJVVUZSUVdOaFZFeFphWGs1ZEROdmFGQk9XSGhRTHpaT09DdFhWek1yYjFac1JYZEVRVVV4TmxrelNUSm1NbUozWlVkNU1pODJieXRKSzFCNU1XbERPRGd4TDNFelFWSTNWR1ZSUkhOeVJpdEtOak5tWlRkWWIzcG5TV2MwVUROdlVXSXlPV1ZpTDFKcVprVXZlVEZxVUZRNUwzUkVUbXAyY2xZM2NtVm9UelJFUVU5cVpWcE1RVmh1T1NzMFIyRXJkak5XTjJGS05GSTVMM0J5YUVReE1GTkJTa1JaWlV4QlpuSTJMMlJxY21aWFlqaFljVmxIT1hBekwyVnVialF2TkcxYVpWYzVkVEpCU1hkblFWTkhaekF5U1M5WVZqWmxSR1l5TWpSMlRVVm1UV0l6WjNwNmJDODJTalJCWjBWU1YwSXpkbmd5ZEhCSU9HVmlZWEpXYUdZNGRVRm1SSGxPS3poaVYwbFdlVFIyT1dSelEzaDRRVUZyVFVSUE5rVkhPSFZZV1RkWWJHNDVTMDFoUkdSMU4ybGtOVXRPVTJOUkwyWkRVR2syZG1KVGRucFdkMFJCUlVGUVZGZE5MMWhvSzNOb2RYWnlaREpQTlRWYU1GWm1PVkp1ZERaUEswOVlXRWszV2xoUE9YTkZORUZuUTBGSWNtMTNkV2dyWmtkeWRGUnVlSGs1WVU1WlZ5dExSbVpWWmpVelRGZEpjamQzT0haak1IWlZTbGxwUVhORE9VRkhRWGhQTmsxSU9HUk1hMkp5ZHpCMVVrOVlWM1p4U1ROc2JYTnFhVThyT1hGdFNWUXhOM0ZsYTNWblVFTllZMEY1UTJsclFVRkJXbTVrZUdSRU9XVnVUbmxPYkRGaWRuaHZWbEk1TUZBdmQwbHpXRWx1TjNWV1ZYWXJWVVJ2UWtGS1ZsbEhLM3BHY3pWUVpIVk1XWGt2VnpoYWRDdHRaSGhsY0RSbGJVOW1Uamw2VkVnMmIyZEJTMEpSTmpoUE9YVkVjU3RHTVdSWE4zTllWRFE1TWpST1REUm1jRm8xU3k4NFUyeHBUQzh2VTNOVWJYQlBjM1JCWXpaeGJVRkNkMGhSUTFweVVYb3lOQ3RNYjJac2QyRXpOQzlNTkROMGVHUllkM1owYTJSc2RtTkpMM2x6VjA0MllYWXJSak15VFV3MWVFcExaV1l2U1hkdlMwRk5hR2RPVG1sUVl6aE5TSE5VVGpaSFQyUklPU3RRYVN0SU5XTkhhakpKTjJSSFJISnFaSFJLY1hacWFVeGtabWxJYW5KWFZtWTBVVFl3UlVGRVVtOU9UbWxRYW1WR1pXSkJOR1o0ZFdKM1dWZDNUVWc0WWpJNFIwZGpSM295U1dNMlRVaHpWbGhaWldaMFduSlplVzF1SzBRemFHVmphVEZzWVRZemFIQm5SVkZMUVRGQldWSk5XV281UjBFMmJTOHpjMWtyZWtWWlZGQTVaRWRsZWtnclQxQXZWblZNYW1aM1pEZE5VbTV6ZURsd2Qwd3hXVWhsTkM4NGRYbzFOSFZRVkRjMmFTOU1aVUpxZURKWFpXMUlLMHQ2WW5aQ1JFeDNlREoyTXpWc0syWmpSbEJaU0hKQlIycGlaaTk1VkdsUEt5c3pMMVpYTVVkR2RFaFFSMXBhZVVrck9TdDZNR1J5TjBFdlJXODJMM2c1YUVKUlFUUjNiMWd4TmxZek9GaHlPRFptWmxWUU9VazRRVUZEU21sbGFraG1lWGhsYm5JdmFHUXhVUzg1U25kQlozVlZkV0l3TlhZelpsQnhTemd2ZFZGVFdFVkNORWcwUVRCTU4zbzJlRWQyV0VrMU5EbFlURVZWTVhSa1luY3pNRmd5Ym00dmVVMUxSRUZEWjBoYVl6TndlQzlQT0RoeWJEWmhkQ3RKUkdOQ1FVUXlNWFpvVEhndlVHNXdLMlozV0V4eWFFNU1MME52U1dkUVFXRlJRMWt6WTFsck5IQnNla1ZqSzJWcE4ya3lUVEV6WVdRMVRTczJSalpLZVM4NFVtaFJXVUZqVEV4S1lVeHhUV1l5VlhJMGRYSXlaRkJFZG5KSVZ6bFdWVUpPUWtGQlZXSkVlVTB5Um0xbVdISlNNMkZYVGpaSWRpdHdUR05OWlZkR2VYaEJaVUV3UVVKdFRXaG9SbUpyTkdsME1Wa3ZMMjB3VTJOWE5YTlBMMUJRY2tWa2RYSllWemhvYzBsb1Uyd3ZPR3BEWnpSQlMwNUlNR04zU1NzdmJtWjNhek01U0djMGFuaGhURzh3VUhnMVJuSkJlVzVJTlhsNlRYQndLMk4wTnpaNWRsTXlkWFZ6Y2pCM0wxSlhVamxRZWpsc056TjZNMUZzWlVrclF5dENlRlpuUlVGeFJraEtjaTgwYWtsdllYSXpNMnBZYUdOSlFXdE5hbkZPT1RSa1JsQTRlRWcyVlZoR1FVRTRjbTlpV2xaWWQwRkJRVVJPUlhkQlFXdEdRVlpCVmtSRVZXZHZRVkpPVVhwek5tOUpRVUZEWjFka1ZVVlJRekZHUWxWQ1pVNWpNbkZaWTFRd04xRkNaR0ozWjBFd1REWkViVll2VGtOclFrVllWMVZHVVVNMk1YcGhhWEZCYVVOcGRtZ3dUVkZRTDFaUFNuVnhRM2RCUVZsSVJsWkNhME5PY0ZGV1FWQTVWVFpyTHpReVFVWjNTVU5CUkRsa2JtcFhWamRyUTBWR1JuWmpVVWhSU0hwWVVHOXRiMFJKUzB4MVNGRTVRVE5YY1daUlZsVklRVUZCZDI0d1kwTnZUV0p5UVVkdmRrMUJSSEZWSzFCelpWaDZSemt5U1VadlRWbHVRVzlCTmpsWFdHMDVRMGxCUVVsRVdsQkNSVUZPV2pSSGFVOW9VR3RSUmxGeWJIQnVlbFpIZW5aV1kzSkJURlVyVFZGRFZYSXlPSHB3YkdOQ1JVNUhMMHAzYVVFM2RsWjRkSFpSZFVGQlEwRXdlREJhUVV4V1pVSXpRMmRxTmxWSFVVUmtjVzU1YmtoNlpsUmxjbWRFVlM5dlVVSXdUREFyZWpWS2FrRTJSREpXV1VOSlptbzVlRUZNVTNKRWVsQnJjRVp1WlRKNFYwRkJNekUwUVdkR1dYSm5lWHB2TDJOQ1JVcElhbWxSVTJkSFZteHRlRzlyUWpCSlpsUkJRVU5STUZkcmVsQk5WVXRSUlZObGIyZE9aMlp3YkcxNFlXdENNRXRrVm1kRmVGQk1RVU42Tm1SUFRVOU5kbk5VY2sxRFkwdENVRlI2UVVGNlkyYzBSemcwVlVGSU1XRkNXV3BKSzFWUlJHTk1VeXQ2V1ZONmVuVjRNRXQzUVVncmRtRkZRWHBETjNwTVRtY3pVRlZIWkU5dVoybGlPU3MxT1RKUGRIZFRRVnBqYnpnclFTdGpaVkZYWjJJMlkwSkVkazlNUVVwQ1NHNDBMelZ6T0hweGRFdGpRVWgwWm01WWQyZEJjR2g2Y21ZeVMyMUJUMnA2UzJ0RFJWaDNlVUZRZFhZM1RWZzNWMGRVTTNwRGIwRkpRVXRCTW1aVUt6SjZlazlpVlRFNFJXVkNkMWhDZDB3d1VUazRTQzk1VEcxMVoyRm5Oelp6UVVJdmVtbEJUbEZ5ZVhwR09ETndibk5KYzBKVVdsQnJSa0YxWjFSNEt6ZFVUR1pTUzJaMlpuSldMMkZpTW5CQllVOURWVUZWVEZwelp6TXJVa1pZYTNKQlJGQkpPVzl6UmxWQ1VFZzJUbXR6WmtNMEx6SjVja0ZCWVhOQ1FVZFlTVTkyWjFoMlVqVjJORkpYUVV4Q1kwVlFhVGR5VEhoNFFWTmlTV1ZwTlhWWmRtUTBSM1ZCUW5aR2QxUnZVblJpUWpNMlZFZFljakZ1VUZKV2QyMUNRVUZoU21aQ016bDZTMlV5VFZoQlYxazVSbGhEV1Znd2VVRTVhbXBIVG1wMGNrZDRMMkZXWjB0dGNrRlpRVTVOVUdkdU1uSTJhR0phY2tGR2Nta3JaME5CZUZKcU9EZFhjR3d5WkRSeGQwNUlSVUZOUkVwRVVESnFkRmhIWVhaaVdIbzVhVXhuWlVWSlFUUkdSVWN2TDBoaGRYTmhkVEZSZGpOU1RVUkthRUZEVVc1alJpOXphbGwyYzBoalRsRkpZMDh2SzB0TVFWTkJURkUzT0UxeVlqa3hlbmx5UVRkTlVVRXdSR1ZITDNWNllXWnVkamxWZERZM1RIZEpWMGwzYVVFeWFHbzBhVEZ1UjNaWVYxZGtkazFsUldSQlkxRlJRMVY0YzBKMmVuSktkWEpNWmxWMUwyVktaMGhaU1VGdFJGcEVVSGd5VEZCUGRYVnJkUzltWVRoSlYwUTJRa0ZOZWt0blJpc3JXbVE1VTNZMVVEYzVOSE5CUVZCcFNreHFOVkJ3TjBWUVFUVnhSa1IzTkVOblMyMTFXbTFKYmtGU1FXaEJaME5uZVRGdVdWZFJRa1ZwUVVGQk9IVndOa0p1V1dGQlFraGtOM2RCUVZkTVdWTmFiQzl1UVZKQ1VuaHZORUZuUjFWdldtVlpWa1ZSUVZJMVpYZFJRVWRvVEZOaVQzVnRRVU5KUzBkMlNFRkZRMVJUY0hSNFVsRldRVkpJYXpkRFFVRlhWbVZLYzBzeU5rUkVibEJFU1VGQ2NWWjFUR2RRTVVSalEzTkNhRXBsT0RSQlJHaEtObFJQY3paQlEwbExTRGhJUVhORWFtRndhR1I0Vnk5bldWVTBTa0ZHUTNsSFoySXZaMlZLV0VGQk5uSmhZMk5EYTBWMGRFMDJjWEZCU1dsdlluZGpSREJJT0RGNmNXSnhUblpuZDNCM1VVRTJSa3RPWnk4NVFXUlRjMEZvT1ZjNE5IZEhiMWNyTUhweFQzRk9VRGg0Y1VGQlJFeFZVSFpuVURsRFRFZ3JTWGRKVVVKQlJ5OXZlU3RCTHpBMmIyTTFWRUZuUVRCSlV5dEVaalJFVmxZNFJHTktTeXRRYlVWQlRFVXJabG93YkhabU4wUkVja0ZaUVUxSmN5dEVMelJFZG1ZNFFraDVZMGRCUkdoTGFIRkdMMWRMYjJZNWFrRm9RVVZDUlhaelJpOUpUMVZRWmxwblVVRk5aM0EySzBFdmExQnhTR1kxZDFsQlQya3pOMFZRTDAxRWRtbERSVWxCYjBZNFRTOXBabHBKVjJOblEwRkVjVmwxUTJaNlp6WmhhMUpuUVV0S1QyaFFlSE0zWVRCSFEwRkxRV0pDZGpWcE4weDNWMmxCUzBGYWFHNHllbUpPUkd3d2QyTkJRbnBPYTBZcmRTOTNPVmxyVlhsdVlVb3hUa3AzUVVGQlFVSktVbFUxUlhKclNtZG5aejA5SWl3Z0luTnBlbVZ6SWpvZ0lqVXhNbmcxTVRJaUxDQWlkSGx3WlNJNklDSnBiV0ZuWlM5d2JtY2lmVjBzSUNKemRHRnlkRjkxY213aU9pQWlMaUlzSUNKa2FYTndiR0Y1SWpvZ0luTjBZVzVrWVd4dmJtVWlMQ0FpWW1GamEyZHliM1Z1WkY5amIyeHZjaUk2SUNJak1XRXhaREpsSWl3Z0luUm9aVzFsWDJOdmJHOXlJam9nSWlObU9UY3pNVFlpZlE9PSIgLz4KPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZSIgY29udGVudD0ieWVzIiAvPgo8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlIiBjb250ZW50PSJibGFjay10cmFuc2x1Y2VudCIgLz4KPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtdGl0bGUiIGNvbnRlbnQ9IkplcmVteU1hY3JvIiAvPgo8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iI2Y5NzMxNiIgLz4KPC9oZWFkPgo8Ym9keT4KPGRpdiBpZD0iYXBwIj4KICA8ZGl2IGNsYXNzPSJoZWFkZXIiPgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQiPgogICAgICA8ZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1zdWIiPjE3MCDihpIgMTYzIGxicyDCtyAzMCBkYXlzPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLXRpdGxlIiBpZD0iYXBwSGVhZGVyVGl0bGUiIG9uY2xpY2s9ImhhbmRsZURlcGxveVRhcCgpIj5KZXJlbXkncyBUcmFja2VyIEFJPC9kaXY+CiAgICAgICAgPGRpdiBpZD0iaGVhZGVyRGF0ZUxhYmVsIiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dDIpO2ZvbnQtd2VpZ2h0OjYwMDttYXJnaW4tdG9wOjRweDtsZXR0ZXItc3BhY2luZzowLjJweCI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8YnV0dG9uIGNsYXNzPSJzZXR0aW5ncy1idG4iIG9uY2xpY2s9Im9wZW5TZXR0aW5ncygpIiB0aXRsZT0iU2V0dGluZ3MiPuKame+4jzwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CiAgPCEtLSBEYWlseSBNb3RpdmF0aW9uIFF1b3RlIC0tPgogIDxkaXYgY2xhc3M9InF1b3RlLWNhcmQiIGlkPSJkYWlseVF1b3RlQ2FyZCI+CiAgICA8ZGl2IGNsYXNzPSJxdW90ZS1pY29uIj7wn5KsPC9kaXY+CiAgICA8ZGl2PgogICAgICA8ZGl2IGNsYXNzPSJxdW90ZS10ZXh0IHF1b3RlLWxvYWRpbmciIGlkPSJkYWlseVF1b3RlVGV4dCI+TG9hZGluZyB0b2RheSdzIG1vdGl2YXRpb27igKY8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icXVvdGUtYXV0aG9yIiBpZD0iZGFpbHlRdW90ZUF1dGhvciI+PC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KCiAgICA8IS0tIFRPREFZIFBBR0UgLS0+CiAgICA8ZGl2IGlkPSJwYWdlLXRvZGF5IiBjbGFzcz0icGFnZSBhY3RpdmUiPgoKICAgICAgPCEtLSAxLiBEYXRlIE5hdiBCYXIgLS0+CiAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luLWJvdHRvbToxMHB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZSk7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxOHB4O3BhZGRpbmc6MTBweCAxNnB4O2JveC1zaGFkb3c6dmFyKC0tc2hhZG93KSI+CiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzaGlmdFNlbGVjdGVkRGF5KC0xKSIgc3R5bGU9ImJhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtmb250LXNpemU6MjBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjp2YXIoLS10ZXh0Mik7cGFkZGluZzoycHggOHB4O2JvcmRlci1yYWRpdXM6MTBweDt0cmFuc2l0aW9uOmJhY2tncm91bmQgMC4xNXMiIG9ubW91c2VvdmVyPSJ0aGlzLnN0eWxlLmJhY2tncm91bmQ9J3ZhcigtLXN1cmZhY2UyKSciIG9ubW91c2VvdXQ9InRoaXMuc3R5bGUuYmFja2dyb3VuZD0nbm9uZSciPuKAuTwvYnV0dG9uPgogICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO2ZsZXg6MSI+CiAgICAgICAgICA8ZGl2IGlkPSJzZWxlY3RlZERheUxhYmVsIiBzdHlsZT0iZm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpIj48L2Rpdj4KICAgICAgICAgIDxkaXYgaWQ9InNlbGVjdGVkRGF5U3ViIiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMDttYXJnaW4tdG9wOjJweCI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzaGlmdFNlbGVjdGVkRGF5KDEpIiBpZD0ibmV4dERheUJ0biIgc3R5bGU9ImJhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtmb250LXNpemU6MjBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjp2YXIoLS10ZXh0Mik7cGFkZGluZzoycHggOHB4O2JvcmRlci1yYWRpdXM6MTBweDt0cmFuc2l0aW9uOmJhY2tncm91bmQgMC4xNXMiIG9ubW91c2VvdmVyPSJ0aGlzLnN0eWxlLmJhY2tncm91bmQ9J3ZhcigtLXN1cmZhY2UyKSciIG9ubW91c2VvdXQ9InRoaXMuc3R5bGUuYmFja2dyb3VuZD0nbm9uZSciPuKAujwvYnV0dG9uPgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gMi4gV2VlayBzdHJpcCAtLT4KICAgICAgPGRpdiBjbGFzcz0id2Vlay1zdHJpcCIgaWQ9IndlZWtTdHJpcCI+PC9kaXY+CgogICAgICA8IS0tIDMuIFdvcmtvdXQgc3RyZWFrIC0tPgogICAgICA8ZGl2IGlkPSJzdHJlYWtDYXJkIiBjbGFzcz0iY2FyZCIgc3R5bGU9InBhZGRpbmc6MTJweCAxOHB4O21hcmdpbi1ib3R0b206MTRweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxNHB4Ij4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MzZweDtsaW5lLWhlaWdodDoxIj7wn5SlPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxIj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojZjU5ZTBiO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbToycHgiPldvcmtvdXQgU3RyZWFrPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MjJweDtmb250LXdlaWdodDo4MDA7Y29sb3I6dmFyKC0tdGV4dCk7bGV0dGVyLXNwYWNpbmc6LTAuNXB4IiBpZD0ic3RyZWFrQ291bnQiPjA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo1MDAiIGlkPSJzdHJlYWtTdWIiPk5vIHdvcmtvdXRzIGxvZ2dlZCB5ZXQ8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJ3ZWVrRG90Um93IiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6NXB4O2FsaWduLWl0ZW1zOmZsZXgtZW5kIj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8IS0tIDQuIFRvZGF5J3MgTnV0cml0aW9uIC0tPgogICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWxhYmVsIiBzdHlsZT0iY29sb3I6IzIyYzU1ZSI+VG9kYXkncyBOdXRyaXRpb248L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbi1ib3R0b206MTJweCI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyLXJhZGl1czoyMHB4O3BhZGRpbmc6M3B4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9InRvZ2dsZUNvbnN1bWVkIiBvbmNsaWNrPSJzZXRSaW5nTW9kZSgnY29uc3VtZWQnKSIgc3R5bGU9InBhZGRpbmc6NXB4IDE0cHg7Ym9yZGVyLXJhZGl1czoxNnB4O2JvcmRlcjpub25lO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6dmFyKC0tZ3JlZW4pO2NvbG9yOiNmZmY7dHJhbnNpdGlvbjphbGwgMC4ycyI+Q29uc3VtZWQ8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0idG9nZ2xlUmVtYWluaW5nIiBvbmNsaWNrPSJzZXRSaW5nTW9kZSgncmVtYWluaW5nJykiIHN0eWxlPSJwYWRkaW5nOjVweCAxNHB4O2JvcmRlci1yYWRpdXM6MTZweDtib3JkZXI6bm9uZTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOnZhcigtLXRleHQzKTt0cmFuc2l0aW9uOmFsbCAwLjJzIj5SZW1haW5pbmc8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBpZD0icmluZ01vZGVMYWJlbCIgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo1MDAiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InJpbmdzLXJvdyIgaWQ9InJpbmdzUm93Ij48L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJtYWNyb1RhcmdldHNSb3ciIHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6OHB4IDEycHg7bWFyZ2luLWJvdHRvbToxMnB4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlciI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojZjU5ZTBiIiBpZD0idGFyZ2V0Q2Fsb3JpZXMiPuKAlDwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6OXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDA7bWFyZ2luLXRvcDoxcHgiPmtjYWwgdGFyZ2V0PC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMyMmM1NWUiIGlkPSJ0YXJnZXRQcm90ZWluIj7igJQ8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjlweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi10b3A6MXB4Ij5wcm90ZWluIGc8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6IzNiODJmNiIgaWQ9InRhcmdldENhcmJzIj7igJQ8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjlweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi10b3A6MXB4Ij5jYXJicyBnPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiNlZjQ0NDQiIGlkPSJ0YXJnZXRGYXQiPuKAlDwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6OXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDA7bWFyZ2luLXRvcDoxcHgiPmZhdCBnPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQzKSIgaWQ9InRhcmdldFNvdXJjZSI+QmFzZTwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6OXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDA7bWFyZ2luLXRvcDoxcHgiPnNvdXJjZTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyIDFmcjtnYXA6OHB4O21hcmdpbi1ib3R0b206NHB4Ij4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1zY2FuIiBvbmNsaWNrPSJvcGVuU2Nhbm5lcigpIj4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxNnB4Ij4mI3gxRjRGNzs8L3NwYW4+IFNjYW4KICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXNjYW4iIG9uY2xpY2s9Im9wZW5QaG90b0FJKCkiIHN0eWxlPSJiYWNrZ3JvdW5kOnZhcigtLXB1cnBsZS1zb2Z0KTtib3JkZXItY29sb3I6IzRjMWQ5NTtjb2xvcjojYTc4YmZhIj4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxNnB4Ij7wn6SWPC9zcGFuPiBQaG90bwogICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tc2NhbiIgb25jbGljaz0ib3BlbkFJU2VhcmNoKCkiIHN0eWxlPSJiYWNrZ3JvdW5kOiMyZDFmMDU7Ym9yZGVyLWNvbG9yOiMzZDJlMDA7Y29sb3I6I2Y1OWUwYiI+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTZweCI+8J+UjTwvc3Bhbj4gU2VhcmNoCiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMHB4O21hcmdpbjo0cHggMCAxMnB4Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTtoZWlnaHQ6MXB4O2JhY2tncm91bmQ6dmFyKC0tYm9yZGVyKSI+PC9kaXY+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMCI+T1IgRU5URVIgTUFOVUFMTFk8L3NwYW4+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjE7aGVpZ2h0OjFweDtiYWNrZ3JvdW5kOnZhcigtLWJvcmRlcikiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLWdyaWQiPgogICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImluLWNhbG9yaWVzIiBwbGFjZWhvbGRlcj0iKyBjYWxvcmllcyAoa2NhbCkiIC8+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iaW4tcHJvdGVpbiIgcGxhY2Vob2xkZXI9IisgcHJvdGVpbiAoZykiIC8+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iaW4tY2FyYnMiIHBsYWNlaG9sZGVyPSIrIGNhcmJzIChnKSIgLz4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJpbi1mYXQiIHBsYWNlaG9sZGVyPSIrIGZhdCAoZykiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4IiBvbmNsaWNrPSJsb2dNYWNyb3MoKSI+TE9HIE1FQUw8L2J1dHRvbj4KICAgICAgICA8ZGl2IGlkPSJtYW51YWxTYXZlU2VjdGlvbiIgc3R5bGU9Im1hcmdpbi10b3A6MTRweDtwYWRkaW5nLXRvcDoxNHB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlcikiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij7wn5K+IFNhdmUgYXMgUXVpY2stQWRkIEZvb2Q8L2Rpdj4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWFudWFsRm9vZE5hbWUiIHBsYWNlaG9sZGVyPSJGb29kIG5hbWUgKGUuZy4gT2F0bWVhbCB3aXRoIGJlcnJpZXMpIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo4cHgiLz4KICAgICAgICAgIDxkaXYgY2xhc3M9InRpbWUtc2xvdC1waWNrZXIiIGlkPSJtYW51YWxUaW1lU2xvdFBpY2tlciI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJicmVha2Zhc3QiIG9uY2xpY2s9InRvZ2dsZVRpbWVTbG90KHRoaXMsJ21hbnVhbCcpIj7wn4yFIEJyZWFrZmFzdDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0ibW9ybmluZyIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnbWFudWFsJykiPuKYlSBNb3JuaW5nIFNuYWNrPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJsdW5jaCIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnbWFudWFsJykiPvCfpZcgTHVuY2g8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBkYXRhLXNsb3Q9ImFmdGVybm9vbiIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnbWFudWFsJykiPvCfjY4gQWZ0ZXJub29uPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJkaW5uZXIiIG9uY2xpY2s9InRvZ2dsZVRpbWVTbG90KHRoaXMsJ21hbnVhbCcpIj7wn42977iPIERpbm5lcjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0iZXZlbmluZyIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnbWFudWFsJykiPvCfjJkgRXZlbmluZzwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tc2F2ZS1mb29kIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O3dpZHRoOjEwMCUiIG9uY2xpY2s9InNhdmVNYW51YWxGb29kKCkiPlNhdmUgRm9vZDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gNS4gRm9vZCByZWNvbW1lbmRhdGlvbnMgLS0+CiAgICAgIDxkaXYgaWQ9InF1aWNrUmVjc0NhcmQiIGNsYXNzPSJjYXJkIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtZWFsLXRpbWUtbGFiZWwiPjxzcGFuIGNsYXNzPSJtZWFsLXRpbWUtZG90Ij48L3NwYW4+PHNwYW4gaWQ9Im1lYWxUaW1lTGFiZWwiPkJyZWFrZmFzdCBzdWdnZXN0aW9uczwvc3Bhbj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJxdWljay1mb29kcy1zY3JvbGwiIGlkPSJxdWlja0Zvb2RzUm93Ij48L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NTAwO21hcmdpbi10b3A6NHB4Ij5UYXAgdG8gcXVpY2stYWRkIMK3IEJhc2VkIG9uIHlvdXIgdXN1YWwgPHNwYW4gaWQ9Im1lYWxUaW1lSGludCI+PC9zcGFuPiBmb29kczwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gNWIuIE15IFVzdWFsIEZvb2RzIOKAlCB0b3AgMTAgbGFzdCAzMCBkYXlzIC0tPgogICAgICA8ZGl2IGlkPSJ1c3VhbEZvb2RzQ2FyZCIgY2xhc3M9ImNhcmQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtbGFiZWwiIHN0eWxlPSJjb2xvcjojZjk3MzE2O21hcmdpbi1ib3R0b206MnB4Ij7imqEgTXkgVXN1YWwgRm9vZHM8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0idXN1YWxGb29kc1N1YnRpdGxlIiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMCI+PC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiIGlkPSJ1c3VhbEZvb2RzVGltZUxhYmVsIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8IS0tIFllc3RlcmRheSBzYW1lLXRpbWUgcmVwZWF0IGJhbm5lciAtLT4KICAgICAgICA8ZGl2IGlkPSJ5ZXN0ZXJkYXlSZXBlYXRCYW5uZXIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMxYTJlMWEsIzBkMWUwZCk7Ym9yZGVyOjEuNXB4IHNvbGlkICMxNjY1MzQ7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTBweCAxMnB4O21hcmdpbi1ib3R0b206MTBweCI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6IzRhZGU4MDtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206NnB4Ij7wn5SBIFNhbWUgdGltZSB5ZXN0ZXJkYXk8L2Rpdj4KICAgICAgICAgIDxkaXYgaWQ9Inllc3RlcmRheVJlcGVhdExpc3QiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9InVzdWFsRm9vZHNMaXN0Ij48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8IS0tIDYuIFByb3RlaW4gcGFjZSBiYXIgLS0+CiAgICAgIDxkaXYgaWQ9InByb3RlaW5QYWNlQ2FyZCIgY2xhc3M9ImNhcmQiIHN0eWxlPSJwYWRkaW5nOjE0cHggMThweDttYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbTo4cHgiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiM0YWRlODA7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZSI+8J+SqiBQcm90ZWluIFBhY2U8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiIGlkPSJwcm90ZWluUGFjZUxhYmVsIj7igJQ8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjhweDtoZWlnaHQ6MTBweDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luLWJvdHRvbTo4cHgiPgogICAgICAgICAgPGRpdiBpZD0icHJvdGVpblBhY2VCYXIiIHN0eWxlPSJoZWlnaHQ6MTAwJTtib3JkZXItcmFkaXVzOjhweDtiYWNrZ3JvdW5kOiM0YWRlODA7dHJhbnNpdGlvbjp3aWR0aCAwLjRzIGVhc2U7d2lkdGg6MCUiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQyKTtmb250LXdlaWdodDo1MDAiIGlkPSJwcm90ZWluUGFjZUhpbnQiPjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gNy4gRGFpbHkgVGFyZ2V0cyAtLT4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1sYWJlbCIgc3R5bGU9ImNvbG9yOiMzYjgyZjYiPkRhaWx5IFRhcmdldHM8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby1ncmlkIj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUiIHN0eWxlPSJib3JkZXItY29sb3I6IzNkMmUwMCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUtbGFiZWwiIHN0eWxlPSJjb2xvcjojZjU5ZTBiIj5DYWxvcmllczwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlLXZhbCI+MiwyMDAga2NhbDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlLW5vdGUiPn42MDAga2NhbCBkZWZpY2l0PC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUiIHN0eWxlPSJib3JkZXItY29sb3I6IzE2NjUzNCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUtbGFiZWwiIHN0eWxlPSJjb2xvcjojMjJjNTVlIj5Qcm90ZWluPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUtdmFsIj4xOTBnPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUtbm90ZSI+UHJvdGVjdCBtdXNjbGUgaW4gZGVmaWNpdDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlIiBzdHlsZT0iYm9yZGVyLWNvbG9yOiMxZTNhNWYiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlLWxhYmVsIiBzdHlsZT0iY29sb3I6IzNiODJmNiI+Q2FyYnM8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWFjcm8tdGlsZS12YWwiPjE5MGc8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWFjcm8tdGlsZS1ub3RlIj5GdWVsIHJ1bnMgKyBsaWZ0czwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlIiBzdHlsZT0iYm9yZGVyLWNvbG9yOiM3ZjFkMWQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYWNyby10aWxlLWxhYmVsIiBzdHlsZT0iY29sb3I6I2VmNDQ0NCI+RmF0PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hY3JvLXRpbGUtdmFsIj42NWc8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWFjcm8tdGlsZS1ub3RlIj5Ib3Jtb25lIHN1cHBvcnQ8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRpcC1ib3giPgogICAgICAgICAg8J+SoSA8c3BhbiBzdHlsZT0iY29sb3I6IzRhZGU4MCI+R29hbDo8L3NwYW4+IDE3MCDihpIgMTYzIGxicyBpbiAzMCBkYXlzLiBFYXQgcHJvdGVpbiBmaXJzdCBhdCBldmVyeSBtZWFsLiBPbiBydW4gZGF5cywga2VlcCBjYXJicyB0b3dhcmQgdGhlIGhpZ2hlciBlbmQuIElmIGVuZXJneSBjcmFzaGVzLCBhZGQgMTAwIGtjYWwgZnJvbSBjYXJicyBvbmx5LgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gOC4gV2Vla2x5IENhbG9yaWUgQmFsYW5jZSAtLT4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCIgaWQ9IndlZWtseUJhbGFuY2VDYXJkIj4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206MTRweCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWxhYmVsIiBzdHlsZT0iY29sb3I6IzhiNWNmNjttYXJnaW4tYm90dG9tOjAiPvCfk4ogV2Vla2x5IENhbG9yaWUgQmFsYW5jZTwvZGl2PgogICAgICAgICAgPGRpdiBpZD0id2Vla1JhbmdlTGFiZWwiIHN0eWxlPSJmb250LXNpemU6MTBweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWVrLWJhbGFuY2UtZ3JpZCIgaWQ9IndlZWtCYWxhbmNlR3JpZCI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0id2Vla2x5LXN1bW1hcnktcm93IiBpZD0id2Vla2x5U3VtbWFyeVJvdyI+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPCEtLSA5LiBXZWlnaHQgdHJlbmQgLS0+CiAgICAgIDxkaXYgaWQ9IndlaWdodFRyZW5kQ2FyZCIgY2xhc3M9IndlaWdodC1jYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWlnaHQtaGVhZGVyIj4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0Myk7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjRweCI+V2VpZ2h0IFRyZW5kPC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4O2NvbG9yOnZhcigtLXRleHQyKTtmb250LXdlaWdodDo1MDAiIGlkPSJ3ZWlnaHRUcmVuZFN1YnRpdGxlIj5Mb2cgeW91ciB3ZWlnaHQgZGFpbHkgZm9yIHRyZW5kIHRyYWNraW5nPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjhweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IndlaWdodC1zdGF0IiBpZD0id2VpZ2h0U3RhdEJsb2NrIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWlnaHQtc3RhdC12YWwiIGlkPSJ3ZWlnaHRUcmVuZFZhbCI+4oCUPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2VpZ2h0LXN0YXQtbGJsIj5sYnMgdG9kYXk8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImxvZy13ZWlnaHQtYnRuIiBvbmNsaWNrPSJvcGVuV2VpZ2h0TW9kYWwoKSI+KyBMb2c8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxzdmcgY2xhc3M9IndlaWdodC1jaGFydCIgaWQ9IndlaWdodFNwYXJrbGluZSIgdmlld0JveD0iMCAwIDMwMCA2MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PC9zdmc+CiAgICAgICAgPGRpdiBjbGFzcz0id2VpZ2h0LWJhZGdlcyIgaWQ9IndlaWdodEJhZGdlcyI+PC9kaXY+CiAgICAgICAgPGRpdiBpZD0iYWRhcHRpdmVNYWNyb0Jhbm5lciIgY2xhc3M9ImFkYXB0aXZlLWJhbm5lciIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICAgICAgICA8c3Bhbj7wn6egPC9zcGFuPjxkaXYgaWQ9ImFkYXB0aXZlTWFjcm9UZXh0Ij48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8IS0tIDEwLiBXb3Jrb3V0IG51dHJpdGlvbiBwcm9tcHQgLS0+CiAgICAgIDxkaXYgaWQ9IndvcmtvdXROdXRyaXRpb25CYW5uZXIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMxYTEwMzAsIzBkMWUzZCk7Ym9yZGVyOjEuNXB4IHNvbGlkICMyYTFmNGE7Ym9yZGVyLXJhZGl1czoxNnB4O3BhZGRpbmc6MTJweCAxNnB4O21hcmdpbi1ib3R0b206MTRweCI+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiNhNzhiZmE7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjZweCIgaWQ9IndvcmtvdXROdXRyaXRpb25UaXRsZSI+8J+Pi++4jyBMaWZ0IERheSBGdWVsPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tdGV4dCk7Zm9udC13ZWlnaHQ6NjAwO2xpbmUtaGVpZ2h0OjEuNiIgaWQ9IndvcmtvdXROdXRyaXRpb25Nc2ciPjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gMTEuIFN0cmF2YSAvIEdhcm1pbiBhY3Rpdml0eSBjYXJkIC0tPgogICAgICA8ZGl2IGlkPSJnYXJtaW5DYXJkIiBzdHlsZT0iZGlzcGxheTpub25lIiBjbGFzcz0iZ2FybWluLWNhcmQiPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHg7bWFyZ2luLWJvdHRvbTo0cHgiPgogICAgICAgICAgPGRpdiBjbGFzcz0iZ2FybWluLWxvZ28iPvCfj4M8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MSI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0KSIgaWQ9Imdhcm1pbkFjdGl2aXR5VGl0bGUiPlRvZGF5J3MgQWN0aXZpdHk8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDIpO21hcmdpbi10b3A6MXB4IiBpZD0iZ2FybWluQWN0aXZpdHlTdWIiPlN5bmNpbmfigKY8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJnZXRTdG9yYWdlKCdzdHJhdmFUb2tlbicsbnVsbCk/ZmV0Y2hTdHJhdmFUb2RheSgpOmZldGNoR2FybWluVG9kYXkoKSIgc3R5bGU9ImJhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtmb250LXNpemU6MThweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjp2YXIoLS10ZXh0MikiIHRpdGxlPSJSZWZyZXNoIj7wn5SEPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZ2FybWluLWFjdGl2aXR5LXJvdyIgaWQ9Imdhcm1pblN0YXRzUm93Ij48L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJnYXJtaW5NYWNyb0Jhbm5lciIgY2xhc3M9Im1hY3JvLWFkai1iYW5uZXIiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICAgICAgPHNwYW4+8J+Orzwvc3Bhbj48c3BhbiBpZD0iZ2FybWluTWFjcm9UZXh0Ij48L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0idG9kYXlTaG9lUm93IiBzdHlsZT0iZGlzcGxheTpub25lO21hcmdpbi10b3A6MTBweDtwYWRkaW5nLXRvcDoxMHB4O2JvcmRlci10b3A6MXB4IHNvbGlkICMxZTNhNWY7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuIj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOiM2MGE1ZmE7Zm9udC13ZWlnaHQ6NjAwIiBpZD0idG9kYXlTaG9lTGFiZWwiPvCfkZ8gV2hpY2ggc2hvZXMgZGlkIHlvdSB3ZWFyPzwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBpZD0idG9kYXlTaG9lQXNzaWduQnRuIiBvbmNsaWNrPSJvcGVuVG9kYXlTaG9lQXNzaWduKCkiIHN0eWxlPSJwYWRkaW5nOjZweCAxNHB4O2JhY2tncm91bmQ6I2Y5NzMxNjtjb2xvcjojZmZmO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MTBweDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlcjtmbGV4LXNocmluazowIj5Bc3NpZ24gU2hvZXM8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8IS0tIDEyLiBUb2RheSdzIEZvb2QgTG9nIC0tPgogICAgICA8ZGl2IGNsYXNzPSJjYXJkIiBpZD0iZm9vZExvZ0NhcmQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtbGFiZWwiIHN0eWxlPSJjb2xvcjojOGI1Y2Y2O21hcmdpbi1ib3R0b206MCI+VG9kYXkncyBGb29kIExvZzwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbGVhckFsbEVudHJpZXMoKSIgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS1yZWQpO2JhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjRweCA4cHg7Ym9yZGVyLXJhZGl1czo4cHg7YmFja2dyb3VuZDp2YXIoLS1yZWQtc29mdCkiPkNsZWFyIEFsbDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gY2xhc3M9ImNvcHkteWVzdGVyZGF5LWJ0biIgaWQ9ImNvcHlZZXN0ZXJkYXlCdG4iIG9uY2xpY2s9ImNvcHlZZXN0ZXJkYXlNZWFscygpIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgICAgIPCfk4sgQ29weSBZZXN0ZXJkYXkncyBNZWFscwogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxkaXYgaWQ9ImZvb2RMb2dMaXN0Ij48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgPC9kaXY+CgogICAgPCEtLSBXT1JLT1VUIFBBR0UgLS0+CiAgICA8ZGl2IGlkPSJwYWdlLWxpZnQiIGNsYXNzPSJwYWdlIj4KICAgICAgPCEtLSBMaXZlIHdvcmtvdXQgdGltZXIgYmFyIC0tPgogICAgICA8ZGl2IGNsYXNzPSJ3b3Jrb3V0LXRpbWVyLWJhciIgaWQ9IndvcmtvdXRUaW1lckJhciI+CiAgICAgICAgPGRpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTo5cHg7Y29sb3I6IzYwYTVmYTtmb250LXdlaWdodDo3MDA7bGV0dGVyLXNwYWNpbmc6MS41cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206MnB4Ij5EdXJhdGlvbjwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1lbGFwc2VkIiBpZD0id29ya291dFRpbWVyRGlzcGxheSI+MDowMDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9IndvcmtvdXQtdGltZXItc3RhdHMiPgogICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1zdGF0Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1zdGF0LXZhbCIgaWQ9InRpbWVyU2V0c0NvdW50Ij4wPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IndvcmtvdXQtdGltZXItc3RhdC1sYmwiPlNldHM8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1zdGF0Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1zdGF0LXZhbCIgaWQ9InRpbWVyVm9sdW1lQ291bnQiPjA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0id29ya291dC10aW1lci1zdGF0LWxibCI+Vm9sdW1lIChsYnMpPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InNlc3Npb24tdGFicyIgaWQ9InNlc3Npb25UYWJzIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCIgaWQ9InNlc3Npb25IZWFkZXIiPjwvZGl2PgogICAgICA8ZGl2IGlkPSJleGVyY2lzZUxpc3QiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYXJkIiBzdHlsZT0icGFkZGluZzoxNHB4IDE4cHg7bWFyZ2luLWJvdHRvbToxNHB4IiBpZD0id29ya291dE5vdGVzQ2FyZCI+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij7wn5OdIFNlc3Npb24gTm90ZXM8L2Rpdj4KICAgICAgICA8dGV4dGFyZWEgaWQ9IndvcmtvdXROb3Rlc0lucHV0IiBwbGFjZWhvbGRlcj0iSG93IGRpZCBpdCBmZWVsPyBBbnkgUFJzLCBpbmp1cmllcywgZW5lcmd5IGxldmVsc+KApiIgc3R5bGU9IndpZHRoOjEwMCU7bWluLWhlaWdodDo3MnB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MTRweDtjb2xvcjp2YXIoLS10ZXh0KTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxM3B4O3BhZGRpbmc6MTBweCAxNHB4O3Jlc2l6ZTp2ZXJ0aWNhbDtvdXRsaW5lOm5vbmU7bGluZS1oZWlnaHQ6MS42Ij48L3RleHRhcmVhPgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJzYXZlV29ya291dCgpIj5TQVZFIFdPUktPVVQg4pyTPC9idXR0b24+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFBST0dSQU0gUEFHRSAtLT4KICAgIDxkaXYgaWQ9InBhZ2UtcHJvZ3JhbSIgY2xhc3M9InBhZ2UiPgogICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uLXRpdGxlIj5ZT1VSIFBST0dSQU08L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS10ZXh0Mik7bGluZS1oZWlnaHQ6MS44Ij48c3BhbiBzdHlsZT0iY29sb3I6IzIyYzU1ZTtmb250LXdlaWdodDo2MDAiPlB1c2ggLyBQdWxsIC8gTGVnczwvc3Bhbj4g4oCUIGNsYXNzaWMgMy1kYXkgc3BsaXQgb3B0aW1pemVkIGZvciBoeXBlcnRyb3BoeSBhdCA1Mi4gUHJvZ3Jlc3NpdmUgb3ZlcmxvYWQgZXZlcnkgc2Vzc2lvbi4gUm90YXRlIEHihpJC4oaSQyBlYWNoIGxpZnQgZGF5LjwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1sYWJlbCIgc3R5bGU9ImNvbG9yOiNmNTllMGIiPktleSBQcmluY2lwbGVzPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icHJpbmNpcGxlLXJvdyI+PGRpdiBjbGFzcz0icHJpbmNpcGxlLXRpdGxlIj5Qcm9ncmVzc2l2ZSBPdmVybG9hZDwvZGl2PjxkaXYgY2xhc3M9InByaW5jaXBsZS1kZXNjIj5BZGQgMi414oCTNSBsYnMgd2hlbiB5b3UgaGl0IHRoZSB0b3Agb2YgdGhlIHJlcCByYW5nZSBvbiBhbGwgc2V0czwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InByaW5jaXBsZS1yb3ciPjxkaXYgY2xhc3M9InByaW5jaXBsZS10aXRsZSI+RGVsb2FkIFdlZWs8L2Rpdj48ZGl2IGNsYXNzPSJwcmluY2lwbGUtZGVzYyI+RXZlcnkgNuKAkzggd2Vla3MsIHJlZHVjZSB3ZWlnaHQgYnkgNDAlIGZvciBvbmUgZnVsbCB3ZWVrPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icHJpbmNpcGxlLXJvdyI+PGRpdiBjbGFzcz0icHJpbmNpcGxlLXRpdGxlIj5SZWNvdmVyeSBhdCA1MjwvZGl2PjxkaXYgY2xhc3M9InByaW5jaXBsZS1kZXNjIj5TbGVlcCA34oCTOSBocnMuIFRoaXMgaXMgd2hlbiBtdXNjbGUgaXMgYnVpbHQuIE5vbi1uZWdvdGlhYmxlLjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InByaW5jaXBsZS1yb3ciPjxkaXYgY2xhc3M9InByaW5jaXBsZS10aXRsZSI+UHJvdGVpbiBUaW1pbmc8L2Rpdj48ZGl2IGNsYXNzPSJwcmluY2lwbGUtZGVzYyI+fjUwZyBwcm90ZWluIHBlciBtZWFsLCA04oCTNXgvZGF5IGZvciBvcHRpbWFsIHN5bnRoZXNpczwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InByaW5jaXBsZS1yb3ciPjxkaXYgY2xhc3M9InByaW5jaXBsZS10aXRsZSI+UnVubmluZyBTeW5jPC9kaXY+PGRpdiBjbGFzcz0icHJpbmNpcGxlLWRlc2MiPktlZXAgcnVucyBlYXN5IChab25lIDIpIG9uIGxpZnRpbmcgZGF5cyBpZiBkb3VibGluZyB1cDwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0icHJvZ3JhbUxpc3QiPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBISVNUT1JZIFBBR0UgLS0+CiAgICA8ZGl2IGlkPSJwYWdlLWhpc3RvcnkiIGNsYXNzPSJwYWdlIj4KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbi10aXRsZSI+TElGVCBISVNUT1JZPC9kaXY+CiAgICAgIDxkaXYgaWQ9Imhpc3RvcnlMaXN0Ij48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gUkVDSVBFUyBQQUdFIC0tPgogICAgPGRpdiBpZD0icGFnZS1yZWNpcGVzIiBjbGFzcz0icGFnZSI+CiAgICAgIDxkaXYgY2xhc3M9ImNhcmQiPgogICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24tdGl0bGUiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjZweCI+8J+TliBSZWNpcGUgQnVpbGRlcjwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQyKTttYXJnaW4tYm90dG9tOjE0cHg7bGluZS1oZWlnaHQ6MS43Ij5CdWlsZCBtdWx0aS1pbmdyZWRpZW50IHJlY2lwZXMuIFNlYXJjaCBpbmdyZWRpZW50cyBmcm9tIFVTREEgb3IgcmVzdGF1cmFudCBtZW51cywgc2V0IHF1YW50aXRpZXMsIHNhdmUgYW5kIGxvZyBpbiBvbmUgdGFwLjwvZGl2PgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1ncmVlbiIgb25jbGljaz0ib3Blbk5ld1JlY2lwZU1vZGFsKCkiPisgQ3JlYXRlIE5ldyBSZWNpcGU8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9InJlY2lwZUxpc3QiPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWxhYmVsIiBzdHlsZT0iY29sb3I6IzhiNWNmNiI+8J+Nve+4jyBSZXN0YXVyYW50IEZvb2QgU2VhcmNoPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dDIpO21hcmdpbi1ib3R0b206MTJweDtsaW5lLWhlaWdodDoxLjYiPlNlYXJjaCByZXN0YXVyYW50cyBhbmQgZmFzdCBmb29kIOKAlCBwb3dlcmVkIGJ5IFVTREEgYnJhbmRlZCBmb29kIGRhdGFiYXNlLjwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206MTBweCI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlc3RhdXJhbnRTZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9ImUuZy4gTWNEb25hbGQncyBCaWcgTWFjLCBDaGlwb3RsZSBidXJyaXRvIGJvd2zigKYiCiAgICAgICAgICAgIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OjQ4cHgiIG9ua2V5ZG93bj0iaWYoZXZlbnQua2V5PT09J0VudGVyJylydW5SZXN0YXVyYW50U2VhcmNoKCkiIC8+CiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJ1blJlc3RhdXJhbnRTZWFyY2goKSIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjhweDt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO3dpZHRoOjM0cHg7aGVpZ2h0OjM0cHg7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6dmFyKC0tYW1iZXIpO2JvcmRlcjpub25lO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToxNnB4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtjb2xvcjojZmZmIj7wn5SNPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwO2dhcDo2cHg7bWFyZ2luLWJvdHRvbToxMHB4IiBpZD0icmVzdGF1cmFudENoaXBzIj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgb25jbGljaz0icXVpY2tSZXN0YXVyYW50KHRoaXMpIj7wn42UIE1jRG9uYWxkJ3M8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgb25jbGljaz0icXVpY2tSZXN0YXVyYW50KHRoaXMpIj7wn4yvIENoaXBvdGxlPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIG9uY2xpY2s9InF1aWNrUmVzdGF1cmFudCh0aGlzKSI+8J+NlSBEb21pbm8nczwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBvbmNsaWNrPSJxdWlja1Jlc3RhdXJhbnQodGhpcykiPvCfjZcgQ2hpY2stZmlsLUE8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgb25jbGljaz0icXVpY2tSZXN0YXVyYW50KHRoaXMpIj7wn6WZIFN1YndheTwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBvbmNsaWNrPSJxdWlja1Jlc3RhdXJhbnQodGhpcykiPvCfjZwgUGFuZXJhPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0icmVzdGF1cmFudExvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmU7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoyMHB4IDA7Zm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tdGV4dDIpIj7wn5SNIFNlYXJjaGluZyBkYXRhYmFzZeKApjwvZGl2PgogICAgICAgIDxkaXYgaWQ9InJlc3RhdXJhbnRSZXN1bHRzIj48L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFRSRU5EUyBQQUdFIC0tPgogICAgPGRpdiBpZD0icGFnZS10cmVuZHMiIGNsYXNzPSJwYWdlIj4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbi10aXRsZSIgc3R5bGU9Im1hcmdpbi1ib3R0b206NnB4Ij7wn5OIIE1vbnRobHkgVHJlbmRzPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iY2hhcnQtdGFiLXJvdyIgaWQ9InRyZW5kQ2hhcnRUYWJzIj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNoYXJ0LXRhYiBhY3RpdmUiIGRhdGEtbWV0cmljPSJjYWxvcmllcyIgb25jbGljaz0ic2V0VHJlbmRNZXRyaWMoJ2NhbG9yaWVzJyx0aGlzKSI+Q2Fsb3JpZXM8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNoYXJ0LXRhYiIgZGF0YS1tZXRyaWM9InByb3RlaW4iIG9uY2xpY2s9InNldFRyZW5kTWV0cmljKCdwcm90ZWluJyx0aGlzKSI+UHJvdGVpbjwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2hhcnQtdGFiIiBkYXRhLW1ldHJpYz0iY2FyYnMiIG9uY2xpY2s9InNldFRyZW5kTWV0cmljKCdjYXJicycsdGhpcykiPkNhcmJzPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjaGFydC10YWIiIGRhdGEtbWV0cmljPSJmYXQiIG9uY2xpY2s9InNldFRyZW5kTWV0cmljKCdmYXQnLHRoaXMpIj5GYXQ8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNoYXJ0LXRhYiIgZGF0YS1tZXRyaWM9IndlaWdodCIgb25jbGljaz0ic2V0VHJlbmRNZXRyaWMoJ3dlaWdodCcsdGhpcykiPldlaWdodDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRhaW5lciIgaWQ9Im1vbnRoQ2hhcnRDb250YWluZXIiPjwvZGl2PgogICAgICAgIDxkaXYgaWQ9InRyZW5kU3VtbWFyeVJvdyIgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDttYXJnaW4tdG9wOjE0cHg7ZmxleC13cmFwOndyYXAiPjwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gU0hPRVMgUEFHRSAtLT4KICAgIDxkaXYgaWQ9InBhZ2Utc2hvZXMiIGNsYXNzPSJwYWdlIj4KICAgICAgPGRpdiBjbGFzcz0iY2FyZCIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywjMGYxNzJhIDAlLCMxZTI5M2IgMTAwJSk7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW4iPgogICAgICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMjBweDtyaWdodDotMjBweDtmb250LXNpemU6MTAwcHg7b3BhY2l0eTowLjA3O2xpbmUtaGVpZ2h0OjEiPvCfkZ88L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7bGV0dGVyLXNwYWNpbmc6MnB4O2NvbG9yOiM5NGEzYjg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206NHB4Ij5TaG9lIFRyYWNrZXI8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MjJweDtmb250LXdlaWdodDo4MDA7Y29sb3I6I2ZmZjttYXJnaW4tYm90dG9tOjJweCI+TWlsZWFnZSBHYXJhZ2U8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjojOTRhM2I4IiBpZD0ic2hvZUdhcmFnZVN1bW1hcnkiPlRyYWNrIGV2ZXJ5IG1pbGUgb24gZXZlcnkgcGFpcjwvZGl2PgogICAgICAgIDxidXR0b24gb25jbGljaz0ib3BlbkFkZFNob2VNb2RhbCgpIiBzdHlsZT0ibWFyZ2luLXRvcDoxNHB4O3BhZGRpbmc6MTBweCAyMHB4O2JhY2tncm91bmQ6I2Y5NzMxNjtjb2xvcjojZmZmO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MTRweDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlcjtib3gtc2hhZG93OjAgNHB4IDE0cHggcmdiYSgyNDksMTE1LDIyLDAuNCkiPisgQWRkIE5ldyBTaG9lPC9idXR0b24+CiAgICAgIDwvZGl2PgoKICAgICAgPCEtLSBUb2RheSdzIG1pbGVzIGZyb20gU3RyYXZhIOKAlCBzaW1wbGUgZGlzcGxheSBvbmx5IC0tPgogICAgICA8ZGl2IGlkPSJzaG9lU3RyYXZhQ2FyZCIgc3R5bGU9ImRpc3BsYXk6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UpO2JvcmRlcjoxLjVweCBzb2xpZCAjMWUzYTVmO2JvcmRlci1yYWRpdXM6MTZweDtwYWRkaW5nOjEycHggMTZweDttYXJnaW4tYm90dG9tOjEycHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTJweCI+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjI4cHgiPvCfj4M8L2Rpdj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MXB4Ij5Ub2RheSdzIFJ1bjwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjIwcHg7Zm9udC13ZWlnaHQ6ODAwO2NvbG9yOiMzYjgyZjYiIGlkPSJzaG9lU3RyYXZhTWlsZXMiPuKAlDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDIpO21hcmdpbi10b3A6MXB4IiBpZD0ic2hvZVN0cmF2YVN1YiI+U3luY2VkIGZyb20gU3RyYXZhPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBpZD0ic2hvZVJldGlyZVdhcm5pbmciIHN0eWxlPSJkaXNwbGF5Om5vbmU7YmFja2dyb3VuZDojMmQxZjA1O2JvcmRlcjoxLjVweCBzb2xpZCAjM2QyZTAwO2JvcmRlci1yYWRpdXM6MTZweDtwYWRkaW5nOjEycHggMTZweDttYXJnaW4tYm90dG9tOjEycHg7Zm9udC1zaXplOjEzcHg7Y29sb3I6I2Y1OWUwYjtmb250LXdlaWdodDo2MDAiPjwvZGl2PgoKICAgICAgPCEtLSBVbmlmaWVkIHNob2UgZ2FyYWdlIGxpc3QgLS0+CiAgICAgIDxkaXYgc3R5bGU9ImJvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MjBweDtwYWRkaW5nOjE2cHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKSI+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6ODAwO2NvbG9yOnZhcigtLXRleHQpIj7wn5GfIFNob2UgR2FyYWdlPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwIiBpZD0ic2hvZUdhcmFnZUNvdW50Ij48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJzaG9lTGlzdCI+PC9kaXY+CiAgICAgICAgPGRpdiBpZD0ic2hvZUVtcHR5U3RhdGUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozMnB4IDIwcHg7Y29sb3I6dmFyKC0tdGV4dDMpIj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTo0OHB4O21hcmdpbi1ib3R0b206MTJweCI+8J+RnzwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTttYXJnaW4tYm90dG9tOjZweCI+Tm8gc2hvZXMgeWV0PC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxLjciPkFkZCB5b3VyIGZpcnN0IHBhaXIsIHRoZW4gYWZ0ZXIgZWFjaDxicj5TdHJhdmEgcnVuIHlvdSdsbCBiZSBhc2tlZCB3aGljaCBzaG9lcyB5b3Ugd29yZS48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgPC9kaXY+PCEtLSBlbmQgY29udGVudCAtLT4KPC9kaXY+PCEtLSBlbmQgYXBwIC0tPgoKPCEtLSBBSSBGb29kIFNlYXJjaCBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9ImFpU2VhcmNoTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhhbmRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC10aXRsZSI+8J+UjSBGb29kIFNlYXJjaDwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtc3ViIj5TZWFyY2ggOTAwLDAwMCsgZm9vZHMgZnJvbSB0aGUgVVNEQSBkYXRhYmFzZSDigJQgYnJhbmQgbmFtZXMsIGdlbmVyaWNzLCByZXN0YXVyYW50czwvZGl2PgoKICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206MTBweCI+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYWlTZWFyY2hJbnB1dCIKICAgICAgICBwbGFjZWhvbGRlcj0iZS5nLiBCcm93biBlZ2dzIGZyb20gV2hvbGUgRm9vZHMsIGxhcmdlIgogICAgICAgIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OjQ4cHgiCiAgICAgICAgb25rZXlkb3duPSJpZihldmVudC5rZXk9PT0nRW50ZXInKXJ1bkFJU2VhcmNoKCkiIC8+CiAgICAgIDxidXR0b24gb25jbGljaz0icnVuQUlTZWFyY2goKSIgaWQ9ImFpU2VhcmNoQnRuIgogICAgICAgIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo4cHg7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTt3aWR0aDozNHB4O2hlaWdodDozNHB4O2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOnZhcigtLWdyZWVuKTtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MTZweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXIiPgogICAgICAgIOKepAogICAgICA8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDwhLS0gRXhhbXBsZSBjaGlwcyAtLT4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDtnYXA6NnB4O21hcmdpbi1ib3R0b206MTRweCIgaWQ9ImFpU2VhcmNoRXhhbXBsZXMiPgogICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIG9uY2xpY2s9InNldFNlYXJjaEV4YW1wbGUodGhpcykiIHN0eWxlPSJmb250LXNpemU6MTFweCI+8J+lmiBXaG9sZSBGb29kcyBicm93biBlZ2dzPC9idXR0b24+CiAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgb25jbGljaz0ic2V0U2VhcmNoRXhhbXBsZSh0aGlzKSIgc3R5bGU9ImZvbnQtc2l6ZToxMXB4Ij7wn42XIFJvdGlzc2VyaWUgY2hpY2tlbiBicmVhc3Q8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBvbmNsaWNrPSJzZXRTZWFyY2hFeGFtcGxlKHRoaXMpIiBzdHlsZT0iZm9udC1zaXplOjExcHgiPvCfpaMgQ2hvYmFuaSBwbGFpbiBncmVlayB5b2d1cnQ8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBvbmNsaWNrPSJzZXRTZWFyY2hFeGFtcGxlKHRoaXMpIiBzdHlsZT0iZm9udC1zaXplOjExcHgiPvCfjZogV2hpdGUgcmljZSBjb29rZWQgMSBjdXA8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBvbmNsaWNrPSJzZXRTZWFyY2hFeGFtcGxlKHRoaXMpIiBzdHlsZT0iZm9udC1zaXplOjExcHgiPvCfq5AgQmx1ZWJlcnJpZXMgMS8yIGN1cDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIG9uY2xpY2s9InNldFNlYXJjaEV4YW1wbGUodGhpcykiIHN0eWxlPSJmb250LXNpemU6MTFweCI+8J+ngCBDb3R0YWdlIGNoZWVzZSAyJTwvYnV0dG9uPgogICAgPC9kaXY+CgogICAgPCEtLSBMb2FkaW5nIHN0YXRlIC0tPgogICAgPGRpdiBpZD0iYWlTZWFyY2hMb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MjRweCAwIj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjI4cHg7bWFyZ2luLWJvdHRvbTo4cHgiIGNsYXNzPSJzcGluLXB1bHNlIj7wn5SNPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4O2NvbG9yOnZhcigtLXRleHQyKTtmb250LXdlaWdodDo2MDAiIGlkPSJhaVNlYXJjaExvYWRpbmdUZXh0Ij5TZWFyY2hpbmcgbnV0cml0aW9uIGRhdGFiYXNl4oCmPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFJlc3VsdHMgLS0+CiAgICA8ZGl2IGlkPSJhaVNlYXJjaFJlc3VsdHMiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDMpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbToxMHB4Ij5SZXN1bHRzPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImFpU2VhcmNoUmVzdWx0c0xpc3QiPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBTZWxlY3RlZCBmb29kIGRldGFpbCAtLT4KICAgIDxkaXYgaWQ9ImFpU2VhcmNoU2VsZWN0ZWQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgICA8ZGl2IGNsYXNzPSJmb29kLXJlc3VsdCIgaWQ9ImFpU2VhcmNoRm9vZENhcmQiPjwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMnB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlci1yYWRpdXM6MTRweDtwYWRkaW5nOjEwcHggMTRweDtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTttYXJnaW4tYm90dG9tOjEycHgiPgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OjYwMDtjb2xvcjp2YXIoLS10ZXh0KTtmbGV4OjEiPlNlcnZpbmdzPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTBweCI+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzcnYtYnRuIiBvbmNsaWNrPSJhZGp1c3RBSVNlYXJjaFNlcnZpbmdzKC0wLjUpIj7iiJI8L2J1dHRvbj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNydi12YWwiIGlkPSJhaVNlYXJjaFNlcnZpbmdzVmFsIj4xPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzcnYtYnRuIiBvbmNsaWNrPSJhZGp1c3RBSVNlYXJjaFNlcnZpbmdzKDAuNSkiPis8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1ncmVlbiIgb25jbGljaz0ibG9nQUlTZWFyY2hGb29kKCkiPkxPRyBUSElTIEZPT0Qg4pyTPC9idXR0b24+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJiYWNrVG9BSVNlYXJjaCgpIj7ihpAgU2VhcmNoIEFnYWluPC9idXR0b24+CiAgICA8L2Rpdj4KCiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgb25jbGljaz0iY2xvc2VBSVNlYXJjaCgpIiBzdHlsZT0ibWFyZ2luLXRvcDo2cHgiPkNsb3NlPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBXZWlnaHQgQ2hlY2staW4gTW9kYWwgLS0+CjxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiIGlkPSJ3ZWlnaHRNb2RhbCI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtc2hlZXQiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRpdGxlIj7impbvuI8gTG9nIFRvZGF5J3MgV2VpZ2h0PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1zdWIiPldlaWdoIGluIGZpcnN0IHRoaW5nIGluIHRoZSBtb3JuaW5nIGZvciB0aGUgbW9zdCBjb25zaXN0ZW50IHJlYWRpbmdzPC9kaXY+CiAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0id2VpZ2h0SW5wdXQiIGNsYXNzPSJiaWctaW5wdXQiIHBsYWNlaG9sZGVyPSIxNzAuMCIgc3RlcD0iMC4xIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNnB4IiAvPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjUwMDttYXJnaW4tYm90dG9tOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXIiPmxicyDCtyBmYXN0ZWQgwrcgYWZ0ZXIgYmF0aHJvb208L2Rpdj4KICAgIDxidXR0b24gY2xhc3M9ImJ0bi1ncmVlbiIgb25jbGljaz0ic2F2ZVdlaWdodCgpIj5TYXZlIFdlaWdodDwvYnV0dG9uPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLW91dGxpbmUiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWlnaHRNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKSI+Q2FuY2VsPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBFZGl0IEZvb2QgRW50cnkgTW9kYWwgLS0+CjxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiIGlkPSJlZGl0RW50cnlNb2RhbCI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtc2hlZXQiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRpdGxlIj7inI/vuI8gRWRpdCBFbnRyeTwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtc3ViIiBpZD0iZWRpdEVudHJ5U3VidGl0bGUiPkFkanVzdCBzZXJ2aW5ncyBvciBtYWNyb3MgZGlyZWN0bHk8L2Rpdj4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJlZGl0RW50cnlJZCIgLz4KCiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHgiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo1cHgiPkZvb2QgTmFtZTwvZGl2PgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVkaXRFbnRyeU5hbWUiIHBsYWNlaG9sZGVyPSJGb29kIG5hbWUiIC8+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFNlcnZpbmdzIHN0ZXBwZXIg4oCUIHNob3duIHdoZW4gYmFzZSBtYWNyb3MgYXJlIHN0b3JlZCAtLT4KICAgIDxkaXYgaWQ9ImVkaXRTZXJ2aW5nc1JvdyIgc3R5bGU9ImRpc3BsYXk6bm9uZTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxNHB4O3BhZGRpbmc6MTBweCAxNnB4O21hcmdpbi1ib3R0b206MTRweCI+CiAgICAgIDxkaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpIj5TZXJ2aW5nczwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2NvbG9yOnZhcigtLXRleHQzKTttYXJnaW4tdG9wOjJweCIgaWQ9ImVkaXRTZXJ2aW5nQmFzZUxhYmVsIj48L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHgiPgogICAgICAgIDxidXR0b24gY2xhc3M9InNydi1idG4iIG9uY2xpY2s9ImFkanVzdEVkaXRTZXJ2aW5ncygtMC41KSI+4oiSPC9idXR0b24+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE4cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO21pbi13aWR0aDozMnB4O3RleHQtYWxpZ246Y2VudGVyIiBpZD0iZWRpdFNlcnZpbmdzRGlzcGxheSI+MTwvZGl2PgogICAgICAgIDxidXR0b24gY2xhc3M9InNydi1idG4iIG9uY2xpY2s9ImFkanVzdEVkaXRTZXJ2aW5ncygwLjUpIj4rPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYWNybyBmaWVsZHMg4oCUIGF1dG8tdXBkYXRlIHdpdGggc2VydmluZ3MsIG9yIGVkaXRhYmxlIGRpcmVjdGx5IC0tPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4IiBpZD0iZWRpdE1hY3JvTGFiZWwiPk1hY3JvcyBwZXIgc2VydmluZzwvZGl2PgogICAgPGRpdiBjbGFzcz0iZWRpdC1tYWNyby1ncmlkIj4KICAgICAgPGRpdiBjbGFzcz0iZWRpdC1tYWNyby1maWVsZCI+CiAgICAgICAgPGxhYmVsIHN0eWxlPSJjb2xvcjojZjU5ZTBiIj5DQUxPUklFUyAoa2NhbCk8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJlZGl0Q2Fsb3JpZXMiIHBsYWNlaG9sZGVyPSIwIiBvbmlucHV0PSJvbkVkaXRNYWNyb0lucHV0KCkiIC8+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJlZGl0LW1hY3JvLWZpZWxkIj4KICAgICAgICA8bGFiZWwgc3R5bGU9ImNvbG9yOiMyMmM1NWUiPlBST1RFSU4gKGcpPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZWRpdFByb3RlaW4iIHBsYWNlaG9sZGVyPSIwIiBvbmlucHV0PSJvbkVkaXRNYWNyb0lucHV0KCkiIC8+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJlZGl0LW1hY3JvLWZpZWxkIj4KICAgICAgICA8bGFiZWwgc3R5bGU9ImNvbG9yOiMzYjgyZjYiPkNBUkJTIChnKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImVkaXRDYXJicyIgcGxhY2Vob2xkZXI9IjAiIG9uaW5wdXQ9Im9uRWRpdE1hY3JvSW5wdXQoKSIgLz4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImVkaXQtbWFjcm8tZmllbGQiPgogICAgICAgIDxsYWJlbCBzdHlsZT0iY29sb3I6I2VmNDQ0NCI+RkFUIChnKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImVkaXRGYXQiIHBsYWNlaG9sZGVyPSIwIiBvbmlucHV0PSJvbkVkaXRNYWNyb0lucHV0KCkiIC8+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBMaXZlIHRvdGFsIHByZXZpZXcgLS0+CiAgICA8ZGl2IGlkPSJlZGl0VG90YWxQcmV2aWV3IiBzdHlsZT0iZGlzcGxheTpub25lO2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjEwcHggMTRweDttYXJnaW4tYm90dG9tOjE0cHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtc2l6ZToxMHB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtsZXR0ZXItc3BhY2luZzoxcHgiPlRvdGFsPC9zcGFuPgogICAgICA8c3BhbiBpZD0iZWRpdFRvdGFsVGV4dCI+PC9zcGFuPgogICAgPC9kaXY+CgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJzYXZlRWRpdGVkRW50cnkoKSI+U2F2ZSBDaGFuZ2VzPC9idXR0b24+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbnRyeU1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpIj5DYW5jZWw8L2J1dHRvbj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIEJhcmNvZGUgU2Nhbm5lciBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9InNjYW5uZXJNb2RhbCI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtc2hlZXQiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRpdGxlIj5TY2FuIEZvb2QgQmFyY29kZTwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtc3ViIiBpZD0ic2NhblN1YnRpdGxlIj5Qb2ludCB5b3VyIGNhbWVyYSBhdCBhIGJhcmNvZGU8L2Rpdj4KCiAgICA8IS0tIENhbWVyYSB2aWV3IC0tPgogICAgPGRpdiBjbGFzcz0ic2Nhbm5lci1mcmFtZSIgaWQ9ImNhbWVyYVZpZXciPgogICAgICA8ZGl2IGlkPSJxdWFnZ2EtY29udGFpbmVyIiBzdHlsZT0id2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjE4cHg7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6IzAwMDthc3BlY3QtcmF0aW86NC8zO3Bvc2l0aW9uOnJlbGF0aXZlOyI+CiAgICAgICAgPHZpZGVvIGlkPSJzY2FubmVyLXZpZGVvIiBzdHlsZT0iZGlzcGxheTpub25lIj48L3ZpZGVvPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic2Nhbm5lci1vdmVybGF5IiBzdHlsZT0icG9pbnRlci1ldmVudHM6bm9uZTtib3JkZXItcmFkaXVzOjE4cHgiPgogICAgICAgIDxkaXYgY2xhc3M9InNjYW5uZXItbGluZSI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2Nhbm5lci1jb3JuZXJzIj48L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJzY2FuLXN0YXR1cyIgaWQ9InNjYW5TdGF0dXMiPvCflI0gU2Nhbm5pbmcgZm9yIGJhcmNvZGXigKY8L2Rpdj4KCiAgICA8IS0tIEZvb2QgcmVzdWx0IChoaWRkZW4gdW50aWwgZm91bmQpIC0tPgogICAgPGRpdiBpZD0iZm9vZFJlc3VsdCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICAgIDxkaXYgY2xhc3M9ImZvb2QtcmVzdWx0Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJmb29kLW5hbWUiIGlkPSJmb29kTmFtZSI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1icmFuZCIgaWQ9ImZvb2RCcmFuZCI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyb3MiIGlkPSJmb29kTWFjcm9zIj48L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJzY2FuTWFjcm9XYXJuaW5nIiBzdHlsZT0iZGlzcGxheTpub25lO2JhY2tncm91bmQ6IzJkMGYwZjtib3JkZXI6MXB4IHNvbGlkICM3ZjFkMWQ7Ym9yZGVyLXJhZGl1czoxMHB4O3BhZGRpbmc6OHB4IDEycHg7bWFyZ2luLXRvcDo4cHg7Zm9udC1zaXplOjExcHg7Y29sb3I6I2ZjYTVhNTtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MS41Ij48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZXJ2aW5ncy1yb3ciPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VydmluZ3MtbGFiZWwiPlNlcnZpbmdzPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXJ2aW5ncy1jdHJsIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3J2LWJ0biIgb25jbGljaz0iYWRqdXN0U2VydmluZ3MoLTAuNSkiPuKIkjwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcnYtdmFsIiBpZD0ic3J2VmFsIj4xPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNydi1idG4iIG9uY2xpY2s9ImFkanVzdFNlcnZpbmdzKDAuNSkiPis8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gU2F2ZSB0byBmYXZvcml0ZXMgLS0+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4O3BhZGRpbmctdG9wOjEycHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo4cHgiPlNhdmUgYXMgUXVpY2stQWRkPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NTAwO21hcmdpbi1ib3R0b206OHB4Ij5TYXZlIHRvIGEgbWVhbCB0aW1lIGZvciBzbWFydCByZWNvbW1lbmRhdGlvbnM8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InRpbWUtc2xvdC1waWNrZXIiIGlkPSJzY2FuVGltZVNsb3RQaWNrZXIiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0iYnJlYWtmYXN0IiBvbmNsaWNrPSJ0b2dnbGVUaW1lU2xvdCh0aGlzLCdzY2FuJykiPvCfjIUgQnJlYWtmYXN0PC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJtb3JuaW5nIiBvbmNsaWNrPSJ0b2dnbGVUaW1lU2xvdCh0aGlzLCdzY2FuJykiPuKYlSBNb3JuaW5nIFNuYWNrPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJsdW5jaCIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnc2NhbicpIj7wn6WXIEx1bmNoPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJhZnRlcm5vb24iIG9uY2xpY2s9InRvZ2dsZVRpbWVTbG90KHRoaXMsJ3NjYW4nKSI+8J+NjiBBZnRlcm5vb248L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBkYXRhLXNsb3Q9ImRpbm5lciIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnc2NhbicpIj7wn42977iPIERpbm5lcjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0iZXZlbmluZyIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnc2NhbicpIj7wn4yZIEV2ZW5pbmc8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJsb2dTY2FubmVkRm9vZCgpIj5BZGQgdG8gVG9kYXkncyBMb2c8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJjbG9zZVNjYW5uZXIoKSI+Q2FuY2VsPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBBSSBQaG90byBNYWNybyBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9InBob3RvTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhhbmRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC10aXRsZSI+8J+TuCBBSSBNYWNybyBFc3RpbWF0b3I8L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXN1YiI+VGFrZSBvciB1cGxvYWQgYSBwaG90byBvZiB5b3VyIGZvb2QgYW5kIEFJIHdpbGwgZXN0aW1hdGUgdGhlIG1hY3JvczwvZGl2PgoKICAgIDwhLS0gU3RlcCAxOiBjYXB0dXJlIC0tPgogICAgPGRpdiBpZD0icGhvdG9TdGVwMSI+CiAgICAgIDxkaXYgaWQ9InBob3RvUHJldmlld1dyYXAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7bWFyZ2luLWJvdHRvbToxNHB4O3Bvc2l0aW9uOnJlbGF0aXZlIj4KICAgICAgICA8aW1nIGlkPSJwaG90b1ByZXZpZXciIHN0eWxlPSJ3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MThweDttYXgtaGVpZ2h0OjI4MHB4O29iamVjdC1maXQ6Y292ZXIiLz4KICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlc2V0UGhvdG8oKSIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDoxMHB4O3JpZ2h0OjEwcHg7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNTUpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Y29sb3I6I2ZmZjtmb250LXNpemU6MTZweDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXIiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBpZD0icGhvdG9QbGFjZWhvbGRlciIgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlcjoycHggZGFzaGVkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxOHB4O3BhZGRpbmc6MzZweCAyMHB4O3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1ib3R0b206MTRweCI+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjQwcHg7bWFyZ2luLWJvdHRvbTo4cHgiPvCfjb3vuI88L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTRweDtmb250LXdlaWdodDo2MDA7Y29sb3I6dmFyKC0tdGV4dDIpIj5ObyBwaG90byB5ZXQ8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS10ZXh0Myk7bWFyZ2luLXRvcDo0cHgiPlRha2UgYSBwaG90byBvciBwaWNrIGZyb20geW91ciBsaWJyYXJ5PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7Z2FwOjhweDttYXJnaW4tYm90dG9tOjEycHgiPgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1zY2FuIiBvbmNsaWNrPSJ0cmlnZ2VyQ2FtZXJhKCkiPvCfk7cgQ2FtZXJhPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXNjYW4iIG9uY2xpY2s9InRyaWdnZXJHYWxsZXJ5KCkiPvCflrzvuI8gR2FsbGVyeTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJjYW1lcmFJbnB1dCIgYWNjZXB0PSJpbWFnZS8qIiBjYXB0dXJlPSJlbnZpcm9ubWVudCIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgb25jaGFuZ2U9ImhhbmRsZVBob3RvSW5wdXQodGhpcykiLz4KICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJnYWxsZXJ5SW5wdXQiIGFjY2VwdD0iaW1hZ2UvKiIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgb25jaGFuZ2U9ImhhbmRsZVBob3RvSW5wdXQodGhpcykiLz4KCiAgICAgIDwhLS0gRm9vZCBkZXNjcmlwdGlvbiBoaW50IC0tPgogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHgiPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icGhvdG9IaW50IiBwbGFjZWhvbGRlcj0iT3B0aW9uYWw6IGRlc2NyaWJlIHRoZSBmb29kIChlLmcuIGdyaWxsZWQgc2FsbW9uIHdpdGggcmljZSkiIC8+CiAgICAgIDwvZGl2PgoKICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBpZD0iYW5hbHl6ZUJ0biIgb25jbGljaz0iYW5hbHl6ZVBob3RvKCkiIGRpc2FibGVkIHN0eWxlPSJvcGFjaXR5OjAuNCI+CiAgICAgICAg8J+kliBBbmFseXNlIHdpdGggQUkKICAgICAgPC9idXR0b24+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFN0ZXAgMjogbG9hZGluZyAtLT4KICAgIDxkaXYgaWQ9InBob3RvU3RlcDIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozMHB4IDAiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6NDhweDttYXJnaW4tYm90dG9tOjE2cHg7YW5pbWF0aW9uOnNwaW4gMS4ycyBsaW5lYXIgaW5maW5pdGU7ZGlzcGxheTppbmxpbmUtYmxvY2siPvCflIQ8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO21hcmdpbi1ib3R0b206OHB4Ij5BbmFseXNpbmcgeW91ciBmb29k4oCmPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQzKSIgaWQ9ImFpTG9hZGluZ01zZyI+SWRlbnRpZnlpbmcgaW5ncmVkaWVudHMgYW5kIGVzdGltYXRpbmcgcG9ydGlvbnPigKY8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gU3RlcCAzOiByZXN1bHRzIC0tPgogICAgPGRpdiBpZD0icGhvdG9TdGVwMyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICAgIDxkaXYgY2xhc3M9ImZvb2QtcmVzdWx0Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJmb29kLW5hbWUiIGlkPSJhaU1lYWxOYW1lIj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb29kLWJyYW5kIiBpZD0iYWlNZWFsRGVzYyIgc3R5bGU9ImxpbmUtaGVpZ2h0OjEuNjttYXJnaW4tYm90dG9tOjEycHgiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm9zIiBpZD0iYWlNZWFsTWFjcm9zIj48L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiMyZDFmMDU7Ym9yZGVyOjEuNXB4IHNvbGlkICMzZDJlMDA7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTBweCAxMnB4O21hcmdpbi1ib3R0b206MTRweDtmb250LXNpemU6MTFweDtjb2xvcjojZjU5ZTBiO2xpbmUtaGVpZ2h0OjEuNiI+CiAgICAgICAgICDimqDvuI8gQUkgZXN0aW1hdGVzIGFyZSBhcHByb3hpbWF0ZS4gQWRqdXN0IHNlcnZpbmdzIGlmIHBvcnRpb24gZGlmZmVycyBmcm9tIHdoYXQncyBzaG93bi4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZXJ2aW5ncy1yb3ciPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VydmluZ3MtbGFiZWwiPlNlcnZpbmdzIC8gcG9ydGlvbjwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VydmluZ3MtY3RybCI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNydi1idG4iIG9uY2xpY2s9ImFkanVzdEFJU2VydmluZ3MoLTAuMjUpIj7iiJI8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3J2LXZhbCIgaWQ9ImFpU3J2VmFsIj4xPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNydi1idG4iIG9uY2xpY2s9ImFkanVzdEFJU2VydmluZ3MoMC4yNSkiPis8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gU2F2ZSB0byBzbG90IC0tPgogICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MTJweDtwYWRkaW5nLXRvcDoxMnB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlcikiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij5TYXZlIGFzIFF1aWNrLUFkZDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0idGltZS1zbG90LXBpY2tlciIgaWQ9ImFpVGltZVNsb3RQaWNrZXIiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0iYnJlYWtmYXN0IiBvbmNsaWNrPSJ0b2dnbGVUaW1lU2xvdCh0aGlzLCdhaScpIj7wn4yFIEJyZWFrZmFzdDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0cy1idG4iIGRhdGEtc2xvdD0ibW9ybmluZyIgb25jbGljaz0idG9nZ2xlVGltZVNsb3QodGhpcywnYWknKSI+4piVIE1vcm5pbmcgU25hY2s8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idHMtYnRuIiBkYXRhLXNsb3Q9Imx1bmNoIiBvbmNsaWNrPSJ0b2dnbGVUaW1lU2xvdCh0aGlzLCdhaScpIj7wn6WXIEx1bmNoPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJhZnRlcm5vb24iIG9uY2xpY2s9InRvZ2dsZVRpbWVTbG90KHRoaXMsJ2FpJykiPvCfjY4gQWZ0ZXJub29uPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJkaW5uZXIiIG9uY2xpY2s9InRvZ2dsZVRpbWVTbG90KHRoaXMsJ2FpJykiPvCfjb3vuI8gRGlubmVyPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRzLWJ0biIgZGF0YS1zbG90PSJldmVuaW5nIiBvbmNsaWNrPSJ0b2dnbGVUaW1lU2xvdCh0aGlzLCdhaScpIj7wn4yZIEV2ZW5pbmc8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJsb2dBSUZvb2QoKSI+QWRkIHRvIFRvZGF5J3MgTG9nPC9idXR0b24+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBzdHlsZT0ibWFyZ2luLXRvcDo4cHgiIG9uY2xpY2s9InJlc2V0UGhvdG8oKSI+VHJ5IEFub3RoZXIgUGhvdG88L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4IiBvbmNsaWNrPSJjbG9zZVBob3RvTW9kYWwoKSI+Q2FuY2VsPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSBTZXR0aW5ncyBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9InNldHRpbmdzTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhhbmRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC10aXRsZSI+4pqZ77iPIFNldHRpbmdzPC9kaXY+CgogICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtc2VjdGlvbiI+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXNlY3Rpb24tdGl0bGUiPvCfj4MgR2FybWluIENvbm5lY3Q8L2Rpdj4KICAgICAgPGRpdiBpZD0iZ2FybWluQ29ubmVjdFN0YXR1cyIgY2xhc3M9ImNvbm5lY3Qtc3RhdHVzIGRpc2Nvbm5lY3RlZCI+4pqqIE5vdCBjb25uZWN0ZWQ8L2Rpdj4KCiAgICAgIDxkaXYgaWQ9Imdhcm1pblNldHVwU3RlcHMiPgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQyKTttYXJnaW4tYm90dG9tOjE0cHg7bGluZS1oZWlnaHQ6MS43Ij4KICAgICAgICAgIENvbm5lY3QgeW91ciBHYXJtaW4gYWNjb3VudCB0byBhdXRvbWF0aWNhbGx5IHB1bGwgcnVuIGNhbG9yaWVzIGFuZCBhZGp1c3QgeW91ciBkYWlseSBtYWNyb3MuCiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQzKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206MTBweCI+U2V0dXAgc3RlcHM8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InN0ZXAtbnVtIj4xPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwLXRleHQiPlZpc2l0IDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLmdhcm1pbi5jb20vZ2MtZGV2ZWxvcGVyLXByb2dyYW0vb3ZlcnZpZXcvIiB0YXJnZXQ9Il9ibGFuayI+ZGV2ZWxvcGVyLmdhcm1pbi5jb208L2E+LCBzaWduIGluIHdpdGggeW91ciBHYXJtaW4gYWNjb3VudCBhbmQgam9pbiB0aGUgZnJlZSBEZXZlbG9wZXIgUHJvZ3JhbS48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InN0ZXAtbnVtIj4yPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwLXRleHQiPkNyZWF0ZSBhIG5ldyBhcHAg4oaSIHR5cGUgPHN0cm9uZz5XZWI8L3N0cm9uZz4g4oaSIHNldCB0aGUgT0F1dGggQ2FsbGJhY2sgVVJMIHRvIHRoaXMgYXBwJ3MgVVJMLiBDb3B5IHlvdXIgPHN0cm9uZz5Db25zdW1lciBLZXk8L3N0cm9uZz4gYW5kIDxzdHJvbmc+Q29uc3VtZXIgU2VjcmV0PC9zdHJvbmc+LjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic3RlcC1udW0iPjM8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAtdGV4dCI+UGFzdGUgdGhlbSBiZWxvdyBhbmQgdGFwIDxzdHJvbmc+Q29ubmVjdDwvc3Ryb25nPi4gWW91J2xsIGF1dGhvcml6ZSBhY2Nlc3Mgb24gR2FybWluJ3Mgc2l0ZSBhbmQgYmUgcmVkaXJlY3RlZCBiYWNrIGF1dG9tYXRpY2FsbHkuPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDoxNnB4Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9ImtleS1pbnB1dC1ncm91cCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImtleS1pbnB1dC1sYWJlbCI+Q09OU1VNRVIgS0VZPC9kaXY+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZ2FybWluS2V5IiBwbGFjZWhvbGRlcj0iUGFzdGUgeW91ciBDb25zdW1lciBLZXnigKYiIC8+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImtleS1pbnB1dC1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ia2V5LWlucHV0LWxhYmVsIj5DT05TVU1FUiBTRUNSRVQ8L2Rpdj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJnYXJtaW5TZWNyZXQiIHBsYWNlaG9sZGVyPSJQYXN0ZSB5b3VyIENvbnN1bWVyIFNlY3JldOKApiIgLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4IiBvbmNsaWNrPSJzdGFydEdhcm1pbk9BdXRoKCkiPvCflJcgQ29ubmVjdCB0byBHYXJtaW48L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGlkPSJnYXJtaW5Db25uZWN0ZWRQYW5lbCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93Ij4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXJvdy1sYWJlbCI+QXV0by1hZGp1c3QgbWFjcm9zPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXJvdy1zdWIiPkFkZHMgY2Fsb3JpZXMgJiBjYXJicyBiYXNlZCBvbiBydW4gYnVybjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0b2dnbGUgb24iIGlkPSJhdXRvQWRqdXN0VG9nZ2xlIiBvbmNsaWNrPSJ0b2dnbGVBdXRvQWRqdXN0KHRoaXMpIj48L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1yb3ciPgogICAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93LWxhYmVsIj5Db25uZWN0ZWQgYXM8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93LXN1YiIgaWQ9Imdhcm1pblVzZXJuYW1lIj7igJQ8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1yZWQiIG9uY2xpY2s9ImRpc2Nvbm5lY3RHYXJtaW4oKSI+RGlzY29ubmVjdCBHYXJtaW48L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIFN0cmF2YSBTZWN0aW9uIC0tPgogICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtc2VjdGlvbiI+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXNlY3Rpb24tdGl0bGUiPvCfn6AgU3RyYXZhPC9kaXY+CiAgICAgIDxkaXYgaWQ9InN0cmF2YUNvbm5lY3RTdGF0dXMiIGNsYXNzPSJjb25uZWN0LXN0YXR1cyBkaXNjb25uZWN0ZWQiPuKaqiBOb3QgY29ubmVjdGVkPC9kaXY+CgogICAgICA8ZGl2IGlkPSJzdHJhdmFTZXR1cFN0ZXBzIj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS10ZXh0Mik7bWFyZ2luLWJvdHRvbToxNHB4O2xpbmUtaGVpZ2h0OjEuNyI+CiAgICAgICAgICBDb25uZWN0IFN0cmF2YSB0byBwdWxsIHJ1biBjYWxvcmllcyBhdXRvbWF0aWNhbGx5LiBTdHJhdmEncyBBUEkgaXMgc2ltcGxlciB0byBzZXQgdXAgdGhhbiBHYXJtaW4g4oCUIHRha2VzIGFib3V0IDIgbWludXRlcy4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDMpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbToxMHB4Ij5TZXR1cCBzdGVwczwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic3RlcC1udW0iPjE8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAtdGV4dCI+R28gdG8gPGEgaHJlZj0iaHR0cHM6Ly93d3cuc3RyYXZhLmNvbS9zZXR0aW5ncy9hcGkiIHRhcmdldD0iX2JsYW5rIj5zdHJhdmEuY29tL3NldHRpbmdzL2FwaTwvYT4gYW5kIGNyZWF0ZSBhIGZyZWUgQVBJIGFwcC4gU2V0IHRoZSA8c3Ryb25nPkF1dGhvcml6YXRpb24gQ2FsbGJhY2sgRG9tYWluPC9zdHJvbmc+IHRvIHlvdXIgYXBwJ3MgZG9tYWluIChlLmcuIDxjb2RlIHN0eWxlPSJiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtwYWRkaW5nOjFweCA1cHg7Ym9yZGVyLXJhZGl1czo0cHgiPnlvdXJhcHAubmV0bGlmeS5hcHA8L2NvZGU+KS48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InN0ZXAtbnVtIj4yPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvYXV0aC1zdGVwLXRleHQiPkNvcHkgeW91ciA8c3Ryb25nPkNsaWVudCBJRDwvc3Ryb25nPiBhbmQgPHN0cm9uZz5DbGllbnQgU2VjcmV0PC9zdHJvbmc+IGZyb20gdGhlIEFQSSBzZXR0aW5ncyBwYWdlLjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic3RlcC1udW0iPjM8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXN0ZXAtdGV4dCI+UGFzdGUgdGhlbSBiZWxvdyBhbmQgdGFwIDxzdHJvbmc+Q29ubmVjdDwvc3Ryb25nPi4gWW91J2xsIGF1dGhvcml6ZSBvbiBTdHJhdmEncyBzaXRlIGFuZCBiZSByZWRpcmVjdGVkIGJhY2sgYXV0b21hdGljYWxseS48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjE2cHgiPgogICAgICAgICAgPGRpdiBjbGFzcz0ia2V5LWlucHV0LWdyb3VwIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ia2V5LWlucHV0LWxhYmVsIj5DTElFTlQgSUQ8L2Rpdj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzdHJhdmFDbGllbnRJZCIgcGxhY2Vob2xkZXI9ImUuZy4gMTIzNDUiIC8+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImtleS1pbnB1dC1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ia2V5LWlucHV0LWxhYmVsIj5DTElFTlQgU0VDUkVUPC9kaXY+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic3RyYXZhQ2xpZW50U2VjcmV0IiBwbGFjZWhvbGRlcj0iUGFzdGUgeW91ciBDbGllbnQgU2VjcmV04oCmIiAvPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tZ3JlZW4iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7YmFja2dyb3VuZDojZmM0YzAyO2JveC1zaGFkb3c6MCA0cHggMTRweCByZ2JhKDI1Miw3NiwyLDAuMykiIG9uY2xpY2s9InN0YXJ0U3RyYXZhT0F1dGgoKSI+8J+foCBDb25uZWN0IHRvIFN0cmF2YTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgaWQ9InN0cmF2YUNvbm5lY3RlZFBhbmVsIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1yb3ciPgogICAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93LWxhYmVsIj5BdXRvLWFkanVzdCBtYWNyb3M8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93LXN1YiI+QWRkcyBjYWxvcmllcyAmIGNhcmJzIGJhc2VkIG9uIHJ1biBidXJuPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InRvZ2dsZSBvbiIgaWQ9InN0cmF2YUF1dG9BZGp1c3RUb2dnbGUiIG9uY2xpY2s9InRvZ2dsZVN0cmF2YUF1dG9BZGp1c3QodGhpcykiPjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXJvdyI+CiAgICAgICAgICA8ZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1yb3ctbGFiZWwiPkNvbm5lY3RlZCBhczwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1yb3ctc3ViIiBpZD0ic3RyYXZhVXNlcm5hbWUiPuKAlDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXJlZCIgb25jbGljaz0iZGlzY29ubmVjdFN0cmF2YSgpIj5EaXNjb25uZWN0IFN0cmF2YTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1zZWN0aW9uLXRpdGxlIj7wn46vIEdvYWxzICYgTWFjcm9zPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXJvdyI+CiAgICAgICAgPGRpdj48ZGl2IGNsYXNzPSJzZXR0aW5ncy1yb3ctbGFiZWwiPkN1cnJlbnQgd2VpZ2h0IChsYnMpPC9kaXY+PC9kaXY+CiAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNldHRpbmdXZWlnaHQiIHN0eWxlPSJ3aWR0aDo4MHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4IiBwbGFjZWhvbGRlcj0iMTcwIiAvPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3Mtcm93Ij4KICAgICAgICA8ZGl2PjxkaXYgY2xhc3M9InNldHRpbmdzLXJvdy1sYWJlbCI+R29hbCB3ZWlnaHQgKGxicyk8L2Rpdj48L2Rpdj4KICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic2V0dGluZ0dvYWxXZWlnaHQiIHN0eWxlPSJ3aWR0aDo4MHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4IiBwbGFjZWhvbGRlcj0iMTYzIiAvPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQzKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbjoxNHB4IDAgOHB4Ij5NYWludGVuYW5jZSBDYWxvcmllcyAoVERFRSk8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDIpO2xpbmUtaGVpZ2h0OjEuNjttYXJnaW4tYm90dG9tOjhweCI+WW91ciBkYWlseSBjYWxvcmllIGJ1cm4gYXQgcmVzdCArIGFjdGl2aXR5LCBiZWZvcmUgYW55IGRlZmljaXQuIFRoZSB3ZWVrbHkgYmFsYW5jZSBjaGFydCBtZWFzdXJlcyB5b3VyIGRlZmljaXQgYWdhaW5zdCB0aGlzLjwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo4cHg7bWFyZ2luLWJvdHRvbTo2cHgiPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzZXR0aW5nVERFRSIgc3R5bGU9IndpZHRoOjEwMHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4IiBwbGFjZWhvbGRlcj0iMjgwMCIgLz4KICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImF1dG9DYWxjVERFRSgpIiBzdHlsZT0iZmxleDoxO3BhZGRpbmc6OXB4IDEycHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxNHB4O2NvbG9yOnZhcigtLXRleHQyKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlciI+8J+nriBBdXRvLWNhbGN1bGF0ZSBmcm9tIG15IGRhdGE8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9InRkZWVDYWxjUmVzdWx0IiBzdHlsZT0iZGlzcGxheTpub25lO2ZvbnQtc2l6ZToxMXB4O2xpbmUtaGVpZ2h0OjEuNztwYWRkaW5nOjEwcHggMTJweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjEycHg7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO21hcmdpbi1ib3R0b206MTBweCI+PC9kaXY+CgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDMpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luOjE0cHggMCA4cHgiPkRhaWx5IE1hY3JvIFRhcmdldHM8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyO2dhcDo4cHg7bWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiNmNTllMGI7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjRweCI+Q2Fsb3JpZXMgKGtjYWwpPC9kaXY+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic2V0dGluZ0NhbG9yaWVzIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo4cHgiIHBsYWNlaG9sZGVyPSIyMjAwIiAvPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6IzRhZGU4MDtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206NHB4Ij5Qcm90ZWluIChnKTwvZGl2PgogICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNldHRpbmdQcm90ZWluIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo4cHgiIHBsYWNlaG9sZGVyPSIxOTAiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojNjBhNWZhO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo0cHgiPkNhcmJzIChnKTwvZGl2PgogICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InNldHRpbmdDYXJicyIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4IiBwbGFjZWhvbGRlcj0iMTkwIiAvPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6I2Y4NzE3MTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206NHB4Ij5GYXQgKGcpPC9kaXY+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic2V0dGluZ0ZhdCIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4IiBwbGFjZWhvbGRlcj0iNjUiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4tZ3JlZW4iIHN0eWxlPSJtYXJnaW4tdG9wOjRweCIgb25jbGljaz0ic2F2ZUdvYWxTZXR0aW5ncygpIj7wn5K+IFNhdmUgR29hbHMgJiBNYWNyb3M8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJjbG9zZVNldHRpbmdzKCkiPkNsb3NlPC9idXR0b24+CgogICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDoxNnB4O3BhZGRpbmctdG9wOjE2cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLXNlY3Rpb24tdGl0bGUiPvCfkr4gRGF0YSBCYWNrdXAgJiBSZXN0b3JlPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQyKTtsaW5lLWhlaWdodDoxLjc7bWFyZ2luLWJvdHRvbToxNHB4Ij5FeHBvcnQgYWxsIHlvdXIgZm9vZCBsb2dzLCB3ZWlnaHQgZW50cmllcywgd29ya291dHMsIGFuZCByZWNpcGVzIHRvIGEgZmlsZS4gSW1wb3J0IGl0IGFueXRpbWUgdG8gcmVzdG9yZSDigJQgZXZlbiBvbiBhIG5ldyBkZXZpY2Ugb3IgYWZ0ZXIgcmUtZGVwbG95aW5nLjwvZGl2PgoKICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJleHBvcnREYXRhKCkiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHgiPgogICAgICAgIOKsh++4jyBFeHBvcnQgQWxsIERhdGEgKEpTT04pCiAgICAgIDwvYnV0dG9uPgoKICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij5SZXN0b3JlIGZyb20gYmFja3VwPC9kaXY+CiAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2dhcDoxMHB4O3dpZHRoOjEwMCU7cGFkZGluZzoxM3B4O2JhY2tncm91bmQ6dmFyKC0tYmx1ZS1zb2Z0KTtjb2xvcjojNjBhNWZhO2JvcmRlcjoxLjVweCBzb2xpZCAjMWUzYTVmO2JvcmRlci1yYWRpdXM6MTZweDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OjcwMDtmb250LXNpemU6MTRweDtjdXJzb3I6cG9pbnRlciI+CiAgICAgICAg4qyG77iPIEltcG9ydCBCYWNrdXAgRmlsZQogICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iaW1wb3J0RmlsZUlucHV0IiBhY2NlcHQ9Ii5qc29uIiBzdHlsZT0iZGlzcGxheTpub25lIiBvbmNoYW5nZT0iaW1wb3J0RGF0YSh0aGlzKSIgLz4KICAgICAgPC9sYWJlbD4KICAgICAgPGRpdiBpZD0iaW1wb3J0U3RhdHVzIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O2ZvbnQtc2l6ZToxMnB4O3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLWdyZWVuKTtmb250LXdlaWdodDo2MDA7ZGlzcGxheTpub25lIj48L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gUmVzdCBUaW1lciBPdmVybGF5IC0tPgo8ZGl2IGlkPSJyZXN0VGltZXJPdmVybGF5IiBzdHlsZT0iZGlzcGxheTpub25lIiBjbGFzcz0icmVzdC10aW1lci1vdmVybGF5Ij4KICA8ZGl2PgogICAgPGRpdiBjbGFzcz0icmVzdC10aW1lci1sYWJlbCI+UmVzdDwvZGl2PgogICAgPGRpdiBjbGFzcz0icmVzdC10aW1lci1jb3VudGRvd24iIGlkPSJyZXN0VGltZXJDb3VudCI+MTozMDwvZGl2PgogICAgPGRpdiBjbGFzcz0icmVzdC10aW1lci1iYXIiPjxkaXYgY2xhc3M9InJlc3QtdGltZXItYmFyLWZpbGwiIGlkPSJyZXN0VGltZXJCYXJGaWxsIiBzdHlsZT0id2lkdGg6MTAwJSI+PC9kaXY+PC9kaXY+CiAgPC9kaXY+CiAgPGJ1dHRvbiBjbGFzcz0icmVzdC10aW1lci1za2lwIiBvbmNsaWNrPSJza2lwUmVzdFRpbWVyKCkiPlNraXAg4oC6PC9idXR0b24+CjwvZGl2PgoKPCEtLSBFeGVyY2lzZSBQcm9ncmVzcyBDaGFydCBNb2RhbCAtLT4KPGRpdiBjbGFzcz0iZXgtY2hhcnQtbW9kYWwiIGlkPSJleENoYXJ0TW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIG9uY2xpY2s9ImlmKGV2ZW50LnRhcmdldD09PXRoaXMpY2xvc2VFeENoYXJ0KCkiPgogIDxkaXYgY2xhc3M9ImV4LWNoYXJ0LXNoZWV0Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhhbmRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJleC1jaGFydC10aXRsZSIgaWQ9ImV4Q2hhcnRUaXRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJleC1jaGFydC1zdWIiIGlkPSJleENoYXJ0U3ViIj48L2Rpdj4KICAgIDxzdmcgY2xhc3M9ImV4LWNoYXJ0LXN2ZyIgaWQ9ImV4Q2hhcnRTdmciIHZpZXdCb3g9IjAgMCAzMDAgMTQwIj48L3N2Zz4KICAgIDxkaXYgY2xhc3M9ImV4LXN0YXRzLXJvdyIgaWQ9ImV4Q2hhcnRTdGF0cyI+PC9kaXY+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgc3R5bGU9Im1hcmdpbi10b3A6MTZweDt3aWR0aDoxMDAlIiBvbmNsaWNrPSJjbG9zZUV4Q2hhcnQoKSI+Q2xvc2U8L2J1dHRvbj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIFdvcmtvdXQgQ29tcGxldGUgT3ZlcmxheSAtLT4KPGRpdiBjbGFzcz0id29ya291dC1jb21wbGV0ZS1vdmVybGF5IiBpZD0id29ya291dENvbXBsZXRlT3ZlcmxheSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgPGRpdiBjbGFzcz0id29ya291dC1jb21wbGV0ZS1pY29uIj7wn5KqPC9kaXY+CiAgPGRpdiBjbGFzcz0id29ya291dC1jb21wbGV0ZS10aXRsZSI+V29ya291dCBDb21wbGV0ZSE8L2Rpdj4KICA8ZGl2IGNsYXNzPSJ3b3Jrb3V0LWNvbXBsZXRlLXN1YiIgaWQ9IndjU3ViIj5HcmVhdCBzZXNzaW9uIHRvZGF5PC9kaXY+CiAgPGRpdiBjbGFzcz0id29ya291dC1jb21wbGV0ZS1zdGF0cyIgaWQ9IndjU3RhdHMiPjwvZGl2PgogIDxkaXYgY2xhc3M9IndjLXBycyIgaWQ9IndjUFJzIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjgwMDtjb2xvcjojZjU5ZTBiO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo4cHgiPvCfj4YgUGVyc29uYWwgUmVjb3JkczwvZGl2PgogICAgPGRpdiBpZD0id2NQUkxpc3QiPjwvZGl2PgogIDwvZGl2PgogIDxidXR0b24gY2xhc3M9ImJ0bi1ncmVlbiIgc3R5bGU9IndpZHRoOjEwMCU7bWF4LXdpZHRoOjM0MHB4IiBvbmNsaWNrPSJjbG9zZVdvcmtvdXRDb21wbGV0ZSgpIj5Eb25lIPCfjok8L2J1dHRvbj4KPC9kaXY+Cgo8IS0tIE9BdXRoIFJlc3VsdCBNb2RhbCAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9Im9hdXRoTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozNnB4IDIwcHggNDhweCI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6NTJweDttYXJnaW4tYm90dG9tOjE2cHgiIGlkPSJvYXV0aEljb24iPuKPszwvZGl2PgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjE4cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO21hcmdpbi1ib3R0b206OHB4IiBpZD0ib2F1dGhUaXRsZSI+Q29ubmVjdGluZ+KApjwvZGl2PgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tdGV4dDIpO2xpbmUtaGVpZ2h0OjEuNyIgaWQ9Im9hdXRoTXNnIj5Db21wbGV0aW5nIGF1dGhvcml6YXRpb24uIFBsZWFzZSB3YWl04oCmPC9kaXY+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgc3R5bGU9Im1hcmdpbi10b3A6MjRweCIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJykiPkNsb3NlPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2PgoKCiAgICA8IS0tIENMQVVERSBBSSBQQUdFIC0tPgogICAgPGRpdiBpZD0icGFnZS1jbGF1ZGUiIGNsYXNzPSJwYWdlIj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6Y2FsYygxMDB2aCAtIDEyMHB4KSI+CiAgICAgICAgPCEtLSBIZWFkZXIgLS0+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxNnB4IDE2cHggOHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMxZTI5M2I7ZmxleC1zaHJpbms6MCI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MThweDtmb250LXdlaWdodDo4MDA7Y29sb3I6I2ZmZjttYXJnaW4tYm90dG9tOjJweCI+8J+kliBBSSBBc3Npc3RhbnQ8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOiM2NDc0OGIiPlBvd2VyZWQgYnkgQ2xhdWRlIMK3IEtub3dzIHlvdXIgZml0bmVzcyBkYXRhPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gUXVpY2sgcHJvbXB0cyAtLT4KICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHggMTZweDtkaXNwbGF5OmZsZXg7Z2FwOjhweDtvdmVyZmxvdy14OmF1dG87ZmxleC1zaHJpbms6MDtzY3JvbGxiYXItd2lkdGg6bm9uZSI+CiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNsYXVkZVF1aWNrUHJvbXB0KCdXaGF0IHNob3VsZCBJIGVhdCB0byBoaXQgbXkgcmVtYWluaW5nIG1hY3JvcyB0b2RheT8nKSIgc3R5bGU9IndoaXRlLXNwYWNlOm5vd3JhcDtiYWNrZ3JvdW5kOiMwZjE3MmE7Ym9yZGVyOjFweCBzb2xpZCAjMWUzYTVmO2NvbG9yOiM2MGE1ZmE7Ym9yZGVyLXJhZGl1czoyMHB4O3BhZGRpbmc6NnB4IDE0cHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NjAwO2N1cnNvcjpwb2ludGVyO2ZvbnQtZmFtaWx5OmluaGVyaXQiPvCfpZcgTWVhbCBzdWdnZXN0aW9uPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNsYXVkZVF1aWNrUHJvbXB0KCdBbmFseXplIG15IG51dHJpdGlvbiB0aGlzIHdlZWsgYW5kIGdpdmUgbWUgaW5zaWdodHMuJykiIHN0eWxlPSJ3aGl0ZS1zcGFjZTpub3dyYXA7YmFja2dyb3VuZDojMGYxNzJhO2JvcmRlcjoxcHggc29saWQgIzFlM2E1Zjtjb2xvcjojNjBhNWZhO2JvcmRlci1yYWRpdXM6MjBweDtwYWRkaW5nOjZweCAxNHB4O2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjYwMDtjdXJzb3I6cG9pbnRlcjtmb250LWZhbWlseTppbmhlcml0Ij7wn5OKIFdlZWtseSBhbmFseXNpczwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbGF1ZGVRdWlja1Byb21wdCgnU2hvdWxkIEkgcnVuIHRvZGF5IGJhc2VkIG9uIG15IHdvcmtvdXQgc2NoZWR1bGUgYW5kIHJlY292ZXJ5PycpIiBzdHlsZT0id2hpdGUtc3BhY2U6bm93cmFwO2JhY2tncm91bmQ6IzBmMTcyYTtib3JkZXI6MXB4IHNvbGlkICMxZTNhNWY7Y29sb3I6IzYwYTVmYTtib3JkZXItcmFkaXVzOjIwcHg7cGFkZGluZzo2cHggMTRweDtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo2MDA7Y3Vyc29yOnBvaW50ZXI7Zm9udC1mYW1pbHk6aW5oZXJpdCI+8J+PgyBSdW4gdG9kYXk/PC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNsYXVkZVF1aWNrUHJvbXB0KCdIb3cgYW0gSSB0cmFja2luZyB0b3dhcmQgbXkgd2VpZ2h0IGxvc3MgZ29hbD8nKSIgc3R5bGU9IndoaXRlLXNwYWNlOm5vd3JhcDtiYWNrZ3JvdW5kOiMwZjE3MmE7Ym9yZGVyOjFweCBzb2xpZCAjMWUzYTVmO2NvbG9yOiM2MGE1ZmE7Ym9yZGVyLXJhZGl1czoyMHB4O3BhZGRpbmc6NnB4IDE0cHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NjAwO2N1cnNvcjpwb2ludGVyO2ZvbnQtZmFtaWx5OmluaGVyaXQiPuKalu+4jyBXZWlnaHQgcHJvZ3Jlc3M8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPCEtLSBDaGF0IG1lc3NhZ2VzIC0tPgogICAgICAgIDxkaXYgaWQ9ImNsYXVkZUNoYXRNZXNzYWdlcyIgc3R5bGU9ImZsZXg6MTtvdmVyZmxvdy15OmF1dG87cGFkZGluZzoxNnB4O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Z2FwOjEycHgiPgogICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzMzNDE1NTtmb250LXNpemU6MTNweDttYXJnaW4tdG9wOjIwcHgiPkFzayBtZSBhbnl0aGluZyBhYm91dCB5b3VyIGZpdG5lc3MsIG51dHJpdGlvbiwgb3IgdHJhaW5pbmcuPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gSW5wdXQgLS0+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMnB4IDE2cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgIzFlMjkzYjtmbGV4LXNocmluazowO2Rpc3BsYXk6ZmxleDtnYXA6MTBweDthbGlnbi1pdGVtczpmbGV4LWVuZCI+CiAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImNsYXVkZUlucHV0IiBwbGFjZWhvbGRlcj0iQXNrIENsYXVkZS4uLiIgcm93cz0iMSIgc3R5bGU9ImZsZXg6MTtiYWNrZ3JvdW5kOiMwZjE3MmE7Ym9yZGVyOjEuNXB4IHNvbGlkICMxZTNhNWY7Ym9yZGVyLXJhZGl1czoxNHB4O3BhZGRpbmc6MTJweCAxNHB4O2NvbG9yOiNmZmY7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6aW5oZXJpdDtyZXNpemU6bm9uZTtvdXRsaW5lOm5vbmU7bWF4LWhlaWdodDoxMjBweDtvdmVyZmxvdy15OmF1dG87bGluZS1oZWlnaHQ6MS40IiBvbmtleWRvd249ImlmKGV2ZW50LmtleT09PSdFbnRlcicmJiFldmVudC5zaGlmdEtleSl7ZXZlbnQucHJldmVudERlZmF1bHQoKTtzZW5kQ2xhdWRlTWVzc2FnZSgpfSIgb25pbnB1dD0idGhpcy5zdHlsZS5oZWlnaHQ9J2F1dG8nO3RoaXMuc3R5bGUuaGVpZ2h0PXRoaXMuc2Nyb2xsSGVpZ2h0KydweCciPjwvdGV4dGFyZWE+CiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNlbmRDbGF1ZGVNZXNzYWdlKCkiIGlkPSJjbGF1ZGVTZW5kQnRuIiBzdHlsZT0iYmFja2dyb3VuZDojM2I4MmY2O2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MTJweDt3aWR0aDo0NHB4O2hlaWdodDo0NHB4O2NvbG9yOiNmZmY7Zm9udC1zaXplOjE4cHg7Y3Vyc29yOnBvaW50ZXI7ZmxleC1zaHJpbms6MDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXIiPuKepDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKPCEtLSDwn5qAIEhpZGRlbiBEZXBsb3kgTW9kYWwg4oCUIHRhcCBoZWFkZXIgNXggdG8gb3BlbiAtLT4KPGRpdiBpZD0iZGVwbG95TW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQ7aW5zZXQ6MDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC44NSk7ei1pbmRleDo5OTk5O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIj4KICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyOjFweCBzb2xpZCAjMmEyYTJhO2JvcmRlci1yYWRpdXM6MjBweDtwYWRkaW5nOjMycHg7d2lkdGg6OTAlO21heC13aWR0aDo0MjBweCI+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206MjBweCI+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxOHB4O2ZvbnQtd2VpZ2h0OjcwMCI+8J+agCBEZXBsb3kgVXBkYXRlPC9kaXY+CiAgICAgIDxidXR0b24gb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveU1vZGFsJykuc3R5bGUuZGlzcGxheT0nbm9uZSciIHN0eWxlPSJiYWNrZ3JvdW5kOm5vbmU7Ym9yZGVyOm5vbmU7Y29sb3I6IzY2Njtmb250LXNpemU6MjBweDtjdXJzb3I6cG9pbnRlciI+4pyVPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojNjY2O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtsZXR0ZXItc3BhY2luZzowLjhweDttYXJnaW4tYm90dG9tOjhweCI+R2l0SHViIFRva2VuPC9kaXY+CiAgICA8aW5wdXQgaWQ9ImRlcGxveVRva2VuIiB0eXBlPSJwYXNzd29yZCIgcGxhY2Vob2xkZXI9ImdocF8uLi4iIHN0eWxlPSJ3aWR0aDoxMDAlO2JhY2tncm91bmQ6IzExMTtib3JkZXI6MS41cHggc29saWQgIzJhMmEyYTtib3JkZXItcmFkaXVzOjEwcHg7cGFkZGluZzoxMnB4O2NvbG9yOiNmZmY7Zm9udC1zaXplOjE0cHg7bWFyZ2luLWJvdHRvbTo2cHg7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OmluaGVyaXQiPgogICAgPGRpdiBpZD0iZGVwbG95VG9rZW5TYXZlZCIgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOiMyMmM1NWU7bWFyZ2luLWJvdHRvbToxNnB4O2Rpc3BsYXk6bm9uZSI+4pyTIFRva2VuIHNhdmVkPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6IzY2Njt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MC44cHg7bWFyZ2luLWJvdHRvbTo4cHgiPk5ldyBpbmRleC5odG1sPC9kaXY+CiAgICA8ZGl2IGlkPSJkZXBsb3lEcm9wIiBzdHlsZT0iYm9yZGVyOjJweCBkYXNoZWQgIzJhMmEyYTtib3JkZXItcmFkaXVzOjE0cHg7cGFkZGluZzozMHB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO21hcmdpbi1ib3R0b206MTZweDt0cmFuc2l0aW9uOmFsbCAwLjJzIj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjI4cHg7bWFyZ2luLWJvdHRvbTo4cHgiPvCfk4Q8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6IzY2NiI+RHJhZyBmaWxlIGhlcmUgb3IgPHNwYW4gc3R5bGU9ImNvbG9yOiMzYjgyZjYiPnRhcCB0byBicm93c2U8L3NwYW4+PC9kaXY+CiAgICAgIDxkaXYgaWQ9ImRlcGxveUZpbGVOYW1lIiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6IzIyYzU1ZTttYXJnaW4tdG9wOjZweDtmb250LXdlaWdodDo2MDAiPjwvZGl2PgogICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImRlcGxveUZpbGVJbnB1dCIgYWNjZXB0PSIuaHRtbCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+CiAgICA8L2Rpdj4KICAgIDxidXR0b24gaWQ9ImRlcGxveVN1Ym1pdEJ0biIgb25jbGljaz0icnVuRGVwbG95KCkiIGRpc2FibGVkIHN0eWxlPSJ3aWR0aDoxMDAlO2JhY2tncm91bmQ6IzNiODJmNjtjb2xvcjojZmZmO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjE0cHg7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NzAwO2N1cnNvcjpwb2ludGVyO2ZvbnQtZmFtaWx5OmluaGVyaXQ7b3BhY2l0eTowLjQiPkRlcGxveSB0byBDbG91ZGZsYXJlPC9idXR0b24+CiAgICA8ZGl2IGlkPSJkZXBsb3lTdGF0dXMiIHN0eWxlPSJtYXJnaW4tdG9wOjE0cHg7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NjAwO3RleHQtYWxpZ246Y2VudGVyO2Rpc3BsYXk6bm9uZSI+PC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPGRpdiBjbGFzcz0idGFiLWJhciI+CiAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biBhY3RpdmUiIG9uY2xpY2s9InN3aXRjaFRhYigndG9kYXknLHRoaXMpIj48c3BhbiBjbGFzcz0idGFiLWljb24iPvCfj6A8L3NwYW4+VG9kYXk8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuIiBvbmNsaWNrPSJzd2l0Y2hUYWIoJ3JlY2lwZXMnLHRoaXMpIj48c3BhbiBjbGFzcz0idGFiLWljb24iPvCfjb3vuI88L3NwYW4+UmVjaXBlczwvYnV0dG9uPgogIDxidXR0b24gY2xhc3M9InRhYi1idG4iIG9uY2xpY2s9InN3aXRjaFRhYigndHJlbmRzJyx0aGlzKSI+PHNwYW4gY2xhc3M9InRhYi1pY29uIj7wn5OKPC9zcGFuPlRyZW5kczwvYnV0dG9uPgogIDxidXR0b24gY2xhc3M9InRhYi1idG4iIG9uY2xpY2s9InN3aXRjaFRhYignc2hvZXMnLHRoaXMpIj48c3BhbiBjbGFzcz0idGFiLWljb24iPvCfkZ88L3NwYW4+U2hvZXM8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuIiBvbmNsaWNrPSJzd2l0Y2hUYWIoJ2xpZnQnLHRoaXMpIj48c3BhbiBjbGFzcz0idGFiLWljb24iPvCfj4vvuI88L3NwYW4+V29ya291dDwvYnV0dG9uPgogIDxidXR0b24gY2xhc3M9InRhYi1idG4iIG9uY2xpY2s9InN3aXRjaFRhYigncHJvZ3JhbScsdGhpcykiPjxzcGFuIGNsYXNzPSJ0YWItaWNvbiI+8J+Tizwvc3Bhbj5Qcm9ncmFtPC9idXR0b24+CiAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biIgb25jbGljaz0ic3dpdGNoVGFiKCdoaXN0b3J5Jyx0aGlzKSI+PHNwYW4gY2xhc3M9InRhYi1pY29uIj7wn5eT77iPPC9zcGFuPkhpc3Rvcnk8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuIiBvbmNsaWNrPSJzd2l0Y2hUYWIoJ2NsYXVkZScsdGhpcykiPjxzcGFuIGNsYXNzPSJ0YWItaWNvbiI+8J+kljwvc3Bhbj5BSTwvYnV0dG9uPgo8L2Rpdj4KCjxzY3JpcHQ+CmNvbnN0IE1BQ1JPUyA9IHsgY2Fsb3JpZXM6IDIyMDAsIHByb3RlaW46IDE5MCwgY2FyYnM6IDE5MCwgZmF0OiA2NSB9Owpjb25zdCBUREVFICAgPSAyODAwOyAvLyBNYWludGVuYW5jZSBjYWxvcmllcyDigJQgdGFyZ2V0IGlzIDYwMCBrY2FsIGJlbG93IHRoaXMKY29uc3QgTUFDUk9fQ09MT1JTID0geyBjYWxvcmllczogJyNmNTllMGInLCBwcm90ZWluOiAnIzRhZGU4MCcsIGNhcmJzOiAnIzYwYTVmYScsIGZhdDogJyNmODcxNzEnIH07Cgpjb25zdCBQUk9HUkFNID0gewogIEE6IHsgbmFtZTogJ1B1c2ggRGF5IEEnLCBleGVyY2lzZXM6IFsKICAgIHsgbmFtZTogJ0JhcmJlbGwgQmVuY2ggUHJlc3MnLCBzZXRzOiA0LCByZXBzOiAnNuKAkzgnLCBub3RlczogJ1ByaW1hcnkgY2hlc3QgYnVpbGRlcicgfSwKICAgIHsgbmFtZTogJ0luY2xpbmUgRHVtYmJlbGwgUHJlc3MnLCBzZXRzOiAzLCByZXBzOiAnOOKAkzEwJywgbm90ZXM6ICcnIH0sCiAgICB7IG5hbWU6ICdPdmVyaGVhZCBQcmVzcycsIHNldHM6IDQsIHJlcHM6ICc24oCTOCcsIG5vdGVzOiAnU2VhdGVkIG9yIHN0YW5kaW5nJyB9LAogICAgeyBuYW1lOiAnTGF0ZXJhbCBSYWlzZXMnLCBzZXRzOiAzLCByZXBzOiAnMTLigJMxNScsIG5vdGVzOiAnTGlnaHQsIGNvbnRyb2xsZWQnIH0sCiAgICB7IG5hbWU6ICdUcmljZXAgUHVzaGRvd25zJywgc2V0czogMywgcmVwczogJzEw4oCTMTInLCBub3RlczogJycgfSwKICAgIHsgbmFtZTogJ092ZXJoZWFkIFRyaWNlcCBFeHQuJywgc2V0czogMywgcmVwczogJzEw4oCTMTInLCBub3RlczogJycgfSwKICBdfSwKICBCOiB7IG5hbWU6ICdQdWxsIERheSBCJywgZXhlcmNpc2VzOiBbCiAgICB7IG5hbWU6ICdCYXJiZWxsIFJvdycsIHNldHM6IDQsIHJlcHM6ICc24oCTOCcsIG5vdGVzOiAnQnJhY2UgY29yZSBoYXJkJyB9LAogICAgeyBuYW1lOiAnTGF0IFB1bGxkb3duJywgc2V0czogMywgcmVwczogJzjigJMxMCcsIG5vdGVzOiAnJyB9LAogICAgeyBuYW1lOiAnU2VhdGVkIENhYmxlIFJvdycsIHNldHM6IDMsIHJlcHM6ICcxMOKAkzEyJywgbm90ZXM6ICcnIH0sCiAgICB7IG5hbWU6ICdGYWNlIFB1bGxzJywgc2V0czogMywgcmVwczogJzE14oCTMjAnLCBub3RlczogJ1Nob3VsZGVyIGhlYWx0aCBlc3NlbnRpYWwnIH0sCiAgICB7IG5hbWU6ICdCYXJiZWxsIEN1cmwnLCBzZXRzOiAzLCByZXBzOiAnOOKAkzEwJywgbm90ZXM6ICcnIH0sCiAgICB7IG5hbWU6ICdIYW1tZXIgQ3VybCcsIHNldHM6IDMsIHJlcHM6ICcxMOKAkzEyJywgbm90ZXM6ICcnIH0sCiAgXX0sCiAgQzogeyBuYW1lOiAnTGVncyAmIENvcmUgRGF5IEMnLCBleGVyY2lzZXM6IFsKICAgIHsgbmFtZTogJ0JhcmJlbGwgU3F1YXQnLCBzZXRzOiA0LCByZXBzOiAnNuKAkzgnLCBub3RlczogJ1ByaW9yaXRpemUgZGVwdGggJiBmb3JtJyB9LAogICAgeyBuYW1lOiAnUm9tYW5pYW4gRGVhZGxpZnQnLCBzZXRzOiAzLCByZXBzOiAnOOKAkzEwJywgbm90ZXM6ICdIaXAgaGluZ2UgZm9jdXMnIH0sCiAgICB7IG5hbWU6ICdMZWcgUHJlc3MnLCBzZXRzOiAzLCByZXBzOiAnMTDigJMxMicsIG5vdGVzOiAnJyB9LAogICAgeyBuYW1lOiAnTGVnIEN1cmwnLCBzZXRzOiAzLCByZXBzOiAnMTDigJMxMicsIG5vdGVzOiAnJyB9LAogICAgeyBuYW1lOiAnQ2FsZiBSYWlzZScsIHNldHM6IDQsIHJlcHM6ICcxNeKAkzIwJywgbm90ZXM6ICcnIH0sCiAgICB7IG5hbWU6ICdQbGFuaycsIHNldHM6IDMsIHJlcHM6ICc0NeKAkzYwcycsIG5vdGVzOiAnJyB9LAogIF19Cn07Cgpjb25zdCBXRUVLID0gWwogIHsgZGF5OiAnTW9uJywgdHlwZTogJ2xpZnQnLCBzZXNzOiAnQycgfSwKICB7IGRheTogJ1R1ZScsIHR5cGU6ICdydW4nLCBzZXNzOiBudWxsIH0sCiAgeyBkYXk6ICdXZWQnLCB0eXBlOiAncnVuJywgc2VzczogbnVsbCB9LAogIHsgZGF5OiAnVGh1JywgdHlwZTogJ3J1bicsIHNlc3M6IG51bGwgfSwKICB7IGRheTogJ0ZyaScsIHR5cGU6ICdsaWZ0Jywgc2VzczogJ0EnIH0sCiAgeyBkYXk6ICdTYXQnLCB0eXBlOiAnbG9uZ3J1bicsIHNlc3M6ICdCJywgb3B0TGlmdDogdHJ1ZSB9LAogIHsgZGF5OiAnU3VuJywgdHlwZTogJ3JlY292ZXJ5cnVuJywgc2VzczogbnVsbCB9LApdOwoKY29uc3QgREFZX01BUCA9IHsgTW9uOjEsIFR1ZToyLCBXZWQ6MywgVGh1OjQsIEZyaTo1LCBTYXQ6NiwgU3VuOjAgfTsKLy8g4pSA4pSAIEVTVCBEYXRlIEhlbHBlcnMg4pSA4pSACmxldCBfbm93RVNUY2FjaGUgPSBudWxsLCBfbm93RVNUY2FjaGVUcyA9IDA7CmZ1bmN0aW9uIG5vd0VTVCgpIHsKICAvLyBDYWNoZSB0aGUgRVNUIHRpbWUgZm9yIDEgc2Vjb25kLCBidXQgYWx3YXlzIHJldHVybiBhIENPUFkKICAvLyBzbyBjYWxsZXJzIGNhbiBzYWZlbHkgY2FsbCBzZXREYXRlL3NldE1vbnRoIGV0YyB3aXRob3V0IHBvaXNvbmluZyB0aGUgY2FjaGUKICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogIGlmIChub3cgLSBfbm93RVNUY2FjaGVUcyA+PSAxMDAwIHx8ICFfbm93RVNUY2FjaGUpIHsKICAgIF9ub3dFU1RjYWNoZSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywgeyB0aW1lWm9uZTogJ0FtZXJpY2EvTmV3X1lvcmsnIH0pKTsKICAgIF9ub3dFU1RjYWNoZVRzID0gbm93OwogIH0KICByZXR1cm4gbmV3IERhdGUoX25vd0VTVGNhY2hlKTsgLy8gYWx3YXlzIGEgZnJlc2ggY29weQp9CgpmdW5jdGlvbiBkYXRlVG9LZXkoZCkgewogIC8vIEZvcm1hdCBhIGRhdGUgb2JqZWN0IGFzIFlZWVktTU0tREQKICBjb25zdCB5ID0gZC5nZXRGdWxsWWVhcigpOwogIGNvbnN0IG0gPSBTdHJpbmcoZC5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsKICBjb25zdCBkYXkgPSBTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgcmV0dXJuIGAke3l9LSR7bX0tJHtkYXl9YDsKfQoKY29uc3QgdG9kYXlLZXkgPSAoKSA9PiBkYXRlVG9LZXkobm93RVNUKCkpOwoKLy8g4pSA4pSAIFNlbGVjdGVkIERheSAoZm9yIHZpZXdpbmcvZWRpdGluZyBwYXN0IGRheXMpIOKUgOKUgApsZXQgc2VsZWN0ZWREYXRlS2V5ID0gdG9kYXlLZXkoKTsKCmZ1bmN0aW9uIGdldFNlbGVjdGVkRGF0ZUtleSgpIHsgcmV0dXJuIHNlbGVjdGVkRGF0ZUtleTsgfQoKZnVuY3Rpb24gc2V0U2VsZWN0ZWREYXkoZGF0ZUtleSkgewogIHNlbGVjdGVkRGF0ZUtleSA9IGRhdGVLZXk7CiAgdXBkYXRlRGF0ZU5hdkJhcigpOwogIHJlbmRlclJpbmdzKCk7CiAgcmVuZGVyRm9vZExvZygpOwogIHJlbmRlcldlZWtTdHJpcCgpOwogIGNoZWNrQ29weVllc3RlcmRheSgpOwogIHJlbmRlcldlZWtseUJhbGFuY2UoKTsKfQoKZnVuY3Rpb24gc2hpZnRTZWxlY3RlZERheShkZWx0YSkgewogIGNvbnN0IGQgPSBuZXcgRGF0ZShzZWxlY3RlZERhdGVLZXkgKyAnVDEyOjAwOjAwJyk7IC8vIG5vb24gdG8gYXZvaWQgRFNUIGVkZ2UKICBkLnNldERhdGUoZC5nZXREYXRlKCkgKyBkZWx0YSk7CiAgY29uc3QgbmV3S2V5ID0gZGF0ZVRvS2V5KGQpOwogIC8vIERvbid0IGFsbG93IGdvaW5nIGludG8gdGhlIGZ1dHVyZSBwYXN0IHRvZGF5CiAgaWYgKG5ld0tleSA+IHRvZGF5S2V5KCkpIHJldHVybjsKICBzZXRTZWxlY3RlZERheShuZXdLZXkpOwp9CgpmdW5jdGlvbiB1cGRhdGVEYXRlTmF2QmFyKCkgewogIGNvbnN0IHRvZGF5ID0gdG9kYXlLZXkoKTsKICBjb25zdCBpc1RvZGF5ID0gc2VsZWN0ZWREYXRlS2V5ID09PSB0b2RheTsKICBjb25zdCBsYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGVkRGF5TGFiZWwnKTsKICBjb25zdCBzdWJFbCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGVkRGF5U3ViJyk7CiAgY29uc3QgbmV4dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0RGF5QnRuJyk7CgogIC8vIEh1bWFuLWZyaWVuZGx5IGxhYmVsCiAgY29uc3QgZCA9IG5ldyBEYXRlKHNlbGVjdGVkRGF0ZUtleSArICdUMTI6MDA6MDAnKTsKICBjb25zdCBkYXlOYW1lID0gZC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyB3ZWVrZGF5Oidsb25nJyB9KTsKICBjb25zdCBkYXRlRm10ID0gZC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBtb250aDonc2hvcnQnLCBkYXk6J251bWVyaWMnLCB5ZWFyOidudW1lcmljJyB9KTsKCiAgaWYgKGlzVG9kYXkpIHsKICAgIGxhYmVsRWwudGV4dENvbnRlbnQgPSAnVG9kYXknOwogICAgbGFiZWxFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS1ncmVlbiknOwogICAgc3ViRWwudGV4dENvbnRlbnQgPSBkYXRlRm10OwogIH0gZWxzZSB7CiAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGgucm91bmQoKG5ldyBEYXRlKHRvZGF5ICsgJ1QxMjowMDowMCcpIC0gZCkgLyA4NjQwMDAwMCk7CiAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gZGlmZkRheXMgPT09IDEgPyAnWWVzdGVyZGF5JyA6IGRheU5hbWU7CiAgICBsYWJlbEVsLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQpJzsKICAgIHN1YkVsLnRleHRDb250ZW50ID0gZGF0ZUZtdCArIChkaWZmRGF5cyA+IDEgPyBgIMK3ICR7ZGlmZkRheXN9IGRheXMgYWdvYCA6ICcnKTsKICB9CgogIC8vIERpc2FibGUgbmV4dCBidXR0b24gd2hlbiB2aWV3aW5nIHRvZGF5CiAgbmV4dEJ0bi5zdHlsZS5vcGFjaXR5ID0gaXNUb2RheSA/ICcwLjMnIDogJzEnOwogIG5leHRCdG4uc3R5bGUucG9pbnRlckV2ZW50cyA9IGlzVG9kYXkgPyAnbm9uZScgOiAnYXV0byc7Cn0KCmZ1bmN0aW9uIGdldFllc3RlcmRheUtleSgpIHsKICBjb25zdCBkID0gbm93RVNUKCk7CiAgZC5zZXREYXRlKGQuZ2V0RGF0ZSgpIC0gMSk7CiAgcmV0dXJuIGRhdGVUb0tleShkKTsKfQoKLy8g4pSA4pSAIEhlYWRlciBEYXRlIERpc3BsYXkg4pSA4pSACmZ1bmN0aW9uIHVwZGF0ZUhlYWRlckRhdGUoKSB7CiAgY29uc3QgZCA9IG5vd0VTVCgpOwogIGNvbnN0IGxhYmVsID0gZC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyB3ZWVrZGF5OiAnbG9uZycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnLCB0aW1lWm9uZTogJ0FtZXJpY2EvTmV3X1lvcmsnIH0pOwogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlckRhdGVMYWJlbCcpOwogIGlmIChlbCkgZWwudGV4dENvbnRlbnQgPSBsYWJlbDsKfQoKLy8g4pSA4pSAIEF1dG8gTWlkbmlnaHQgUmVmcmVzaCDilIDilIAKZnVuY3Rpb24gc2NoZWR1bGVNaWRuaWdodFJlZnJlc2goKSB7CiAgY29uc3Qgbm93ID0gbm93RVNUKCk7CiAgY29uc3QgbXNVbnRpbE1pZG5pZ2h0ID0KICAgICgoMjMgLSBub3cuZ2V0SG91cnMoKSkgKiA2MCAqIDYwICsKICAgICAoNTkgLSBub3cuZ2V0TWludXRlcygpKSAqIDYwICsKICAgICAoNjAgLSBub3cuZ2V0U2Vjb25kcygpKSkgKiAxMDAwOwoKICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vIE5ldyBkYXkg4oCUIGNsZWFyIHRvZGF5J3MgYnVybiBhZGp1c3RtZW50IHNvIHllc3RlcmRheSdzIHJ1biBkb2Vzbid0IGNhcnJ5IG92ZXIKICAgIHNldFN0b3JhZ2UoJ2dhcm1pbkFkanVzdGVkTWFjcm9zJywgbnVsbCk7CiAgICAvLyBLZWVwIGJ1cm5Mb2cgZW50cmllcyAoaGlzdG9yaWNhbCkgYnV0IGNsZWFyIHRoZSBhZGp1c3RtZW50CiAgICB1cGRhdGVIZWFkZXJEYXRlKCk7CiAgICByZW5kZXJXZWVrU3RyaXAoKTsKICAgIHJlbmRlclJpbmdzKCk7CiAgICByZW5kZXJGb29kTG9nKCk7CiAgICByZW5kZXJXZWlnaHRUcmVuZCgpOwogICAgcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwogICAgY2hlY2tDb3B5WWVzdGVyZGF5KCk7CiAgICBjaGVja0FkYXB0aXZlTWFjcm9zKCk7CiAgICBsb2FkRGFpbHlRdW90ZSgpOwogICAgc2hvd1RvYXN0KCfwn4yFIEdvb2QgbW9ybmluZyEgTmV3IGRheSBzdGFydGVkLicpOwogICAgc2NoZWR1bGVNaWRuaWdodFJlZnJlc2goKTsgLy8gc2NoZWR1bGUgbmV4dCBtaWRuaWdodAogIH0sIG1zVW50aWxNaWRuaWdodCArIDEwMDApOyAvLyArMXMgYnVmZmVyCn0KCmxldCBhY3RpdmVTZXNzaW9uID0gJ0EnOwoKLy8g4pSA4pSAIEhUTUwgZXNjYXBlIGhlbHBlciDigJQgcHJldmVudHMgWFNTIGZyb20gdXNlci1lbnRlcmVkIG5hbWVzIGluIGlubmVySFRNTCDilIDilIAKZnVuY3Rpb24gZXNjKHN0cikgewogIGlmICghc3RyKSByZXR1cm4gJyc7CiAgcmV0dXJuIFN0cmluZyhzdHIpCiAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKQogICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKQogICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKQogICAgLnJlcGxhY2UoLyIvZywgJyZxdW90OycpCiAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKTsKfQoKLy8g4pSA4pSAIFJlbmRlciBzY2hlZHVsZXIg4oCUIGJhdGNoZXMgbXVsdGlwbGUgcmVuZGVyIGNhbGxzIHdpdGhpbiBvbmUgYW5pbWF0aW9uIGZyYW1lIOKUgOKUgApjb25zdCBfcGVuZGluZ1JlbmRlcnMgPSBuZXcgU2V0KCk7CmxldCAgIF9yZW5kZXJSQUYgPSBudWxsOwpmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcihmbikgewogIF9wZW5kaW5nUmVuZGVycy5hZGQoZm4pOwogIGlmICghX3JlbmRlclJBRikgewogICAgX3JlbmRlclJBRiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgIF9yZW5kZXJSQUYgPSBudWxsOwogICAgICBjb25zdCBmbnMgPSBbLi4uX3BlbmRpbmdSZW5kZXJzXTsKICAgICAgX3BlbmRpbmdSZW5kZXJzLmNsZWFyKCk7CiAgICAgIGZucy5mb3JFYWNoKGYgPT4gZigpKTsKICAgIH0pOwogIH0KfQoKZnVuY3Rpb24gZ2V0U3RvcmFnZShrZXksIGRlZikgewogIHRyeSB7IHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpIHx8IGRlZjsgfSBjYXRjaCB7IHJldHVybiBkZWY7IH0KfQpmdW5jdGlvbiBzZXRTdG9yYWdlKGtleSwgdmFsKSB7CiAgdHJ5IHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsKSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ3NldFN0b3JhZ2UgZmFpbGVkIGZvciBrZXk6Jywga2V5LCBlKTsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KCi8vIOKUgOKUgCBTVkcgUmluZyDilIDilIAKbGV0IHJpbmdNb2RlID0gJ2NvbnN1bWVkJzsgLy8gJ2NvbnN1bWVkJyB8ICdyZW1haW5pbmcnCgpmdW5jdGlvbiBzZXRSaW5nTW9kZShtb2RlKSB7CiAgcmluZ01vZGUgPSBtb2RlOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVDb25zdW1lZCcpLnN0eWxlLmNzc1RleHQgID0gYHBhZGRpbmc6NXB4IDE0cHg7Ym9yZGVyLXJhZGl1czoxNnB4O2JvcmRlcjpub25lO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YWxsIDAuMnM7YmFja2dyb3VuZDoke21vZGU9PT0nY29uc3VtZWQnPyd2YXIoLS1ncmVlbiknOid0cmFuc3BhcmVudCd9O2NvbG9yOiR7bW9kZT09PSdjb25zdW1lZCc/JyNmZmYnOid2YXIoLS10ZXh0MyknfWA7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZVJlbWFpbmluZycpLnN0eWxlLmNzc1RleHQgPSBgcGFkZGluZzo1cHggMTRweDtib3JkZXItcmFkaXVzOjE2cHg7Ym9yZGVyOm5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjphbGwgMC4ycztiYWNrZ3JvdW5kOiR7bW9kZT09PSdyZW1haW5pbmcnPyd2YXIoLS1ibHVlKSc6J3RyYW5zcGFyZW50J307Y29sb3I6JHttb2RlPT09J3JlbWFpbmluZyc/JyNmZmYnOid2YXIoLS10ZXh0MyknfWA7CiAgcmVuZGVyUmluZ3MoKTsKfQoKZnVuY3Rpb24gbWFrZVNWR1JpbmcoY29uc3VtZWQsIG1heCwgY29sb3IsIGxhYmVsLCB1bml0LCBtb2RlKSB7CiAgY29uc3QgciA9IDM2LCBjaXJjID0gMiAqIE1hdGguUEkgKiByOwogIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIG1heCAtIGNvbnN1bWVkKTsKICBjb25zdCBvdmVyID0gY29uc3VtZWQgPiBtYXg7CgogIGlmIChtb2RlID09PSAncmVtYWluaW5nJykgewogICAgY29uc3QgcGN0ICA9IE1hdGgubWluKHJlbWFpbmluZyAvIG1heCwgMSk7CiAgICBjb25zdCBkYXNoID0gcGN0ICogY2lyYzsKICAgIGNvbnN0IHJpbmdDb2xvciA9IG92ZXIgPyAnI2VmNDQ0NCcgOiBjb2xvcjsKICAgIGNvbnN0IGRpc3BsYXlWYWwgPSBvdmVyID8gYC0ke01hdGgucm91bmQoY29uc3VtZWQgLSBtYXgpfWAgOiAodW5pdCA9PT0gJ2tjYWwnID8gTWF0aC5yb3VuZChyZW1haW5pbmcpIDogcmVtYWluaW5nLnRvRml4ZWQoMSkucmVwbGFjZSgvXC4wJC8sJycpKTsKICAgIHJldHVybiBgPGRpdiBjbGFzcz0icmluZy13cmFwIj4KICAgICAgPHN2ZyB3aWR0aD0iOTAiIGhlaWdodD0iOTAiIHZpZXdCb3g9IjAgMCA5MCA5MCI+CiAgICAgICAgPGNpcmNsZSBjeD0iNDUiIGN5PSI0NSIgcj0iJHtyfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZThlYWYyIiBzdHJva2Utd2lkdGg9IjgiLz4KICAgICAgICA8Y2lyY2xlIGN4PSI0NSIgY3k9IjQ1IiByPSIke3J9IiBmaWxsPSJub25lIiBzdHJva2U9IiR7cmluZ0NvbG9yfSIgc3Ryb2tlLXdpZHRoPSI4IgogICAgICAgICAgc3Ryb2tlLWRhc2hhcnJheT0iJHtkYXNofSAke2NpcmN9IiBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICAgICAgICB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgNDUgNDUpIiBzdHlsZT0idHJhbnNpdGlvbjpzdHJva2UtZGFzaGFycmF5IDAuNXMgZWFzZSIvPgogICAgICAgIDx0ZXh0IHg9IjQ1IiB5PSI0MSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iJHtvdmVyPycjZWY0NDQ0JzonI2VlZjBmNid9IiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iNzAwIiBmb250LWZhbWlseT0iUGx1cyBKYWthcnRhIFNhbnMsc2Fucy1zZXJpZiI+JHtkaXNwbGF5VmFsfTwvdGV4dD4KICAgICAgICA8dGV4dCB4PSI0NSIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM0ZDU0NjgiIGZvbnQtc2l6ZT0iOSIgZm9udC1mYW1pbHk9IlBsdXMgSmFrYXJ0YSBTYW5zLHNhbnMtc2VyaWYiPiR7dW5pdH0gbGVmdDwvdGV4dD4KICAgICAgPC9zdmc+CiAgICAgIDxkaXYgY2xhc3M9InJpbmctbGJsIiBzdHlsZT0iY29sb3I6JHtyaW5nQ29sb3J9Ij4ke2xhYmVsfTwvZGl2PgogICAgPC9kaXY+YDsKICB9IGVsc2UgewogICAgY29uc3QgcGN0ICA9IE1hdGgubWluKGNvbnN1bWVkIC8gbWF4LCAxKTsKICAgIGNvbnN0IGRhc2ggPSBwY3QgKiBjaXJjOwogICAgY29uc3QgcmluZ0NvbG9yID0gb3ZlciA/ICcjZWY0NDQ0JyA6IGNvbG9yOwogICAgY29uc3QgZGlzcGxheVZhbCA9IHVuaXQgPT09ICdrY2FsJyA/IE1hdGgucm91bmQoY29uc3VtZWQpIDogKE51bWJlci5pc0ludGVnZXIoY29uc3VtZWQpID8gY29uc3VtZWQgOiBjb25zdW1lZC50b0ZpeGVkKDEpLnJlcGxhY2UoL1wuMCQvLCcnKSk7CiAgICByZXR1cm4gYDxkaXYgY2xhc3M9InJpbmctd3JhcCI+CiAgICAgIDxzdmcgd2lkdGg9IjkwIiBoZWlnaHQ9IjkwIiB2aWV3Qm94PSIwIDAgOTAgOTAiPgogICAgICAgIDxjaXJjbGUgY3g9IjQ1IiBjeT0iNDUiIHI9IiR7cn0iIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2U4ZWFmMiIgc3Ryb2tlLXdpZHRoPSI4Ii8+CiAgICAgICAgPGNpcmNsZSBjeD0iNDUiIGN5PSI0NSIgcj0iJHtyfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIke3JpbmdDb2xvcn0iIHN0cm9rZS13aWR0aD0iOCIKICAgICAgICAgIHN0cm9rZS1kYXNoYXJyYXk9IiR7ZGFzaH0gJHtjaXJjfSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogICAgICAgICAgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDQ1IDQ1KSIgc3R5bGU9InRyYW5zaXRpb246c3Ryb2tlLWRhc2hhcnJheSAwLjVzIGVhc2UiLz4KICAgICAgICA8dGV4dCB4PSI0NSIgeT0iNDEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNlZWYwZjYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSI3MDAiIGZvbnQtZmFtaWx5PSJQbHVzIEpha2FydGEgU2FucyxzYW5zLXNlcmlmIj4ke2Rpc3BsYXlWYWx9PC90ZXh0PgogICAgICAgIDx0ZXh0IHg9IjQ1IiB5PSI1NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzRkNTQ2OCIgZm9udC1zaXplPSI5IiBmb250LWZhbWlseT0iUGx1cyBKYWthcnRhIFNhbnMsc2Fucy1zZXJpZiI+JHt1bml0fTwvdGV4dD4KICAgICAgPC9zdmc+CiAgICAgIDxkaXYgY2xhc3M9InJpbmctbGJsIiBzdHlsZT0iY29sb3I6JHtyaW5nQ29sb3J9Ij4ke2xhYmVsfTwvZGl2PgogICAgPC9kaXY+YDsKICB9Cn0KCmZ1bmN0aW9uIHJlbmRlcldlZWtTdHJpcCgpIHsKICBjb25zdCB0b2RheURvdyA9IG5vd0VTVCgpLmdldERheSgpOwogIGNvbnN0IHR5cGVDb2xvcnMgPSB7IGxpZnQ6JyMyMmM1NWUnLCBydW46JyMzYjgyZjYnLCByZXN0OicjNGQ1NDY4Jywgb3B0aW9uYWw6JyM4YjVjZjYnLCBsb25ncnVuOicjZjU5ZTBiJywgcmVjb3ZlcnlydW46JyMwNmI2ZDQnIH07CiAgY29uc3QgdHlwZUJnICAgICA9IHsgbGlmdDonIzBkMmQxYScsIHJ1bjonIzBkMWUzZCcsIHJlc3Q6JyMxYTFkMjYnLCBvcHRpb25hbDonIzFhMTAzMCcsIGxvbmdydW46JyMyZDFmMDUnLCByZWNvdmVyeXJ1bjonIzA1MWUyNicgfTsKICBjb25zdCB0eXBlSWNvbnMgID0geyBsaWZ0Oifwn4+L77iPJywgcnVuOifwn4+DJywgcmVzdDon8J+YtCcsIG9wdGlvbmFsOifwn4+L77iPJywgbG9uZ3J1bjon8J+PgycsIHJlY292ZXJ5cnVuOifwn5q2JyB9OwoKICBjb25zdCBub3dFID0gbm93RVNUKCk7CiAgY29uc3QgZG93ICA9IG5vd0UuZ2V0RGF5KCk7CiAgY29uc3QgZGlmZlRvTW9uID0gKGRvdyA9PT0gMCA/IC02IDogMSAtIGRvdyk7CiAgY29uc3Qgd2Vla0tleXMgPSBXRUVLLm1hcCgocywgaSkgPT4gewogICAgY29uc3QgZCA9IG5vd0VTVCgpOwogICAgZC5zZXREYXRlKG5vd0UuZ2V0RGF0ZSgpICsgZGlmZlRvTW9uICsgaSk7CiAgICByZXR1cm4gZGF0ZVRvS2V5KGQpOwogIH0pOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vla1N0cmlwJykuaW5uZXJIVE1MID0gV0VFSy5tYXAoKHMsIGkpID0+IHsKICAgIGNvbnN0IGlzVG9kYXkgICAgPSBEQVlfTUFQW3MuZGF5XSA9PT0gdG9kYXlEb3c7CiAgICBjb25zdCBpc1NlbGVjdGVkID0gd2Vla0tleXNbaV0gPT09IGdldFNlbGVjdGVkRGF0ZUtleSgpOwogICAgY29uc3QgYyAgID0gdHlwZUNvbG9yc1tzLnR5cGVdOwogICAgY29uc3QgYmcgID0gaXNUb2RheSA/IHR5cGVCZ1tzLnR5cGVdIDogJ3ZhcigtLXN1cmZhY2UpJzsKICAgIGNvbnN0IGJvcmRlciA9IGlzVG9kYXkgPyBjICsgJzYwJyA6ICd2YXIoLS1ib3JkZXIpJzsKCiAgICBjb25zdCBzdWJMYWJlbCA9IHMudHlwZSA9PT0gJ29wdGlvbmFsJwogICAgICA/IGA8ZGl2IGNsYXNzPSJ3ZWVrLWRheS1zZXNzIiBzdHlsZT0iY29sb3I6IzhiNWNmNiI+T1BUPC9kaXY+YAogICAgICA6IHMudHlwZSA9PT0gJ2xvbmdydW4nICYmIHMub3B0TGlmdAogICAgICAgID8gYDxkaXYgY2xhc3M9IndlZWstZGF5LXNlc3MiIHN0eWxlPSJjb2xvcjojZjU5ZTBiIj5MT05HPC9kaXY+PGRpdiBzdHlsZT0iZm9udC1zaXplOjdweDtjb2xvcjojOGI1Y2Y2O2ZvbnQtd2VpZ2h0OjgwMDttYXJnaW4tdG9wOjFweCI+K0IgT1BUPC9kaXY+YAogICAgICA6IHMudHlwZSA9PT0gJ2xvbmdydW4nCiAgICAgICAgPyBgPGRpdiBjbGFzcz0id2Vlay1kYXktc2VzcyIgc3R5bGU9ImNvbG9yOiNmNTllMGIiPkxPTkc8L2Rpdj5gCiAgICAgIDogcy50eXBlID09PSAncmVjb3ZlcnlydW4nCiAgICAgICAgPyBgPGRpdiBjbGFzcz0id2Vlay1kYXktc2VzcyIgc3R5bGU9ImNvbG9yOiMwNmI2ZDQiPkVBU1k8L2Rpdj5gCiAgICAgIDogcy5zZXNzICYmIHMudHlwZSA9PT0gJ2xpZnQnCiAgICAgICAgPyBgPGRpdiBjbGFzcz0id2Vlay1kYXktc2VzcyIgc3R5bGU9ImNvbG9yOiR7Y30iPiR7cy5zZXNzfTwvZGl2PmAKICAgICAgOiBgPGRpdiBzdHlsZT0iaGVpZ2h0OjEzcHgiPjwvZGl2PmA7CgogICAgY29uc3Qgc2VsZWN0ZWRDbGFzcyA9IGlzU2VsZWN0ZWQgPyAnIHNlbGVjdGVkJyA6IChpc1RvZGF5ID8gJyB0b2RheS1jYXJkJyA6ICcnKTsKCiAgICByZXR1cm4gYDxkaXYgY2xhc3M9IndlZWstZGF5JHtzZWxlY3RlZENsYXNzfSIgc3R5bGU9ImJhY2tncm91bmQ6JHtiZ307Ym9yZGVyLWNvbG9yOiR7Ym9yZGVyfTsiIG9uY2xpY2s9InNldFNlbGVjdGVkRGF5KCcke3dlZWtLZXlzW2ldfScpIj4KICAgICAgPGRpdiBjbGFzcz0id2Vlay1kYXktbmFtZSR7aXNUb2RheSA/ICcgYWN0aXZlLW5hbWUnIDogJyd9IiBzdHlsZT0iJHtpc1RvZGF5ID8gYGNvbG9yOiR7Y31gIDogJyd9Ij4ke3MuZGF5fTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrLWRheS1pY29uIj4ke3R5cGVJY29uc1tzLnR5cGVdfTwvZGl2PgogICAgICAke3N1YkxhYmVsfQogICAgPC9kaXY+YDsKICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gbG9nTWFjcm9zKCkgewogIGNvbnN0IGNhbHMgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbi1jYWxvcmllcycpLnZhbHVlKSB8fCAwOwogIGNvbnN0IHByb3QgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbi1wcm90ZWluJykudmFsdWUpICB8fCAwOwogIGNvbnN0IGNhcmJzPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbi1jYXJicycpLnZhbHVlKSAgICB8fCAwOwogIGNvbnN0IGZhdCAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbi1mYXQnKS52YWx1ZSkgICAgICB8fCAwOwogIGlmICghY2FscyAmJiAhcHJvdCAmJiAhY2FyYnMgJiYgIWZhdCkgeyBzaG93VG9hc3QoJ+KaoO+4jyBFbnRlciBhdCBsZWFzdCBvbmUgdmFsdWUnKTsgcmV0dXJuOyB9CiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWxGb29kTmFtZScpLnZhbHVlLnRyaW0oKSB8fCAnTWFudWFsIEVudHJ5JzsKICBhZGRGb29kRW50cnkoeyBuYW1lLCBjYWxvcmllczogY2FscywgcHJvdGVpbjogcHJvdCwgY2FyYnMsIGZhdCwgaWNvbjogJ+Kcje+4jycgfSk7CiAgWydjYWxvcmllcycsJ3Byb3RlaW4nLCdjYXJicycsJ2ZhdCddLmZvckVhY2goayA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW4tJytrKS52YWx1ZSA9ICcnKTsKfQoKLy8g4pSA4pSAIFdvcmtvdXQgUGFnZSDigJQgUGVyLVNldCBMb2dnaW5nIOKUgOKUgApsZXQgY3VycmVudFNldHMgPSB7fTsKbGV0IGN1cnJlbnRSUEUgID0ge307CgpmdW5jdGlvbiBnZXRMYXN0V29ya291dChzZXNzS2V5LCBleElkeCkgewogIGNvbnN0IGxpZnRMb2cgPSBnZXRTdG9yYWdlKCdsaWZ0TG9nMicsIHt9KTsKICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobGlmdExvZykKICAgIC5maWx0ZXIoayA9PiBrLmVuZHNXaXRoKCctJyArIHNlc3NLZXkpKQogICAgLnNvcnQoKS5yZXZlcnNlKCk7CiAgaWYgKCFrZXlzLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgcmV0dXJuIGxpZnRMb2dba2V5c1swXV0/LmV4ZXJjaXNlcz8uW2V4SWR4XSB8fCBudWxsOwp9CgpmdW5jdGlvbiBnZXRTdWdnZXN0ZWRXZWlnaHQobGFzdFNldHMsIHRhcmdldFJlcHMsIGxhc3RSUEUpIHsKICBpZiAoIWxhc3RTZXRzIHx8ICFsYXN0U2V0cy5sZW5ndGgpIHJldHVybiBudWxsOwogIGNvbnN0IGNvbXBsZXRlZCA9IGxhc3RTZXRzLmZpbHRlcihzID0+IHMuZG9uZSAmJiBwYXJzZUZsb2F0KHMud2VpZ2h0KSA+IDApOwogIGlmICghY29tcGxldGVkLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgY29uc3QgYXZnV3QgPSBjb21wbGV0ZWQucmVkdWNlKChzLCB4KSA9PiBzICsgcGFyc2VGbG9hdCh4LndlaWdodCksIDApIC8gY29tcGxldGVkLmxlbmd0aDsKICBjb25zdCBycGUgPSBsYXN0UlBFIHx8IDg7CiAgbGV0IG11bHQgPSAxLjA7CiAgaWYgICAgICAocnBlIDw9IDYpICBtdWx0ID0gMS4wNTsKICBlbHNlIGlmIChycGUgPT09IDcpIG11bHQgPSAxLjAyNTsKICBlbHNlIGlmIChycGUgPT09IDgpIG11bHQgPSAxLjA7CiAgZWxzZSBpZiAocnBlID09PSA5KSBtdWx0ID0gMC45NzU7CiAgZWxzZSAgICAgICAgICAgICAgICBtdWx0ID0gMC45NTsKICByZXR1cm4gTWF0aC5yb3VuZCgoYXZnV3QgKiBtdWx0KSAvIDIuNSkgKiAyLjU7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyBXT1JLT1VUIEVOR0lORSB2MiDigJQgVGltZXIgwrcgUmVzdCDCtyBTZXQgVHlwZXMgwrcgUFIgwrcgQ2hhcnRzCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAoKLy8g4pSA4pSAIEdsb2JhbHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmxldCB3b3Jrb3V0VGltZXJJbnRlcnZhbCA9IG51bGw7CmxldCB3b3Jrb3V0U3RhcnRUaW1lICAgICA9IG51bGw7CmxldCByZXN0VGltZXJUaW1lb3V0ICAgICA9IG51bGw7CmxldCByZXN0VGltZXJJbnRlcnZhbCAgICA9IG51bGw7CmxldCByZXN0VGltZXJFbmQgICAgICAgICA9IG51bGw7CmxldCBjdXJyZW50UmVzdER1cmF0aW9uICA9IDkwOyAvLyBzZWNvbmRzCgovLyDilIDilIAgUFIgU3RvcmUg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmZ1bmN0aW9uIGdldFBScygpIHsgcmV0dXJuIGdldFN0b3JhZ2UoJ2xpZnRQUnMnLCB7fSk7IH0KZnVuY3Rpb24gc2F2ZVBScyhwcnMpIHsgc2V0U3RvcmFnZSgnbGlmdFBScycsIHBycyk7IH0KCmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlUFIoZXhOYW1lLCB3ZWlnaHQsIHJlcHMpIHsKICBjb25zdCBwcnMgID0gZ2V0UFJzKCk7CiAgY29uc3Qga2V5ICA9IGV4TmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xzKy9nLCAnXycpOwogIGNvbnN0IHcgICAgPSBwYXJzZUZsb2F0KHdlaWdodCkgfHwgMDsKICBjb25zdCByICAgID0gcGFyc2VJbnQocmVwcykgICAgIHx8IDA7CiAgaWYgKCF3IHx8ICFyKSByZXR1cm4gZmFsc2U7CiAgLy8gRXBsZXkgMVJNIGVzdGltYXRlCiAgY29uc3QgZXN0MXJtID0gdyAqICgxICsgciAvIDMwKTsKICBjb25zdCBwcmV2ICAgPSBwcnNba2V5XSB8fCB7IHdlaWdodDogMCwgcmVwczogMCwgZXN0MXJtOiAwIH07CiAgaWYgKGVzdDFybSA+IChwcmV2LmVzdDFybSB8fCAwKSkgewogICAgcHJzW2tleV0gPSB7IHdlaWdodDogdywgcmVwczogciwgZXN0MXJtOiBNYXRoLnJvdW5kKGVzdDFybSAqIDEwKSAvIDEwLCBkYXRlOiB0b2RheUtleSgpIH07CiAgICBzYXZlUFJzKHBycyk7CiAgICByZXR1cm4geyB3ZWlnaHQ6IHcsIHJlcHM6IHIsIGVzdDFybTogTWF0aC5yb3VuZChlc3Qxcm0pIH07CiAgfQogIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZmxhc2hQUihleE5hbWUsIHByKSB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByLWZsYXNoJykuZm9yRWFjaChlID0+IGUucmVtb3ZlKCkpOwogIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgZWwuY2xhc3NOYW1lID0gJ3ByLWZsYXNoJzsKICBlbC5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz0icHItZmxhc2gtaWNvbiI+8J+PhjwvZGl2PgogICAgPGRpdj4KICAgICAgPGRpdiBjbGFzcz0icHItZmxhc2gtdGV4dCI+TmV3IFBSIOKAlCAke2V4TmFtZX0hPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InByLWZsYXNoLXN1YiI+JHtwci53ZWlnaHR9IGxicyDDlyAke3ByLnJlcHN9IHJlcHMgwrcgfiR7cHIuZXN0MXJtfSBsYnMgMVJNPC9kaXY+CiAgICA8L2Rpdj5gOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpOwogIHNldFRpbWVvdXQoKCkgPT4geyBlbC5zdHlsZS5vcGFjaXR5ID0gJzAnOyBlbC5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC40cyc7IHNldFRpbWVvdXQoKCkgPT4gZWwucmVtb3ZlKCksIDQwMCk7IH0sIDM1MDApOwp9CgovLyDilIDilIAgV29ya291dCBUaW1lciDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKZnVuY3Rpb24gc3RhcnRXb3Jrb3V0VGltZXIoKSB7CiAgaWYgKHdvcmtvdXRUaW1lckludGVydmFsKSByZXR1cm47IC8vIGFscmVhZHkgcnVubmluZwogIGlmICghd29ya291dFN0YXJ0VGltZSkgd29ya291dFN0YXJ0VGltZSA9IERhdGUubm93KCk7CiAgd29ya291dFRpbWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHdvcmtvdXRTdGFydFRpbWUpIC8gMTAwMCk7CiAgICBjb25zdCBtID0gTWF0aC5mbG9vcihlbGFwc2VkIC8gNjApOwogICAgY29uc3QgcyA9IGVsYXBzZWQgJSA2MDsKICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtvdXRUaW1lckRpc3BsYXknKTsKICAgIGlmIChlbCkgZWwudGV4dENvbnRlbnQgPSBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCcwJyl9YDsKICB9LCAxMDAwKTsKfQoKZnVuY3Rpb24gc3RvcFdvcmtvdXRUaW1lcigpIHsKICBjbGVhckludGVydmFsKHdvcmtvdXRUaW1lckludGVydmFsKTsKICB3b3Jrb3V0VGltZXJJbnRlcnZhbCA9IG51bGw7Cn0KCmZ1bmN0aW9uIGdldFdvcmtvdXREdXJhdGlvbigpIHsKICBpZiAoIXdvcmtvdXRTdGFydFRpbWUpIHJldHVybiAwOwogIHJldHVybiBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gd29ya291dFN0YXJ0VGltZSkgLyAxMDAwKTsKfQoKZnVuY3Rpb24gcmVzZXRXb3Jrb3V0VGltZXIoKSB7CiAgc3RvcFdvcmtvdXRUaW1lcigpOwogIHdvcmtvdXRTdGFydFRpbWUgPSBudWxsOwogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtvdXRUaW1lckRpc3BsYXknKTsKICBpZiAoZWwpIGVsLnRleHRDb250ZW50ID0gJzA6MDAnOwp9CgpmdW5jdGlvbiB1cGRhdGVUaW1lclN0YXRzKCkgewogIC8vIENvdW50IGRvbmUgc2V0cyBhbmQgdG90YWwgdm9sdW1lIGFjcm9zcyBhbGwgZXhlcmNpc2VzCiAgbGV0IHRvdGFsRG9uZSA9IDAsIHRvdGFsVm9sID0gMDsKICBPYmplY3QudmFsdWVzKGN1cnJlbnRTZXRzKS5mb3JFYWNoKHNldHMgPT4gewogICAgc2V0cy5mb3JFYWNoKHMgPT4gewogICAgICBpZiAocy5kb25lKSB7CiAgICAgICAgdG90YWxEb25lKys7CiAgICAgICAgdG90YWxWb2wgKz0gKHBhcnNlRmxvYXQocy53ZWlnaHQpIHx8IDApICogKHBhcnNlSW50KHMucmVwcykgfHwgMCk7CiAgICAgIH0KICAgIH0pOwogIH0pOwogIGNvbnN0IHNkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVyU2V0c0NvdW50Jyk7CiAgY29uc3QgdmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXJWb2x1bWVDb3VudCcpOwogIGlmIChzZCkgc2QudGV4dENvbnRlbnQgPSB0b3RhbERvbmU7CiAgaWYgKHZkKSB2ZC50ZXh0Q29udGVudCA9IHRvdGFsVm9sID49IDEwMDAgPyAodG90YWxWb2wgLyAxMDAwKS50b0ZpeGVkKDEpICsgJ2snIDogTWF0aC5yb3VuZCh0b3RhbFZvbCk7Cn0KCi8vIOKUgOKUgCBSZXN0IFRpbWVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgApmdW5jdGlvbiBzdGFydFJlc3RUaW1lcihzZWNvbmRzKSB7CiAgY2xlYXJUaW1lb3V0KHJlc3RUaW1lclRpbWVvdXQpOwogIGNsZWFySW50ZXJ2YWwocmVzdFRpbWVySW50ZXJ2YWwpOwogIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdFRpbWVyT3ZlcmxheScpOwogIGlmICghb3ZlcmxheSkgcmV0dXJuOwogIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICByZXN0VGltZXJFbmQgPSBEYXRlLm5vdygpICsgc2Vjb25kcyAqIDEwMDA7CiAgY29uc3QgdG90YWxNcyA9IHNlY29uZHMgKiAxMDAwOwoKICBmdW5jdGlvbiB0aWNrKCkgewogICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChyZXN0VGltZXJFbmQgLSBEYXRlLm5vdygpKSAvIDEwMDApKTsKICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIDYwKTsKICAgIGNvbnN0IHMgPSByZW1haW5pbmcgJSA2MDsKICAgIGNvbnN0IGNvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdFRpbWVyQ291bnQnKTsKICAgIGNvbnN0IGJhckVsICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdFRpbWVyQmFyRmlsbCcpOwogICAgaWYgKGNvdW50RWwpIGNvdW50RWwudGV4dENvbnRlbnQgPSBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCcwJyl9YDsKICAgIGNvbnN0IHBjdCA9IChyZXN0VGltZXJFbmQgLSBEYXRlLm5vdygpKSAvIHRvdGFsTXM7CiAgICBpZiAoYmFyRWwpIGJhckVsLnN0eWxlLndpZHRoID0gTWF0aC5tYXgoMCwgcGN0ICogMTAwKSArICclJzsKICB9CiAgdGljaygpOwogIHJlc3RUaW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgdGljaygpOwogICAgaWYgKERhdGUubm93KCkgPj0gcmVzdFRpbWVyRW5kKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwocmVzdFRpbWVySW50ZXJ2YWwpOwogICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIC8vIFZpYnJhdGUgaWYgYXZhaWxhYmxlCiAgICAgIGlmIChuYXZpZ2F0b3IudmlicmF0ZSkgbmF2aWdhdG9yLnZpYnJhdGUoWzIwMCwgMTAwLCAyMDBdKTsKICAgICAgc2hvd1RvYXN0KCfij7AgUmVzdCBjb21wbGV0ZSDigJQgbmV4dCBzZXQhJyk7CiAgICB9CiAgfSwgNTAwKTsKfQoKZnVuY3Rpb24gc2tpcFJlc3RUaW1lcigpIHsKICBjbGVhclRpbWVvdXQocmVzdFRpbWVyVGltZW91dCk7CiAgY2xlYXJJbnRlcnZhbChyZXN0VGltZXJJbnRlcnZhbCk7CiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0VGltZXJPdmVybGF5Jyk7CiAgaWYgKG92ZXJsYXkpIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKfQoKLy8g4pSA4pSAIFNldCBUeXBlIE1hbmFnZW1lbnQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmNvbnN0IFNFVF9UWVBFUyA9IHsKICBub3JtYWw6ICB7IGxhYmVsOiAnVycsICAgdGl0bGU6ICdOb3JtYWwnLCAgIGNsczogJycsICAgICAgICBkZXNjOiAnV29ya2luZyBzZXQnIH0sCiAgd2FybXVwOiAgeyBsYWJlbDogJ1cnLCAgIHRpdGxlOiAnV2FybS11cCcsICBjbHM6ICd3YXJtdXAnLCAgZGVzYzogJ05vdCBjb3VudGVkIGluIHZvbHVtZScgfSwKICBkcm9wOiAgICB7IGxhYmVsOiAnRCcsICAgdGl0bGU6ICdEcm9wIFNldCcsIGNsczogJ2Ryb3AnLCAgICBkZXNjOiAnUmVkdWNlIHdlaWdodCwgY29udGludWUnIH0sCiAgZmFpbHVyZTogeyBsYWJlbDogJ0YnLCAgIHRpdGxlOiAnRmFpbHVyZScsICBjbHM6ICdmYWlsdXJlJywgZGVzYzogJ1RyYWluIHRvIGZhaWx1cmUnIH0sCn07CgpsZXQgX3NldFR5cGVNZW51S2V5ID0gbnVsbDsKbGV0IF9zZXRUeXBlTWVudUlkeCA9IG51bGw7CgpmdW5jdGlvbiBvcGVuU2V0VHlwZU1lbnUoa2V5LCBzaSwgYnRuRWwpIHsKICBjbG9zZVNldFR5cGVNZW51KCk7CiAgX3NldFR5cGVNZW51S2V5ID0ga2V5OwogIF9zZXRUeXBlTWVudUlkeCA9IHNpOwogIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtZW51LmlkID0gJ3NldFR5cGVNZW51JzsKICBtZW51LmNsYXNzTmFtZSA9ICdzZXQtdHlwZS1tZW51JzsKICBtZW51LmlubmVySFRNTCA9IE9iamVjdC5lbnRyaWVzKFNFVF9UWVBFUykubWFwKChbdHlwZSwgaW5mb10pID0+CiAgICBgPGRpdiBjbGFzcz0ic2V0LXR5cGUtb3B0aW9uIiBvbmNsaWNrPSJhcHBseVNldFR5cGUoJyR7a2V5fScsJHtzaX0sJyR7dHlwZX0nKSI+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo4MDA7d2lkdGg6MjBweDtjb2xvcjoke3R5cGU9PT0nd2FybXVwJz8nIzA2YjZkNCc6dHlwZT09PSdkcm9wJz8nI2E3OGJmYSc6dHlwZT09PSdmYWlsdXJlJz8nI2Y4NzE3MSc6J3ZhcigtLXRleHQzKSd9Ij4ke2luZm8udGl0bGUuc2xpY2UoMCwxKX08L3NwYW4+CiAgICAgIDxkaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpIj4ke2luZm8udGl0bGV9PC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6dmFyKC0tdGV4dDMpIj4ke2luZm8uZGVzY308L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj5gCiAgKS5qb2luKCcnKTsKICBjb25zdCByZWN0ID0gYnRuRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgbWVudS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgbWVudS5zdHlsZS50b3AgPSAocmVjdC5ib3R0b20gKyA0KSArICdweCc7CiAgbWVudS5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoOCwgcmVjdC5sZWZ0IC0gMTIwKSArICdweCc7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZW51KTsKICBzZXRUaW1lb3V0KCgpID0+IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTZXRUeXBlTWVudU91dHNpZGUpLCAxMCk7Cn0KCmZ1bmN0aW9uIGNsb3NlU2V0VHlwZU1lbnVPdXRzaWRlKGUpIHsKICBjb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldFR5cGVNZW51Jyk7CiAgaWYgKG1lbnUgJiYgIW1lbnUuY29udGFpbnMoZS50YXJnZXQpKSBjbG9zZVNldFR5cGVNZW51KCk7Cn0KCmZ1bmN0aW9uIGNsb3NlU2V0VHlwZU1lbnUoKSB7CiAgY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRUeXBlTWVudScpOwogIGlmIChtZW51KSBtZW51LnJlbW92ZSgpOwogIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTZXRUeXBlTWVudU91dHNpZGUpOwp9CgpmdW5jdGlvbiBhcHBseVNldFR5cGUoa2V5LCBzaSwgdHlwZSkgewogIGlmICghY3VycmVudFNldHNba2V5XSkgcmV0dXJuOwogIGN1cnJlbnRTZXRzW2tleV1bc2ldLnR5cGUgPSB0eXBlOwogIGNsb3NlU2V0VHlwZU1lbnUoKTsKICAvLyBSZS1yZW5kZXIganVzdCB0aGUgdHlwZSBidXR0b24KICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3R5cGUtJHtrZXl9LSR7c2l9YCk7CiAgaWYgKGJ0bikgewogICAgY29uc3QgaW5mbyA9IFNFVF9UWVBFU1t0eXBlXTsKICAgIGJ0bi50ZXh0Q29udGVudCA9IHR5cGUgPT09ICdub3JtYWwnID8gKHNpICsgMSkgOiB0eXBlLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTsKICAgIGJ0bi5jbGFzc05hbWUgPSAnc2V0LXR5cGUtYnRuICcgKyAoaW5mby5jbHMgfHwgJycpOwogICAgYnRuLnRpdGxlID0gaW5mby50aXRsZTsKICB9CiAgcmVmcmVzaEV4Vm9sdW1lKGtleSk7Cn0KCi8vIOKUgOKUgCBBZGQgLyBSZW1vdmUgU2V0cyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKZnVuY3Rpb24gYWRkU2V0VG9FeGVyY2lzZShrZXkpIHsKICBpZiAoIWN1cnJlbnRTZXRzW2tleV0pIGN1cnJlbnRTZXRzW2tleV0gPSBbXTsKICBjb25zdCBzZXRzID0gY3VycmVudFNldHNba2V5XTsKICBjb25zdCBsYXN0U2V0ID0gc2V0c1tzZXRzLmxlbmd0aCAtIDFdOwogIHNldHMucHVzaCh7IHdlaWdodDogbGFzdFNldD8ud2VpZ2h0IHx8ICcnLCByZXBzOiAnJywgZG9uZTogZmFsc2UsIHR5cGU6ICdub3JtYWwnIH0pOwogIC8vIFJlLXJlbmRlciB0aGUgc2V0IHJvd3Mgc2VjdGlvbiBvbmx5CiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBleGNhcmQtJHtrZXl9YCk7CiAgaWYgKCFjYXJkKSByZXR1cm47CiAgY29uc3QgW3Nlc3NLZXksIGV4SWR4U3RyXSA9IGtleS5zcGxpdCgnLScpOwogIGNvbnN0IGV4ID0gUFJPR1JBTVtzZXNzS2V5XT8uZXhlcmNpc2VzPy5bcGFyc2VJbnQoZXhJZHhTdHIpXTsKICBjb25zdCBsYXN0RGF0YSA9IGdldExhc3RXb3Jrb3V0KHNlc3NLZXksIHBhcnNlSW50KGV4SWR4U3RyKSk7CiAgY29uc3QgbGFzdFNldHMgPSBsYXN0RGF0YT8uc2V0cyB8fCBudWxsOwogIGNvbnN0IHN1Z2dlc3RlZCA9IGdldFN1Z2dlc3RlZFdlaWdodChsYXN0U2V0cywgZXg/LnJlcHMsIGxhc3REYXRhPy5ycGUpOwogIC8vIFJlcGxhY2Ugc2V0IHJvd3MgY29udGFpbmVyCiAgY29uc3Qgcm93c0NvbnRhaW5lciA9IGNhcmQucXVlcnlTZWxlY3RvcignLnNldC1yb3dzJyk7CiAgaWYgKHJvd3NDb250YWluZXIpIHJvd3NDb250YWluZXIub3V0ZXJIVE1MID0gYnVpbGRKdXN0U2V0Um93cyhrZXksIGV4Py5yZXBzIHx8ICc4Jyk7CiAgZWxzZSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5zZXQtY29sLWhlYWRlcnMnKT8uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGA8ZGl2IGNsYXNzPSJzZXQtcm93cyI+JHtidWlsZE9uZVNldFJvdyhrZXksIHNldHMubGVuZ3RoIC0gMSwgZXg/LnJlcHMpfTwvZGl2PmApOwogIHJlZnJlc2hFeFZvbHVtZShrZXkpOwp9CgpmdW5jdGlvbiByZW1vdmVTZXRGcm9tRXhlcmNpc2Uoa2V5LCBzaSkgewogIGlmICghY3VycmVudFNldHNba2V5XSB8fCBjdXJyZW50U2V0c1trZXldLmxlbmd0aCA8PSAxKSByZXR1cm47CiAgY3VycmVudFNldHNba2V5XS5zcGxpY2Uoc2ksIDEpOwogIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZXhjYXJkLSR7a2V5fWApOwogIGlmICghY2FyZCkgcmV0dXJuOwogIGNvbnN0IFtzZXNzS2V5LCBleElkeFN0cl0gPSBrZXkuc3BsaXQoJy0nKTsKICBjb25zdCBleCA9IFBST0dSQU1bc2Vzc0tleV0/LmV4ZXJjaXNlcz8uW3BhcnNlSW50KGV4SWR4U3RyKV07CiAgY29uc3Qgcm93c0NvbnRhaW5lciA9IGNhcmQucXVlcnlTZWxlY3RvcignLnNldC1yb3dzJyk7CiAgaWYgKHJvd3NDb250YWluZXIpIHJvd3NDb250YWluZXIub3V0ZXJIVE1MID0gYnVpbGRKdXN0U2V0Um93cyhrZXksIGV4Py5yZXBzIHx8ICc4Jyk7CiAgcmVmcmVzaEV4Vm9sdW1lKGtleSk7Cn0KCmZ1bmN0aW9uIGJ1aWxkSnVzdFNldFJvd3Moa2V5LCB0YXJnZXRSZXBzKSB7CiAgY29uc3Qgc2V0cyA9IGN1cnJlbnRTZXRzW2tleV0gfHwgW107CiAgY29uc3Qgcm93cyA9IHNldHMubWFwKChzLCBzaSkgPT4gYnVpbGRPbmVTZXRSb3coa2V5LCBzaSwgdGFyZ2V0UmVwcykpLmpvaW4oJycpOwogIHJldHVybiBgPGRpdiBjbGFzcz0ic2V0LXJvd3MiPiR7cm93c308L2Rpdj5gOwp9CgpmdW5jdGlvbiBidWlsZE9uZVNldFJvdyhrZXksIHNpLCB0YXJnZXRSZXBzKSB7CiAgY29uc3QgcyA9IChjdXJyZW50U2V0c1trZXldIHx8IFtdKVtzaV07CiAgaWYgKCFzKSByZXR1cm4gJyc7CiAgY29uc3QgdHlwZSA9IHMudHlwZSB8fCAnbm9ybWFsJzsKICBjb25zdCBpbmZvID0gU0VUX1RZUEVTW3R5cGVdOwogIGNvbnN0IHR5cGVMYWJlbCA9IHR5cGUgPT09ICdub3JtYWwnID8gKHNpICsgMSkgOiB0eXBlLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTsKICBjb25zdCBpc1dhcm11cCAgPSB0eXBlID09PSAnd2FybXVwJzsKICByZXR1cm4gYDxkaXYgY2xhc3M9InNldC1yb3ciIGlkPSJzZXRyb3ctJHtrZXl9LSR7c2l9Ij4KICAgIDxidXR0b24gY2xhc3M9InNldC10eXBlLWJ0biAke2luZm8/LmNsc3x8Jyd9IiBpZD0ic3R5cGUtJHtrZXl9LSR7c2l9IiB0aXRsZT0iJHtpbmZvPy50aXRsZXx8J05vcm1hbCd9IgogICAgICBvbmNsaWNrPSJvcGVuU2V0VHlwZU1lbnUoJyR7a2V5fScsJHtzaX0sdGhpcykiPiR7dHlwZUxhYmVsfTwvYnV0dG9uPgogICAgPGlucHV0IGNsYXNzPSJzZXQtd2VpZ2h0LWlucHV0JHtzLmRvbmU/JyBjb21wbGV0ZWQnOicnfSR7aXNXYXJtdXA/JyB3YXJtdXAtaW5wdXQnOicnfSIgdHlwZT0ibnVtYmVyIiBpZD0ic3ctJHtrZXl9LSR7c2l9IgogICAgICBwbGFjZWhvbGRlcj0iMCIgdmFsdWU9IiR7cy53ZWlnaHR9IgogICAgICBvbmlucHV0PSJ1cGRhdGVTZXQoJyR7a2V5fScsJHtzaX0sJ3dlaWdodCcsdGhpcy52YWx1ZSkiIHN0eWxlPSIke2lzV2FybXVwPydvcGFjaXR5OjAuNjsnOicnfSIgLz4KICAgIDxpbnB1dCBjbGFzcz0ic2V0LXJlcHMtaW5wdXQiIHR5cGU9Im51bWJlciIgaWQ9InNyLSR7a2V5fS0ke3NpfSIKICAgICAgcGxhY2Vob2xkZXI9IiR7KHRhcmdldFJlcHMrJycpLnNwbGl0KCfigJMnKVswXXx8JzgnfSIgdmFsdWU9IiR7cy5yZXBzfSIKICAgICAgb25pbnB1dD0idXBkYXRlU2V0KCcke2tleX0nLCR7c2l9LCdyZXBzJyx0aGlzLnZhbHVlKSIgLz4KICAgIDxidXR0b24gY2xhc3M9InNldC1kb25lLWJ0biR7cy5kb25lPycgZG9uZSc6Jyd9IiBpZD0ic2RiLSR7a2V5fS0ke3NpfSIKICAgICAgb25jbGljaz0idG9nZ2xlU2V0RG9uZSgnJHtrZXl9Jywke3NpfSkiPiR7cy5kb25lPyfinIUnOifil4snfTwvYnV0dG9uPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWRlbC1zZXQiIG9uY2xpY2s9InJlbW92ZVNldEZyb21FeGVyY2lzZSgnJHtrZXl9Jywke3NpfSkiIHRpdGxlPSJSZW1vdmUgc2V0Ij7inJU8L2J1dHRvbj4KICA8L2Rpdj5gOwp9CgovLyDilIDilIAgVXBkYXRlZCBidWlsZFNldFJvd3Mg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmZ1bmN0aW9uIGJ1aWxkU2V0Um93cyhzZXNzS2V5LCBleElkeCwgbnVtU2V0cywgdGFyZ2V0UmVwcywgbGFzdFNldHMsIHN1Z2dlc3RlZCwgbGFzdFJQRSkgewogIGNvbnN0IGtleSA9IGAke3Nlc3NLZXl9LSR7ZXhJZHh9YDsKICBjb25zdCBleCAgPSBQUk9HUkFNW3Nlc3NLZXldPy5leGVyY2lzZXM/LltleElkeF07CiAgaWYgKCFjdXJyZW50U2V0c1trZXldKSB7CiAgICBjdXJyZW50U2V0c1trZXldID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtU2V0cyB9LCAoKSA9PiAoewogICAgICB3ZWlnaHQ6IHN1Z2dlc3RlZCA/IFN0cmluZyhzdWdnZXN0ZWQpIDogJycsCiAgICAgIHJlcHM6ICcnLCBkb25lOiBmYWxzZSwgdHlwZTogJ25vcm1hbCcsCiAgICB9KSk7CiAgfQogIGN1cnJlbnRSUEVba2V5XSA9IGN1cnJlbnRSUEVba2V5XSB8fCBsYXN0UlBFIHx8IDg7CiAgY29uc3Qgc2V0cyA9IGN1cnJlbnRTZXRzW2tleV07CgogIC8vIFByZXZpb3VzIHNlc3Npb24gc3VtbWFyeQogIGxldCBzdWdnZXN0aW9uSHRtbCA9ICcnOwogIGlmIChsYXN0U2V0cyAmJiBsYXN0U2V0cy5sZW5ndGgpIHsKICAgIGNvbnN0IGRvbmUgPSBsYXN0U2V0cy5maWx0ZXIocyA9PiBzLmRvbmUpOwogICAgY29uc3QgbGFzdFdlaWdodHMgPSBkb25lLm1hcChzID0+IHMud2VpZ2h0ICsgJyBsYnMnKS5qb2luKCcsICcpIHx8ICfigJQnOwogICAgY29uc3QgbGFzdFJlcHNTdHIgPSBkb25lLm1hcChzID0+IHMucmVwcyArICcgcmVwcycpLmpvaW4oJywgJykgIHx8ICfigJQnOwogICAgY29uc3QgdHJlbmQgPSBzdWdnZXN0ZWQgJiYgcGFyc2VGbG9hdChkb25lWzBdPy53ZWlnaHQpID4gMAogICAgICA/IChzdWdnZXN0ZWQgPiBwYXJzZUZsb2F0KGRvbmVbMF0ud2VpZ2h0KSA/ICfihpEgJyA6IHN1Z2dlc3RlZCA8IHBhcnNlRmxvYXQoZG9uZVswXS53ZWlnaHQpID8gJ+KGkyAnIDogJycpIDogJyc7CiAgICBjb25zdCBwcnMgICA9IGdldFBScygpOwogICAgY29uc3QgcHJLZXkgPSAoZXg/Lm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMrL2csICdfJyk7CiAgICBjb25zdCBwckRhdGEgPSBwcnNbcHJLZXldOwogICAgY29uc3QgcHJTdHIgID0gcHJEYXRhID8gYCDCtyDwn4+GIFBSOiAke3ByRGF0YS53ZWlnaHR9w5cke3ByRGF0YS5yZXBzfWAgOiAnJzsKICAgIHN1Z2dlc3Rpb25IdG1sID0gYDxkaXYgY2xhc3M9ImV4LXN1Z2dlc3Rpb24iIG9uY2xpY2s9Im9wZW5FeENoYXJ0KCckeyhleD8ubmFtZXx8JycpLnJlcGxhY2UoLycvZywiXCciKX0nKSI+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTVweCI+8J+noDwvc3Bhbj4KICAgICAgPGRpdiBjbGFzcz0iZXgtc3VnZ2VzdGlvbi10ZXh0Ij4KICAgICAgICBMYXN0OiA8c3Ryb25nPiR7bGFzdFdlaWdodHN9PC9zdHJvbmc+IMK3ICR7bGFzdFJlcHNTdHJ9JHtsYXN0UlBFID8gJyDCtyBSUEUgJytsYXN0UlBFIDogJyd9JHtwclN0cn08YnI+CiAgICAgICAgJHtzdWdnZXN0ZWQgPyBgVGFyZ2V0OiA8c3Ryb25nPiR7dHJlbmR9JHtzdWdnZXN0ZWR9IGxiczwvc3Ryb25nPmAgOiAnTm8gc3VnZ2VzdGlvbiB5ZXQnfSA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6IzYwYTVmYSI+wrcgdGFwIGZvciBjaGFydCDihpI8L3NwYW4+CiAgICAgIDwvZGl2PjwvZGl2PmA7CiAgfSBlbHNlIHsKICAgIHN1Z2dlc3Rpb25IdG1sID0gYDxkaXYgY2xhc3M9ImV4LXN1Z2dlc3Rpb24iPgogICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPvCfkqE8L3NwYW4+CiAgICAgIDxkaXYgY2xhc3M9ImV4LXN1Z2dlc3Rpb24tdGV4dCI+Rmlyc3Qgc2Vzc2lvbiDigJQgZW50ZXIgeW91ciBzdGFydGluZyB3ZWlnaHQuIERhdGEgYnVpbGRzIG92ZXIgdGltZS48L2Rpdj48L2Rpdj5gOwogIH0KCiAgLy8gRXhlcmNpc2Ugbm90ZXMgc2hvd24gaW5saW5lIGR1cmluZyBzZXNzaW9uCiAgY29uc3Qgbm90ZXNIdG1sID0gZXg/Lm5vdGVzID8gYDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOiM2MGE1ZmE7YmFja2dyb3VuZDojMGQxZTNkO2JvcmRlci1yYWRpdXM6MTBweDtwYWRkaW5nOjdweCAxMHB4O21hcmdpbi1ib3R0b206MTBweDtib3JkZXI6MXB4IHNvbGlkICMxZTNhNWYiPvCfkqwgJHtleC5ub3Rlc308L2Rpdj5gIDogJyc7CgogIGNvbnN0IGNvbEhlYWRlcnMgPSBgPGRpdiBjbGFzcz0ic2V0LWNvbC1oZWFkZXJzIiBzdHlsZT0ibWFyZ2luLXRvcDo2cHgiPgogICAgPGRpdiBjbGFzcz0ic2V0LWNvbC1sYmwiIHN0eWxlPSJ3aWR0aDozMnB4Ij5UeXBlPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzZXQtY29sLWxibCIgc3R5bGU9ImZsZXg6MTt0ZXh0LWFsaWduOmNlbnRlciI+V2VpZ2h0IChsYnMpPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzZXQtY29sLWxibCIgc3R5bGU9IndpZHRoOjU0cHg7dGV4dC1hbGlnbjpjZW50ZXIiPlJlcHM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InNldC1jb2wtbGJsIiBzdHlsZT0id2lkdGg6MzZweDt0ZXh0LWFsaWduOmNlbnRlciI+4pyTPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzZXQtY29sLWxibCIgc3R5bGU9IndpZHRoOjI4cHgiPjwvZGl2PgogIDwvZGl2PmA7CgogIGNvbnN0IHNldFJvd3NIdG1sID0gc2V0cy5tYXAoKHMsIHNpKSA9PiBidWlsZE9uZVNldFJvdyhrZXksIHNpLCB0YXJnZXRSZXBzKSkuam9pbignJyk7CgogIGNvbnN0IHJwZUh0bWwgPSBgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQzKTtsZXR0ZXItc3BhY2luZzowLjhweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLXRvcDoxMnB4O21hcmdpbi1ib3R0b206NXB4Ij5Ib3cgaGFyZD8gKFJQRSk8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InJwZS1yb3ciIGlkPSJycGUtJHtrZXl9Ij4KICAgICAgJHtbNSw2LDcsOCw5LDEwXS5tYXAociA9PgogICAgICAgIGA8YnV0dG9uIGNsYXNzPSJycGUtYnRuJHtjdXJyZW50UlBFW2tleV09PT1yPycgYWN0aXZlJzonJ30iIG9uY2xpY2s9InNldFJQRSgnJHtrZXl9Jywke3J9KSI+JHtyfTwvYnV0dG9uPmAKICAgICAgKS5qb2luKCcnKX0KICAgIDwvZGl2PmA7CgogIGNvbnN0IGFkZFNldEJ0biA9IGA8YnV0dG9uIGNsYXNzPSJidG4tYWRkLXNldCIgb25jbGljaz0iYWRkU2V0VG9FeGVyY2lzZSgnJHtrZXl9JykiPisgQWRkIFNldDwvYnV0dG9uPmA7CgogIGNvbnN0IGNvbXBsZXRlZFNldHMgPSBzZXRzLmZpbHRlcihzID0+IHMuZG9uZSAmJiBwYXJzZUZsb2F0KHMud2VpZ2h0KSA+IDAgJiYgcy50eXBlICE9PSAnd2FybXVwJyk7CiAgY29uc3QgdG90YWxWb2wgPSBjb21wbGV0ZWRTZXRzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBwYXJzZUZsb2F0KHMud2VpZ2h0KSAqIChwYXJzZUludChzLnJlcHMpfHwwKSwgMCk7CiAgY29uc3Qgdm9sSHRtbCA9IGNvbXBsZXRlZFNldHMubGVuZ3RoCiAgICA/IGA8ZGl2IGNsYXNzPSJleC12b2x1bWUiPlZvbHVtZTogPHNwYW4+JHtNYXRoLnJvdW5kKHRvdGFsVm9sKS50b0xvY2FsZVN0cmluZygpfSBsYnM8L3NwYW4+IMK3ICR7Y29tcGxldGVkU2V0cy5sZW5ndGh9LyR7c2V0cy5maWx0ZXIocz0+cy50eXBlIT09J3dhcm11cCcpLmxlbmd0aH0gc2V0czwvZGl2PmAgOiAnJzsKCiAgcmV0dXJuIG5vdGVzSHRtbCArIHN1Z2dlc3Rpb25IdG1sICsgY29sSGVhZGVycyArIGA8ZGl2IGNsYXNzPSJzZXQtcm93cyI+JHtzZXRSb3dzSHRtbH08L2Rpdj5gICsgYWRkU2V0QnRuICsgcnBlSHRtbCArIHZvbEh0bWw7Cn0KCmZ1bmN0aW9uIHVwZGF0ZVNldChrZXksIHNpLCBmaWVsZCwgdmFsKSB7CiAgaWYgKCFjdXJyZW50U2V0c1trZXldKSByZXR1cm47CiAgY3VycmVudFNldHNba2V5XVtzaV1bZmllbGRdID0gdmFsOwogIHJlZnJlc2hFeFZvbHVtZShrZXkpOwogIHVwZGF0ZVRpbWVyU3RhdHMoKTsKfQoKZnVuY3Rpb24gcmVmcmVzaEV4Vm9sdW1lKGtleSkgewogIGNvbnN0IHNldHMgPSBjdXJyZW50U2V0c1trZXldIHx8IFtdOwogIGNvbnN0IGRvbmUgPSBzZXRzLmZpbHRlcihzID0+IHMuZG9uZSAmJiBwYXJzZUZsb2F0KHMud2VpZ2h0KSA+IDAgJiYgcy50eXBlICE9PSAnd2FybXVwJyk7CiAgY29uc3Qgdm9sICA9IGRvbmUucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHBhcnNlRmxvYXQocy53ZWlnaHQpICogKHBhcnNlSW50KHMucmVwcyl8fDApLCAwKTsKICBjb25zdCBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGV4Y2FyZC0ke2tleX1gKTsKICBpZiAoIWNhcmQpIHJldHVybjsKICBsZXQgZWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5leC12b2x1bWUnKTsKICBpZiAoIWVsKSB7IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGVsLmNsYXNzTmFtZSA9ICdleC12b2x1bWUnOyBjYXJkLmFwcGVuZENoaWxkKGVsKTsgfQogIGNvbnN0IGFsbFdvcmtpbmcgPSBzZXRzLmZpbHRlcihzID0+IHMudHlwZSAhPT0gJ3dhcm11cCcpOwogIGVsLmlubmVySFRNTCA9IGRvbmUubGVuZ3RoCiAgICA/IGBWb2x1bWU6IDxzcGFuPiR7TWF0aC5yb3VuZCh2b2wpLnRvTG9jYWxlU3RyaW5nKCl9IGxiczwvc3Bhbj4gwrcgJHtkb25lLmxlbmd0aH0vJHthbGxXb3JraW5nLmxlbmd0aH0gc2V0c2AKICAgIDogJyc7CiAgdXBkYXRlVGltZXJTdGF0cygpOwp9CgpmdW5jdGlvbiB0b2dnbGVTZXREb25lKGtleSwgc2kpIHsKICBpZiAoIWN1cnJlbnRTZXRzW2tleV0pIHJldHVybjsKICBjb25zdCBzZXQgPSBjdXJyZW50U2V0c1trZXldW3NpXTsKICBjb25zdCB3dElucHV0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3ctJHtrZXl9LSR7c2l9YCk7CiAgY29uc3QgcmVwc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNyLSR7a2V5fS0ke3NpfWApOwogIGlmICh3dElucHV0ICAgJiYgIXNldC53ZWlnaHQpIHNldC53ZWlnaHQgPSB3dElucHV0LnZhbHVlICAgfHwgd3RJbnB1dC5wbGFjZWhvbGRlcjsKICBpZiAocmVwc0lucHV0ICYmICFzZXQucmVwcykgICBzZXQucmVwcyAgID0gcmVwc0lucHV0LnZhbHVlIHx8IHJlcHNJbnB1dC5wbGFjZWhvbGRlcjsKICBzZXQuZG9uZSA9ICFzZXQuZG9uZTsKICBjb25zdCBidG4gID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNkYi0ke2tleX0tJHtzaX1gKTsKICBjb25zdCB3dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN3LSR7a2V5fS0ke3NpfWApOwogIGlmIChidG4pICB7IGJ0bi50ZXh0Q29udGVudCA9IHNldC5kb25lID8gJ+KchScgOiAn4peLJzsgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2RvbmUnLCBzZXQuZG9uZSk7IH0KICBpZiAod3RFbCkgeyBpZiAoc2V0LndlaWdodCkgd3RFbC52YWx1ZSA9IHNldC53ZWlnaHQ7IHd0RWwuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkJywgc2V0LmRvbmUpOyB9CiAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZXhiYWRnZS0ke2tleX1gKTsKICBpZiAoYmFkZ2UpIGJhZGdlLmNsYXNzTGlzdC50b2dnbGUoJ2RvbmUnLCBjdXJyZW50U2V0c1trZXldLmV2ZXJ5KHMgPT4gcy5kb25lKSk7CiAgcmVmcmVzaEV4Vm9sdW1lKGtleSk7CgogIGlmIChzZXQuZG9uZSkgewogICAgLy8gQ2hlY2sgUFIKICAgIGNvbnN0IFtzZXNzS2V5LCBleElkeFN0cl0gPSBrZXkuc3BsaXQoJy0nKTsKICAgIGNvbnN0IGV4ID0gUFJPR1JBTVtzZXNzS2V5XT8uZXhlcmNpc2VzPy5bcGFyc2VJbnQoZXhJZHhTdHIpXTsKICAgIGlmIChleCAmJiBzZXQudHlwZSAhPT0gJ3dhcm11cCcpIHsKICAgICAgY29uc3QgcHIgPSBjaGVja0FuZFVwZGF0ZVBSKGV4Lm5hbWUsIHNldC53ZWlnaHQsIHNldC5yZXBzKTsKICAgICAgaWYgKHByKSBmbGFzaFBSKGV4Lm5hbWUsIHByKTsKICAgIH0KICAgIC8vIFN0YXJ0IHJlc3QgdGltZXIgKHNraXAgZm9yIHdhcm11cCBzZXRzKQogICAgaWYgKHNldC50eXBlICE9PSAnd2FybXVwJykgewogICAgICBjb25zdCBkdXIgPSBzZXQudHlwZSA9PT0gJ2Ryb3AnID8gNDUgOiAocGFyc2VJbnQoa2V5LnNwbGl0KCctJylbMV0pID09PSAwID8gMTIwIDogOTApOwogICAgICBzdGFydFJlc3RUaW1lcihkdXIpOwogICAgfQogICAgdXBkYXRlVGltZXJTdGF0cygpOwogIH0gZWxzZSB7CiAgICBza2lwUmVzdFRpbWVyKCk7CiAgfQp9CgpmdW5jdGlvbiBzZXRSUEUoa2V5LCB2YWwpIHsKICBjdXJyZW50UlBFW2tleV0gPSB2YWw7CiAgY29uc3Qgcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJwZS0ke2tleX1gKTsKICBpZiAoIXJvdykgcmV0dXJuOwogIHJvdy5xdWVyeVNlbGVjdG9yQWxsKCcucnBlLWJ0bicpLmZvckVhY2goYiA9PiBiLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHBhcnNlSW50KGIudGV4dENvbnRlbnQpID09PSB2YWwpKTsKfQoKLy8g4pSA4pSAIHJlbmRlcldvcmtvdXRQYWdlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgApmdW5jdGlvbiByZW5kZXJXb3Jrb3V0UGFnZSgpIHsKICAvLyBTdGFydCB0aW1lciBpZiBub3QgcnVubmluZwogIHN0YXJ0V29ya291dFRpbWVyKCk7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uVGFicycpLmlubmVySFRNTCA9IFsnQScsJ0InLCdDJ10ubWFwKGsgPT4KICAgIGA8YnV0dG9uIGNsYXNzPSJzZXNzLWJ0biAke2FjdGl2ZVNlc3Npb249PT1rPydhY3RpdmUnOicnfSIgb25jbGljaz0ic2V0U2Vzc2lvbignJHtrfScpIj4ke2t9PGJyPjxzcGFuIHN0eWxlPSJmb250LXNpemU6OXB4Ij4ke1BST0dSQU1ba10ubmFtZS5zcGxpdCgnICcpLnNsaWNlKDAsMikuam9pbignICcpfTwvc3Bhbj48L2J1dHRvbj5gCiAgKS5qb2luKCcnKTsKCiAgY29uc3Qgc2VzcyA9IFBST0dSQU1bYWN0aXZlU2Vzc2lvbl07CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb25IZWFkZXInKS5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyIj4KICAgICAgPGRpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MjBweDtmb250LXdlaWdodDo3MDA7bGV0dGVyLXNwYWNpbmc6LTAuM3B4O2NvbG9yOnZhcigtLXRleHQpIj4ke3Nlc3MubmFtZX08L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Mik7bWFyZ2luLXRvcDo0cHg7Zm9udC13ZWlnaHQ6NTAwIj5UYXAgc2V0IHR5cGUgdG8gY2hhbmdlIMK3IOKchSA9IG1hcmsgZG9uZSDCtyArIEFkZCBTZXQ8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxzcGFuIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjVweCAxNHB4O2JvcmRlci1yYWRpdXM6MjBweDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDojMGQyZDFhO2NvbG9yOiMyMmM1NWUiPjPDly93azwvc3Bhbj4KICAgIDwvZGl2PmA7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVyY2lzZUxpc3QnKS5pbm5lckhUTUwgPSBzZXNzLmV4ZXJjaXNlcy5tYXAoKGV4LCBpKSA9PiB7CiAgICBjb25zdCBrZXkgICAgICAgPSBgJHthY3RpdmVTZXNzaW9ufS0ke2l9YDsKICAgIGNvbnN0IGxhc3REYXRhICA9IGdldExhc3RXb3Jrb3V0KGFjdGl2ZVNlc3Npb24sIGkpOwogICAgY29uc3QgbGFzdFNldHMgID0gbGFzdERhdGE/LnNldHMgIHx8IG51bGw7CiAgICBjb25zdCBsYXN0UlBFICAgPSBsYXN0RGF0YT8ucnBlICAgfHwgbnVsbDsKICAgIGNvbnN0IHN1Z2dlc3RlZCA9IGdldFN1Z2dlc3RlZFdlaWdodChsYXN0U2V0cywgZXgucmVwcywgbGFzdFJQRSk7CiAgICByZXR1cm4gYDxkaXYgY2xhc3M9ImV4LWNhcmQiIGlkPSJleGNhcmQtJHtrZXl9Ij4KICAgICAgPGRpdiBjbGFzcz0iZXgtaGVhZGVyIiBzdHlsZT0iY3Vyc29yOnBvaW50ZXIiIG9uY2xpY2s9Im9wZW5FeENoYXJ0KCcke2V4Lm5hbWUucmVwbGFjZSgvJy9nLCJcJyIpfScpIj4KICAgICAgICA8ZGl2IGNsYXNzPSJleC1iYWRnZSIgaWQ9ImV4YmFkZ2UtJHtrZXl9Ij4ke2krMX08L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjEiPgogICAgICAgICAgPGRpdiBjbGFzcz0iZXgtbmFtZSI+JHtleC5uYW1lfTwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZXgtbWV0YSI+JHtleC5zZXRzfSDDlyAke2V4LnJlcHN9PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6IzYwYTVmYTtmb250LXdlaWdodDo2MDAiPvCfk4ggY2hhcnQ8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgICR7YnVpbGRTZXRSb3dzKGFjdGl2ZVNlc3Npb24sIGksIGV4LnNldHMsIGV4LnJlcHMsIGxhc3RTZXRzLCBzdWdnZXN0ZWQsIGxhc3RSUEUpfQogICAgPC9kaXY+YDsKICB9KS5qb2luKCcnKTsKCiAgdXBkYXRlVGltZXJTdGF0cygpOwp9CgpmdW5jdGlvbiBzZXRTZXNzaW9uKHMpIHsKICBhY3RpdmVTZXNzaW9uID0gczsKICBjdXJyZW50U2V0cyA9IHt9OwogIGN1cnJlbnRSUEUgID0ge307CiAgcmVzZXRXb3Jrb3V0VGltZXIoKTsKICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtvdXROb3Rlc0lucHV0JykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3Jrb3V0Tm90ZXNJbnB1dCcpLnZhbHVlID0gJyc7CiAgcmVuZGVyV29ya291dFBhZ2UoKTsKfQoKLy8g4pSA4pSAIHNhdmVXb3Jrb3V0IOKGkiBzaG93IGNvbXBsZXRpb24gc2NyZWVuIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgApmdW5jdGlvbiBzYXZlV29ya291dCgpIHsKICBjb25zdCBsaWZ0TG9nID0gZ2V0U3RvcmFnZSgnbGlmdExvZzInLCB7fSk7CiAgY29uc3Qga2V5ICAgICA9IGAke3RvZGF5S2V5KCl9LSR7YWN0aXZlU2Vzc2lvbn1gOwogIGNvbnN0IGR1clNlY3MgPSBnZXRXb3Jrb3V0RHVyYXRpb24oKTsKICBjb25zdCBleGVyY2lzZXMgPSBQUk9HUkFNW2FjdGl2ZVNlc3Npb25dLmV4ZXJjaXNlcy5tYXAoKGV4LCBpKSA9PiAoewogICAgbmFtZTogZXgubmFtZSwKICAgIHNldHM6IGN1cnJlbnRTZXRzW2Ake2FjdGl2ZVNlc3Npb259LSR7aX1gXSB8fCBbXSwKICAgIHJwZTogIGN1cnJlbnRSUEVbYCR7YWN0aXZlU2Vzc2lvbn0tJHtpfWBdICB8fCBudWxsLAogIH0pKTsKICBjb25zdCBub3RlcyA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya291dE5vdGVzSW5wdXQnKT8udmFsdWUgfHwgJycpLnRyaW0oKTsKICBsaWZ0TG9nW2tleV0gPSB7IHNlc3Npb246IGFjdGl2ZVNlc3Npb24sIGRhdGU6IHRvZGF5S2V5KCksIGV4ZXJjaXNlcywgbm90ZXMsIGR1cmF0aW9uOiBkdXJTZWNzIH07CiAgc2V0U3RvcmFnZSgnbGlmdExvZzInLCBsaWZ0TG9nKTsKCiAgY29uc3QgdG90YWxEb25lID0gZXhlcmNpc2VzLnJlZHVjZSgobiwgZXgpID0+IG4gKyBleC5zZXRzLmZpbHRlcihzID0+IHMuZG9uZSkubGVuZ3RoLCAwKTsKICBjb25zdCB0b3RhbFNldHMgPSBleGVyY2lzZXMucmVkdWNlKChuLCBleCkgPT4gbiArIGV4LnNldHMubGVuZ3RoLCAwKTsKICBjb25zdCB0b3RhbFZvbCAgPSBleGVyY2lzZXMucmVkdWNlKChuLCBleCkgPT4KICAgIG4gKyBleC5zZXRzLmZpbHRlcihzID0+IHMuZG9uZSAmJiBzLnR5cGUgIT09ICd3YXJtdXAnKS5yZWR1Y2UoKHN2LCBzKSA9PiBzdiArIChwYXJzZUZsb2F0KHMud2VpZ2h0KXx8MCkgKiAocGFyc2VJbnQocy5yZXBzKXx8MCksIDApLCAwKTsKCiAgLy8gQ29sbGVjdCB0b2RheSdzIFBScwogIGNvbnN0IHBycyA9IGdldFBScygpOwogIGNvbnN0IHRvZGF5UFJzID0gT2JqZWN0LnZhbHVlcyhwcnMpLmZpbHRlcihwID0+IHAuZGF0ZSA9PT0gdG9kYXlLZXkoKSk7CgogIC8vIFJlc2V0IHN0YXRlCiAgY3VycmVudFNldHMgPSB7fTsKICBjdXJyZW50UlBFICA9IHt9OwogIHN0b3BXb3Jrb3V0VGltZXIoKTsKICBza2lwUmVzdFRpbWVyKCk7CiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3Jrb3V0Tm90ZXNJbnB1dCcpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya291dE5vdGVzSW5wdXQnKS52YWx1ZSA9ICcnOwoKICByZW5kZXJTdHJlYWtDYXJkKCk7CiAgc2hvd1dvcmtvdXRDb21wbGV0ZSh0b3RhbERvbmUsIHRvdGFsU2V0cywgdG90YWxWb2wsIGR1clNlY3MsIHRvZGF5UFJzLCBleGVyY2lzZXMpOwp9CgoKLy8g4pSA4pSAIFdvcmtvdXQgQ29tcGxldGUgU2NyZWVuIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgApmdW5jdGlvbiBzaG93V29ya291dENvbXBsZXRlKGRvbmUsIHRvdGFsLCB2b2x1bWUsIGR1clNlY3MsIHByTGlzdCwgZXhlcmNpc2VzKSB7CiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3Jrb3V0Q29tcGxldGVPdmVybGF5Jyk7CiAgaWYgKCFvdmVybGF5KSB7IHJlbmRlcldvcmtvdXRQYWdlKCk7IHJldHVybjsgfQoKICBjb25zdCBtID0gTWF0aC5mbG9vcihkdXJTZWNzIC8gNjApOwogIGNvbnN0IHMgPSBkdXJTZWNzICUgNjA7CiAgY29uc3QgZHVyU3RyID0gZHVyU2VjcyA+IDAgPyBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCcwJyl9YCA6ICfigJQnOwoKICAvLyBXb3Jrb3V0IG9yZGluYWwKICBjb25zdCBsaWZ0TG9nID0gZ2V0U3RvcmFnZSgnbGlmdExvZzInLCB7fSk7CiAgY29uc3QgdG90YWxXb3Jrb3V0cyA9IE9iamVjdC5rZXlzKGxpZnRMb2cpLmxlbmd0aDsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3djU3ViJykudGV4dENvbnRlbnQgPSBgU2Vzc2lvbiAjJHt0b3RhbFdvcmtvdXRzfSDCtyAke1BST0dSQU1bYWN0aXZlU2Vzc2lvbl0ubmFtZX1gOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2NTdGF0cycpLmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9IndjLXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiM2MGE1ZmEiPiR7ZHVyU3RyfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LWxibCI+RHVyYXRpb248L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0id2Mtc3RhdCI+CiAgICAgIDxkaXYgY2xhc3M9IndjLXN0YXQtdmFsIiBzdHlsZT0iY29sb3I6IzIyYzU1ZSI+JHtkb25lfS8ke3RvdGFsfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LWxibCI+U2V0cyBEb25lPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IndjLXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiNmNTllMGIiPiR7dm9sdW1lID49IDEwMDAgPyAodm9sdW1lLzEwMDApLnRvRml4ZWQoMSkrJ2snIDogTWF0aC5yb3VuZCh2b2x1bWUpfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LWxibCI+VG90YWwgVm9sdW1lPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IndjLXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3Yy1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiNhNzhiZmEiPiR7ZXhlcmNpc2VzLmxlbmd0aH08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0id2Mtc3RhdC1sYmwiPkV4ZXJjaXNlczwvZGl2PgogICAgPC9kaXY+YDsKCiAgY29uc3QgcHJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2NQUnMnKTsKICBjb25zdCBwckxpc3RFbCAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3Y1BSTGlzdCcpOwogIGlmIChwckxpc3QgJiYgcHJMaXN0Lmxlbmd0aCA+IDApIHsKICAgIHByQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgcHJMaXN0RWwuaW5uZXJIVE1MID0gcHJMaXN0Lm1hcChwID0+CiAgICAgIGA8ZGl2IGNsYXNzPSJ3Yy1wci1pdGVtIj7wn4+GICR7cC53ZWlnaHR9IGxicyDDlyAke3AucmVwc30gcmVwcyDCtyB+JHtwLmVzdDFybX0gbGJzIDFSTTwvZGl2PmAKICAgICkuam9pbignJyk7CiAgfSBlbHNlIHsKICAgIHByQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgfQoKICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7Cn0KCmZ1bmN0aW9uIGNsb3NlV29ya291dENvbXBsZXRlKCkgewogIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya291dENvbXBsZXRlT3ZlcmxheScpOwogIGlmIChvdmVybGF5KSBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgcmVzZXRXb3Jrb3V0VGltZXIoKTsKICByZW5kZXJXb3Jrb3V0UGFnZSgpOwp9CgovLyDilIDilIAgRXhlcmNpc2UgUHJvZ3Jlc3MgQ2hhcnQg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmZ1bmN0aW9uIG9wZW5FeENoYXJ0KGV4TmFtZSkgewogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4Q2hhcnRNb2RhbCcpOwogIGlmICghbW9kYWwpIHJldHVybjsKCiAgY29uc3QgbGlmdExvZyA9IGdldFN0b3JhZ2UoJ2xpZnRMb2cyJywge30pOwogIGNvbnN0IHBycyAgICAgPSBnZXRQUnMoKTsKICBjb25zdCBwcktleSAgID0gZXhOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMrL2csICdfJyk7CiAgY29uc3QgcHJEYXRhICA9IHByc1twcktleV07CgogIC8vIEdhdGhlciBhbGwgZGF0YSBwb2ludHM6IHsgZGF0ZSwgbWF4V2VpZ2h0LCBiZXN0UmVwcywgZXN0MXJtIH0KICBjb25zdCBwb2ludHMgPSBbXTsKICBPYmplY3QuZW50cmllcyhsaWZ0TG9nKS5zb3J0KChbYV0sW2JdKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpLmZvckVhY2goKFtrLCBsb2ddKSA9PiB7CiAgICBpZiAoIWxvZy5leGVyY2lzZXMpIHJldHVybjsKICAgIGxvZy5leGVyY2lzZXMuZm9yRWFjaChleCA9PiB7CiAgICAgIGlmIChleC5uYW1lICE9PSBleE5hbWUpIHJldHVybjsKICAgICAgY29uc3QgZG9uZSA9IChleC5zZXRzIHx8IFtdKS5maWx0ZXIocyA9PiBzLmRvbmUgJiYgcy50eXBlICE9PSAnd2FybXVwJyAmJiBwYXJzZUZsb2F0KHMud2VpZ2h0KSA+IDApOwogICAgICBpZiAoIWRvbmUubGVuZ3RoKSByZXR1cm47CiAgICAgIC8vIEJlc3Qgc2V0IGJ5IGVzdGltYXRlZCAxUk0KICAgICAgbGV0IGJlc3QgPSBudWxsOwogICAgICBkb25lLmZvckVhY2gocyA9PiB7CiAgICAgICAgY29uc3QgZTFybSA9IChwYXJzZUZsb2F0KHMud2VpZ2h0KSB8fCAwKSAqICgxICsgKHBhcnNlSW50KHMucmVwcykgfHwgMCkgLyAzMCk7CiAgICAgICAgaWYgKCFiZXN0IHx8IGUxcm0gPiBiZXN0LmVzdDFybSkgYmVzdCA9IHsgd2VpZ2h0OiBwYXJzZUZsb2F0KHMud2VpZ2h0KSwgcmVwczogcGFyc2VJbnQocy5yZXBzKSB8fCAwLCBlc3Qxcm06IGUxcm0gfTsKICAgICAgfSk7CiAgICAgIGlmIChiZXN0KSBwb2ludHMucHVzaCh7IGRhdGU6IGxvZy5kYXRlIHx8IGsuc2xpY2UoMCwxMCksIC4uLmJlc3QgfSk7CiAgICB9KTsKICB9KTsKCiAgLy8gVGl0bGUgYW5kIHN1YgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleENoYXJ0VGl0bGUnKS50ZXh0Q29udGVudCA9IGV4TmFtZTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhDaGFydFN1YicpLnRleHRDb250ZW50ID0gcG9pbnRzLmxlbmd0aAogICAgPyBgJHtwb2ludHMubGVuZ3RofSBzZXNzaW9ucyBsb2dnZWRgICsgKHByRGF0YSA/IGAgwrcg8J+PhiBQUjogJHtwckRhdGEud2VpZ2h0fSBsYnMgw5cgJHtwckRhdGEucmVwc30gcmVwc2AgOiAnJykKICAgIDogJ05vIGRhdGEgeWV0IOKAlCBsb2cgdGhpcyBleGVyY2lzZSB0byBzZWUgcHJvZ3Jlc3MnOwoKICAvLyBEcmF3IFNWRyBjaGFydAogIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleENoYXJ0U3ZnJyk7CiAgc3ZnLmlubmVySFRNTCA9ICcnOwogIGNvbnN0IFcgPSAzMDAsIEggPSAxMzAsIFBBRCA9IHsgdDogMTAsIHI6IDEwLCBiOiAzMCwgbDogNDAgfTsKICBjb25zdCBpVyA9IFcgLSBQQUQubCAtIFBBRC5yOwogIGNvbnN0IGlIID0gSCAtIFBBRC50IC0gUEFELmI7CgogIGlmIChwb2ludHMubGVuZ3RoID49IDIpIHsKICAgIGNvbnN0IHZhbHMgICA9IHBvaW50cy5tYXAocCA9PiBwLmVzdDFybSk7CiAgICBjb25zdCBtaW5WICAgPSBNYXRoLm1pbiguLi52YWxzKSAqIDAuOTI7CiAgICBjb25zdCBtYXhWICAgPSBNYXRoLm1heCguLi52YWxzKSAqIDEuMDU7CiAgICBjb25zdCB4U3RlcCAgPSBpVyAvIChwb2ludHMubGVuZ3RoIC0gMSk7CiAgICBjb25zdCB5U2NhbGUgPSB2ID0+IGlIIC0gKCh2IC0gbWluVikgLyAobWF4ViAtIG1pblYpKSAqIGlIOwoKICAgIC8vIEdyaWQgbGluZXMKICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykgewogICAgICBjb25zdCB5ID0gUEFELnQgKyAoaSAvIDQpICogaUg7CiAgICAgIGNvbnN0IHYgPSBtYXhWIC0gKGkgLyA0KSAqIChtYXhWIC0gbWluVik7CiAgICAgIHN2Zy5pbm5lckhUTUwgKz0gYDxsaW5lIHgxPSIke1BBRC5sfSIgeTE9IiR7eX0iIHgyPSIke1cgLSBQQUQucn0iIHkyPSIke3l9IiBzdHJva2U9IiMyYTJmM2QiIHN0cm9rZS13aWR0aD0iMSIvPmA7CiAgICAgIHN2Zy5pbm5lckhUTUwgKz0gYDx0ZXh0IHg9IiR7UEFELmwgLSA0fSIgeT0iJHt5ICsgNH0iIHRleHQtYW5jaG9yPSJlbmQiIGZpbGw9IiM0ZDU0NjgiIGZvbnQtc2l6ZT0iOSIgZm9udC1mYW1pbHk9IlBsdXMgSmFrYXJ0YSBTYW5zLHNhbnMtc2VyaWYiPiR7TWF0aC5yb3VuZCh2KX08L3RleHQ+YDsKICAgIH0KCiAgICAvLyBMaW5lIHBhdGgKICAgIGNvbnN0IHB0cyA9IHBvaW50cy5tYXAoKHAsIGkpID0+IHsKICAgICAgY29uc3QgeCA9IFBBRC5sICsgaSAqIHhTdGVwOwogICAgICBjb25zdCB5ID0gUEFELnQgKyB5U2NhbGUocC5lc3Qxcm0pOwogICAgICByZXR1cm4gYCR7eH0sJHt5fWA7CiAgICB9KS5qb2luKCcgJyk7CiAgICBzdmcuaW5uZXJIVE1MICs9IGA8cG9seWxpbmUgcG9pbnRzPSIke3B0c30iIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyYzU1ZSIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPmA7CgogICAgLy8gQXJlYSBmaWxsCiAgICBjb25zdCBmaXJzdFggPSBQQUQubCwgbGFzdFggPSBQQUQubCArIChwb2ludHMubGVuZ3RoIC0gMSkgKiB4U3RlcDsKICAgIGNvbnN0IGFyZWFCYXNlID0gUEFELnQgKyBpSDsKICAgIGNvbnN0IGFyZWFQYXRoID0gYE0ke2ZpcnN0WH0sJHthcmVhQmFzZX0gYCArCiAgICAgIHBvaW50cy5tYXAoKHAsIGkpID0+IGBMJHtQQUQubCArIGkgKiB4U3RlcH0sJHtQQUQudCArIHlTY2FsZShwLmVzdDFybSl9YCkuam9pbignICcpICsKICAgICAgYCBMJHtsYXN0WH0sJHthcmVhQmFzZX0gWmA7CiAgICBzdmcuaW5uZXJIVE1MICs9IGA8cGF0aCBkPSIke2FyZWFQYXRofSIgZmlsbD0idXJsKCNjaGFydEdyYWQpIiBvcGFjaXR5PSIwLjMiLz5gOwogICAgc3ZnLmlubmVySFRNTCArPSBgPGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJjaGFydEdyYWQiIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMjJjNTVlIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMjJjNTVlIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz5gOwoKICAgIC8vIERvdHMgKyBkYXRlIGxhYmVscyAoc2hvdyBldmVyeSBOdGgpCiAgICBjb25zdCBzaG93RXZlcnkgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwocG9pbnRzLmxlbmd0aCAvIDUpKTsKICAgIHBvaW50cy5mb3JFYWNoKChwLCBpKSA9PiB7CiAgICAgIGNvbnN0IHggPSBQQUQubCArIGkgKiB4U3RlcDsKICAgICAgY29uc3QgeSA9IFBBRC50ICsgeVNjYWxlKHAuZXN0MXJtKTsKICAgICAgc3ZnLmlubmVySFRNTCArPSBgPGNpcmNsZSBjeD0iJHt4fSIgY3k9IiR7eX0iIHI9IjMuNSIgZmlsbD0iIzIyYzU1ZSIgc3Ryb2tlPSIjMGQxZTNkIiBzdHJva2Utd2lkdGg9IjEuNSIvPmA7CiAgICAgIGlmIChpICUgc2hvd0V2ZXJ5ID09PSAwIHx8IGkgPT09IHBvaW50cy5sZW5ndGggLSAxKSB7CiAgICAgICAgY29uc3QgZGF0ZUxhYmVsID0gcC5kYXRlID8gcC5kYXRlLnNsaWNlKDUpIDogJyc7CiAgICAgICAgc3ZnLmlubmVySFRNTCArPSBgPHRleHQgeD0iJHt4fSIgeT0iJHtIIC0gNn0iIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM0ZDU0NjgiIGZvbnQtc2l6ZT0iOCIgZm9udC1mYW1pbHk9IlBsdXMgSmFrYXJ0YSBTYW5zLHNhbnMtc2VyaWYiPiR7ZGF0ZUxhYmVsfTwvdGV4dD5gOwogICAgICB9CiAgICB9KTsKICB9IGVsc2UgaWYgKHBvaW50cy5sZW5ndGggPT09IDEpIHsKICAgIHN2Zy5pbm5lckhUTUwgPSBgPHRleHQgeD0iMTUwIiB5PSI3MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzRkNTQ2OCIgZm9udC1zaXplPSIxMiIgZm9udC1mYW1pbHk9IlBsdXMgSmFrYXJ0YSBTYW5zLHNhbnMtc2VyaWYiPk9ubHkgMSBzZXNzaW9uIOKAlCBsb2cgbW9yZSB0byBzZWUgdHJlbmRzPC90ZXh0PmA7CiAgfSBlbHNlIHsKICAgIHN2Zy5pbm5lckhUTUwgPSBgPHRleHQgeD0iMTUwIiB5PSI3MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzRkNTQ2OCIgZm9udC1zaXplPSIxMiIgZm9udC1mYW1pbHk9IlBsdXMgSmFrYXJ0YSBTYW5zLHNhbnMtc2VyaWYiPk5vIGRhdGEgeWV0IOKAlCBsb2cgdGhpcyBleGVyY2lzZSBmaXJzdDwvdGV4dD5gOwogIH0KCiAgLy8gU3RhdHMgcm93CiAgY29uc3QgYmVzdCA9IHBvaW50cy5sZW5ndGggPyBwb2ludHMucmVkdWNlKChiLCBwKSA9PiBwLmVzdDFybSA+IGIuZXN0MXJtID8gcCA6IGIpIDogbnVsbDsKICBjb25zdCBsYXRlc3QgPSBwb2ludHMubGVuZ3RoID8gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSA6IG51bGw7CiAgY29uc3QgZmlyc3QgID0gcG9pbnRzLmxlbmd0aCA/IHBvaW50c1swXSA6IG51bGw7CiAgY29uc3QgcGN0Q2hhbmdlID0gKGZpcnN0ICYmIGxhdGVzdCAmJiBmaXJzdC5lc3Qxcm0gPiAwKQogICAgPyAoKChsYXRlc3QuZXN0MXJtIC0gZmlyc3QuZXN0MXJtKSAvIGZpcnN0LmVzdDFybSkgKiAxMDApLnRvRml4ZWQoMSkgOiBudWxsOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhDaGFydFN0YXRzJykuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0iZXgtc3RhdC1ib3giPgogICAgICA8ZGl2IGNsYXNzPSJleC1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiNmNTllMGIiPiR7YmVzdCA/IE1hdGgucm91bmQoYmVzdC5lc3Qxcm0pIDogJ+KAlCd9PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImV4LXN0YXQtbGJsIj5CZXN0IDFSTSBFc3QuPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImV4LXN0YXQtYm94Ij4KICAgICAgPGRpdiBjbGFzcz0iZXgtc3RhdC12YWwiIHN0eWxlPSJjb2xvcjojMjJjNTVlIj4ke3ByRGF0YSA/IHByRGF0YS53ZWlnaHQgOiAn4oCUJ308L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZXgtc3RhdC1sYmwiPlBSIFdlaWdodDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJleC1zdGF0LWJveCI+CiAgICAgIDxkaXYgY2xhc3M9ImV4LXN0YXQtdmFsIiBzdHlsZT0iY29sb3I6JHtwY3RDaGFuZ2UgPiAwID8gJyMyMmM1NWUnIDogJyNmODcxNzEnfSI+JHtwY3RDaGFuZ2UgIT09IG51bGwgPyAocGN0Q2hhbmdlID4gMCA/ICcrJyA6ICcnKSArIHBjdENoYW5nZSArICclJyA6ICfigJQnfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJleC1zdGF0LWxibCI+UHJvZ3Jlc3M8L2Rpdj4KICAgIDwvZGl2PmA7CgogIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7Cn0KCmZ1bmN0aW9uIGNsb3NlRXhDaGFydCgpIHsKICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleENoYXJ0TW9kYWwnKTsKICBpZiAobW9kYWwpIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7Cn0KCi8vIOKUgOKUgCByZW5kZXJIaXN0b3J5UGFnZSB2MiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKZnVuY3Rpb24gcmVuZGVySGlzdG9yeVBhZ2UoKSB7CiAgY29uc3QgbGlmdExvZyA9IGdldFN0b3JhZ2UoJ2xpZnRMb2cyJywge30pOwogIGNvbnN0IGtleXMgICAgPSBPYmplY3Qua2V5cyhsaWZ0TG9nKS5zb3J0KCkucmV2ZXJzZSgpOwogIGNvbnN0IGVsICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeUxpc3QnKTsKICBpZiAoIWVsKSByZXR1cm47CgogIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkgewogICAgZWwuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj5ObyB3b3Jrb3V0cyBsb2dnZWQgeWV0Ljxicj5Db21wbGV0ZSBhIHNlc3Npb24gdG8gc2VlIGhpc3RvcnkgaGVyZS48L2Rpdj5gOwogICAgcmV0dXJuOwogIH0KCiAgZWwuaW5uZXJIVE1MID0ga2V5cy5tYXAoayA9PiB7CiAgICBjb25zdCBsb2cgICAgPSBsaWZ0TG9nW2tdOwogICAgY29uc3Qgc2VzcyAgID0gUFJPR1JBTVtsb2cuc2Vzc2lvbl07CiAgICBjb25zdCBkYXRlICAgPSBsb2cuZGF0ZSB8fCBrLnNsaWNlKDAsMTApOwogICAgY29uc3QgZHVyU2VjcyA9IGxvZy5kdXJhdGlvbiB8fCAwOwogICAgY29uc3QgZHVyU3RyICA9IGR1clNlY3MgPiA2MCA/IGAke01hdGguZmxvb3IoZHVyU2Vjcy82MCl9bSAke2R1clNlY3MlNjB9c2AgOiAoZHVyU2VjcyA+IDAgPyBgJHtkdXJTZWNzfXNgIDogJycpOwoKICAgIC8vIENvbXB1dGUgdm9sdW1lCiAgICBjb25zdCB2b2wgPSAobG9nLmV4ZXJjaXNlcyB8fCBbXSkucmVkdWNlKChuLCBleCkgPT4KICAgICAgbiArIChleC5zZXRzIHx8IFtdKS5maWx0ZXIocyA9PiBzLmRvbmUgJiYgcy50eXBlICE9PSAnd2FybXVwJykucmVkdWNlKChzdiwgcykgPT4KICAgICAgICBzdiArIChwYXJzZUZsb2F0KHMud2VpZ2h0KXx8MCkgKiAocGFyc2VJbnQocy5yZXBzKXx8MCksIDApLCAwKTsKCiAgICAvLyBFeGVyY2lzZSByb3dzIHdpdGggYmVzdCBzZXQgcGVyIGV4ZXJjaXNlCiAgICBjb25zdCByb3dzID0gKGxvZy5leGVyY2lzZXMgfHwgW10pLm1hcChleCA9PiB7CiAgICAgIGNvbnN0IGRvbmUgPSAoZXguc2V0cyB8fCBbXSkuZmlsdGVyKHMgPT4gcy5kb25lICYmIHBhcnNlRmxvYXQocy53ZWlnaHQpID4gMCk7CiAgICAgIGlmICghZG9uZS5sZW5ndGgpIHJldHVybiAnJzsKICAgICAgY29uc3QgYmVzdFNldCA9IGRvbmUucmVkdWNlKChiLCBzKSA9PgogICAgICAgIChwYXJzZUZsb2F0KHMud2VpZ2h0KSAqIChwYXJzZUludChzLnJlcHMpfHwxKSkgPiAocGFyc2VGbG9hdChiLndlaWdodCkgKiAocGFyc2VJbnQoYi5yZXBzKXx8MSkpID8gcyA6IGIKICAgICAgKTsKICAgICAgY29uc3Qgc2V0czFybSA9IGRvbmUubWFwKHMgPT4gKHBhcnNlRmxvYXQocy53ZWlnaHQpfHwwKSAqICgxICsgKHBhcnNlSW50KHMucmVwcyl8fDApLzMwKSk7CiAgICAgIGNvbnN0IGVzdDFybSAgPSBNYXRoLm1heCguLi5zZXRzMXJtKTsKICAgICAgY29uc3Qgdm9sRXggICA9IGRvbmUucmVkdWNlKChzdiwgcykgPT4gc3YgKyAocGFyc2VGbG9hdChzLndlaWdodCl8fDApKihwYXJzZUludChzLnJlcHMpfHwwKSwgMCk7CiAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iaGlzdC1yb3ciPgogICAgICAgIDxzcGFuIGNsYXNzPSJoaXN0LWV4Ij4ke2V4Lm5hbWV9PC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJoaXN0LXd0Ij4ke2Jlc3RTZXQud2VpZ2h0fSBsYnMgw5cgJHtiZXN0U2V0LnJlcHN9IMK3ICR7ZG9uZS5sZW5ndGh9IHNldHM8L3NwYW4+CiAgICAgIDwvZGl2PmA7CiAgICB9KS5maWx0ZXIoQm9vbGVhbikuam9pbignJyk7CgogICAgLy8gQmFkZ2UgY29sb3IgYnkgc2Vzc2lvbgogICAgY29uc3Qgc2Vzc2lvbkNvbG9ycyA9IHsgQTonI2Y1OWUwYicsIEI6JyMzYjgyZjYnLCBDOicjMjJjNTVlJyB9OwogICAgY29uc3QgYmFkZ2VDb2xvciA9IHNlc3Npb25Db2xvcnNbbG9nLnNlc3Npb25dIHx8ICcjMjJjNTVlJzsKICAgIGNvbnN0IGJhZGdlQmcgICAgPSBsb2cuc2Vzc2lvbiA9PT0gJ0EnID8gJyMyZDFmMDUnIDogbG9nLnNlc3Npb24gPT09ICdCJyA/ICcjMGQxZTNkJyA6ICcjMGQyZDFhJzsKCiAgICByZXR1cm4gYDxkaXYgY2xhc3M9Imhpc3QtY2FyZCI+CiAgICAgIDxkaXYgY2xhc3M9Imhpc3QtaGVhZGVyIj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iaGlzdC1zZXNzIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6ODAwIj4ke3Nlc3M/Lm5hbWUgfHwgJ1Nlc3Npb24nfTwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iaGlzdC1kYXRlIj4ke2RhdGV9JHtkdXJTdHIgPyAnIMK3IOKPsSAnICsgZHVyU3RyIDogJyd9PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpmbGV4LWVuZDtnYXA6NXB4Ij4KICAgICAgICAgIDxzcGFuIHN0eWxlPSJwYWRkaW5nOjRweCAxMnB4O2JvcmRlci1yYWRpdXM6MjBweDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7YmFja2dyb3VuZDoke2JhZGdlQmd9O2NvbG9yOiR7YmFkZ2VDb2xvcn0iPkRheSAke2xvZy5zZXNzaW9ufTwvc3Bhbj4KICAgICAgICAgICR7dm9sID4gMCA/IGA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQzKSI+JHt2b2wgPj0gMTAwMCA/ICh2b2wvMTAwMCkudG9GaXhlZCgxKSsnaycgOiBNYXRoLnJvdW5kKHZvbCl9IGxiczwvc3Bhbj5gIDogJyd9CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICAke3Jvd3MgfHwgJzxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQzKSI+Tm8gc2V0cyByZWNvcmRlZDwvZGl2Pid9CiAgICAgICR7bG9nLm5vdGVzID8gYDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MTBweDtwYWRkaW5nLXRvcDoxMHB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Zm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dDIpO2xpbmUtaGVpZ2h0OjEuNiI+8J+TnSAke2xvZy5ub3Rlc308L2Rpdj5gIDogJyd9CiAgICA8L2Rpdj5gOwogIH0pLmpvaW4oJycpOwp9CgovLyDilIDilIAgUHJvZ3JhbSBQYWdlIOKUgOKUgApmdW5jdGlvbiByZW5kZXJQcm9ncmFtUGFnZSgpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3JhbUxpc3QnKS5pbm5lckhUTUwgPSBPYmplY3QuZW50cmllcyhQUk9HUkFNKS5tYXAoKFtrZXksIHNlc3NdKSA9PgogICAgYDxkaXYgY2xhc3M9ImNhcmQiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MThweDtmb250LXdlaWdodDo3MDA7Y29sb3I6IzIyYzU1ZTttYXJnaW4tYm90dG9tOjEycHg7bGV0dGVyLXNwYWNpbmc6LTAuM3B4Ij5EYXkgJHtrZXl9IOKAlCAke3Nlc3MubmFtZX08L2Rpdj4KICAgICAgJHtzZXNzLmV4ZXJjaXNlcy5tYXAoZXggPT4gYAogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHg7cGFkZGluZzoxMHB4IDA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U4ZWFmMiI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJtaW4td2lkdGg6NThweDtoZWlnaHQ6MzJweDtib3JkZXItcmFkaXVzOjIwcHg7YmFja2dyb3VuZDojMGQyZDFhO2NvbG9yOiMyMmM1NWU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtmbGV4LXNocmluazowO3BhZGRpbmc6MCA4cHgiPiR7ZXguc2V0c33DlyR7ZXgucmVwc308L2Rpdj4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjYwMDtjb2xvcjp2YXIoLS10ZXh0KSI+JHtleC5uYW1lfTwvZGl2PgogICAgICAgICAgICAke2V4Lm5vdGVzID8gYDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2NvbG9yOnZhcigtLXRleHQyKTttYXJnaW4tdG9wOjJweCI+JHtleC5ub3Rlc308L2Rpdj5gIDogJyd9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj5gKS5qb2luKCcnKX0KICAgIDwvZGl2PmAKICApLmpvaW4oJycpOwp9CgoKLy8g4pSA4pSAIFRhYiBzd2l0Y2hpbmcg4pSA4pSACmZ1bmN0aW9uIHN3aXRjaFRhYihuYW1lLCBidG4pIHsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZScpLmZvckVhY2gocCA9PiBwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ0bicpLmZvckVhY2goYiA9PiBiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS0nK25hbWUpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICBpZiAobmFtZSA9PT0gJ3RvZGF5JykgeyBzZWxlY3RlZERhdGVLZXkgPSB0b2RheUtleSgpOyB1cGRhdGVEYXRlTmF2QmFyKCk7IHNjaGVkdWxlUmVuZGVyKHJlbmRlclJpbmdzKTsgcmVuZGVyV2Vla1N0cmlwKCk7IHJlbmRlclN0cmVha0NhcmQoKTsgcmVuZGVyUXVpY2tSZWNzKCk7IHJlbmRlclVzdWFsRm9vZHMoKTsgcmVuZGVyV29ya291dE51dHJpdGlvbkJhbm5lcigpOyBzY2hlZHVsZVJlbmRlcihyZW5kZXJGb29kTG9nKTsgc2NoZWR1bGVSZW5kZXIocmVuZGVyUHJvdGVpblBhY2UpOyByZW5kZXJXZWlnaHRUcmVuZCgpOyBjaGVja0NvcHlZZXN0ZXJkYXkoKTsgc2NoZWR1bGVSZW5kZXIocmVuZGVyV2Vla2x5QmFsYW5jZSk7IH0KICBpZiAobmFtZSA9PT0gJ2xpZnQnKSByZW5kZXJXb3Jrb3V0UGFnZSgpOwogIGVsc2UgeyBzdG9wV29ya291dFRpbWVyKCk7IHNraXBSZXN0VGltZXIoKTsgfQogIGlmIChuYW1lID09PSAncHJvZ3JhbScpIHJlbmRlclByb2dyYW1QYWdlKCk7CiAgaWYgKG5hbWUgPT09ICdoaXN0b3J5JykgcmVuZGVySGlzdG9yeVBhZ2UoKTsKICBpZiAobmFtZSA9PT0gJ3RyZW5kcycpIHJlbmRlclRyZW5kQ2hhcnQoKTsKICBpZiAobmFtZSA9PT0gJ3Nob2VzJykgIHJlbmRlclNob2VQYWdlKCk7Cn0KCi8vIOKUgOKUgCBGb29kIEVudHJ5IExvZyAoaW5kaXZpZHVhbCBlbnRyaWVzIHBlciBkYXkpIOKUgOKUgApmdW5jdGlvbiBnZXRGb29kRW50cmllcyhkYXRlS2V5KSB7CiAgY29uc3Qga2V5ID0gZGF0ZUtleSB8fCBnZXRTZWxlY3RlZERhdGVLZXkoKTsKICBjb25zdCBhbGwgPSBnZXRTdG9yYWdlKCdmb29kRW50cmllcycsIHt9KTsKICByZXR1cm4gYWxsW2tleV0gfHwgW107Cn0KCmZ1bmN0aW9uIHNldEZvb2RFbnRyaWVzKGVudHJpZXMsIGRhdGVLZXkpIHsKICBjb25zdCBrZXkgICAgICA9IGRhdGVLZXkgfHwgZ2V0U2VsZWN0ZWREYXRlS2V5KCk7CiAgLy8gVXBkYXRlIGZvb2RFbnRyaWVzCiAgY29uc3QgYWxsICAgICAgPSBnZXRTdG9yYWdlKCdmb29kRW50cmllcycsIHt9KTsKICBhbGxba2V5XSAgICAgICA9IGVudHJpZXM7CiAgc2V0U3RvcmFnZSgnZm9vZEVudHJpZXMnLCBhbGwpOwogIC8vIEtlZXAgbWFjcm9Mb2cgaW4gc3luYyDigJQgc2luZ2xlIHJlYWQrd3JpdGUKICBjb25zdCB0b3RhbHMgICA9IGVudHJpZXMucmVkdWNlKChhY2MsIGUpID0+ICh7CiAgICBjYWxvcmllczogYWNjLmNhbG9yaWVzICsgKGUuY2Fsb3JpZXMgfHwgMCksCiAgICBwcm90ZWluOiAgYWNjLnByb3RlaW4gICsgKGUucHJvdGVpbiAgfHwgMCksCiAgICBjYXJiczogICAgYWNjLmNhcmJzICAgICsgKGUuY2FyYnMgICAgfHwgMCksCiAgICBmYXQ6ICAgICAgYWNjLmZhdCAgICAgICsgKGUuZmF0ICAgICAgfHwgMCksCiAgfSksIHsgY2Fsb3JpZXM6IDAsIHByb3RlaW46IDAsIGNhcmJzOiAwLCBmYXQ6IDAgfSk7CiAgY29uc3QgbWFjcm9Mb2cgPSBnZXRTdG9yYWdlKCdtYWNyb0xvZycsIHt9KTsKICBtYWNyb0xvZ1trZXldICA9IHRvdGFsczsKICBzZXRTdG9yYWdlKCdtYWNyb0xvZycsIG1hY3JvTG9nKTsKfQoKZnVuY3Rpb24gYWRkRm9vZEVudHJ5KGZvb2QpIHsKICBjb25zdCBlbnRyaWVzID0gZ2V0Rm9vZEVudHJpZXMoKTsKICBjb25zdCBzZXJ2aW5ncyA9IGZvb2Quc2VydmluZ3MgfHwgMTsKICBlbnRyaWVzLnB1c2goewogICAgaWQ6ICAgICAgICAgICBEYXRlLm5vdygpLAogICAgbmFtZTogICAgICAgICBmb29kLm5hbWUgfHwgJ0Zvb2QnLAogICAgY2Fsb3JpZXM6ICAgICBmb29kLmNhbG9yaWVzIHx8IDAsCiAgICBwcm90ZWluOiAgICAgIGZvb2QucHJvdGVpbiAgfHwgMCwKICAgIGNhcmJzOiAgICAgICAgZm9vZC5jYXJicyAgICB8fCAwLAogICAgZmF0OiAgICAgICAgICBmb29kLmZhdCAgICAgIHx8IDAsCiAgICBpY29uOiAgICAgICAgIGZvb2QuaWNvbiB8fCAn8J+Nve+4jycsCiAgICB0aW1lOiAgICAgICAgIG5vd0VTVCgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IGhvdXI6JzItZGlnaXQnLCBtaW51dGU6JzItZGlnaXQnLCB0aW1lWm9uZTonQW1lcmljYS9OZXdfWW9yaycgfSksCiAgICBzZXJ2aW5ncywKICAgIC8vIFN0b3JlIHBlci1zZXJ2aW5nIGJhc2Ugc28gZWRpdGluZyBjYW4gcmVzY2FsZQogICAgYmFzZU1hY3JvczogewogICAgICBjYWxvcmllczogTWF0aC5yb3VuZCgoZm9vZC5jYWxvcmllcyB8fCAwKSAvIHNlcnZpbmdzICogMTApIC8gMTAsCiAgICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKChmb29kLnByb3RlaW4gIHx8IDApIC8gc2VydmluZ3MgKiAxMCkgLyAxMCwKICAgICAgY2FyYnM6ICAgIE1hdGgucm91bmQoKGZvb2QuY2FyYnMgICAgfHwgMCkgLyBzZXJ2aW5ncyAqIDEwKSAvIDEwLAogICAgICBmYXQ6ICAgICAgTWF0aC5yb3VuZCgoZm9vZC5mYXQgICAgICB8fCAwKSAvIHNlcnZpbmdzICogMTApIC8gMTAsCiAgICB9LAogIH0pOwogIHNldEZvb2RFbnRyaWVzKGVudHJpZXMpOwogIHJlbmRlclJpbmdzKCk7CiAgcmVuZGVyRm9vZExvZygpOwogIHJlbmRlclByb3RlaW5QYWNlKCk7CiAgcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwogIGNvbnN0IGlzUGFzdCA9IGdldFNlbGVjdGVkRGF0ZUtleSgpICE9PSB0b2RheUtleSgpOwogIHNob3dUb2FzdChg4pyFICR7Zm9vZC5uYW1lfSBsb2dnZWQhJHtpc1Bhc3QgPyAnIChwYXN0IGRheSknIDogJyd9YCk7Cn0KCgoKCmZ1bmN0aW9uIHJlbmRlcldvcmtvdXROdXRyaXRpb25CYW5uZXIoKSB7CiAgY29uc3QgYmFubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtvdXROdXRyaXRpb25CYW5uZXInKTsKICBjb25zdCB0aXRsZSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya291dE51dHJpdGlvblRpdGxlJyk7CiAgY29uc3QgbXNnICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtvdXROdXRyaXRpb25Nc2cnKTsKICBpZiAoIWJhbm5lcikgcmV0dXJuOwoKICBjb25zdCBkb3cgICAgID0gbm93RVNUKCkuZ2V0RGF5KCk7CiAgY29uc3QgaCAgICAgICA9IG5vd0VTVCgpLmdldEhvdXJzKCk7CiAgY29uc3QgdG9kYXlXICA9IFdFRUsuZmluZChkID0+IERBWV9NQVBbZC5kYXldID09PSBkb3cpOwogIGNvbnN0IGlzTGlmdCAgPSB0b2RheVcgJiYgKHRvZGF5Vy50eXBlID09PSAnbGlmdCcgfHwgdG9kYXlXLnR5cGUgPT09ICdvcHRpb25hbCcpOwogIGNvbnN0IGlzUnVuICAgPSB0b2RheVcgJiYgKHRvZGF5Vy50eXBlID09PSAncnVuJyB8fCB0b2RheVcudHlwZSA9PT0gJ2xvbmdydW4nIHx8IHRvZGF5Vy50eXBlID09PSAncmVjb3ZlcnlydW4nKTsKICBjb25zdCBlbnRyaWVzID0gZ2V0Rm9vZEVudHJpZXMoKTsKICBjb25zdCBjb25zdW1lZCA9IGVudHJpZXMucmVkdWNlKChzLCBlKSA9PiBzICsgKGUuY2Fsb3JpZXMgfHwgMCksIDApOwogIGNvbnN0IG1hY3JvcyAgID0gZ2V0U3RvcmFnZSgndXNlck1hY3JvcycsIG51bGwpIHx8IE1BQ1JPUzsKCiAgaWYgKCFpc0xpZnQgJiYgIWlzUnVuKSB7IGJhbm5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyByZXR1cm47IH0KCiAgYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICBpZiAoaXNMaWZ0KSB7CiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICfwn4+L77iPIExpZnQgRGF5IEZ1ZWwnOwogICAgaWYgKGggPCAxMCkgewogICAgICBtc2cudGV4dENvbnRlbnQgPSAnUHJlLWxpZnQ6IGFpbSBmb3IgNDDigJM1MGcgY2FyYnMgKyAzMGcgcHJvdGVpbiA2MOKAkzkwIG1pbiBiZWZvcmUgeW91IHRyYWluLiBPYXRzICsgcHJvdGVpbiBzaGFrZSB3b3JrcyBncmVhdC4nOwogICAgfSBlbHNlIGlmIChoID49IDEwICYmIGggPCAxNCkgewogICAgICBtc2cudGV4dENvbnRlbnQgPSAnTWlkLWRheSBsaWZ0IHdpbmRvdzogbWFrZSBzdXJlIHlvdXIgcHJlLXdvcmtvdXQgbWVhbCBoYWQgY2FyYnMuIFBvc3QtbGlmdCwgaGl0IDUwZyBwcm90ZWluICsgNjBnIGNhcmJzIHdpdGhpbiAzMCBtaW4uJzsKICAgIH0gZWxzZSBpZiAoaCA+PSAxNCAmJiBoIDwgMjApIHsKICAgICAgY29uc3QgcG9zdExpZnRSZW1haW5pbmcgPSBNYXRoLm1heCgwLCAobWFjcm9zLnByb3RlaW4gfHwgMTkwKSAtIGNvbnN1bWVkKTsKICAgICAgbXNnLnRleHRDb250ZW50ID0gYFBvc3Qtd29ya291dCB3aW5kb3cuIFRhcmdldDogNTBnIHByb3RlaW4gKyA2MGcgY2FyYnMgTk9XLiBZb3Ugc3RpbGwgaGF2ZSAkeyhtYWNyb3MuY2Fsb3JpZXMgLSBjb25zdW1lZCkudG9GaXhlZCgwKX0ga2NhbCByZW1haW5pbmcgdG9kYXkuYDsKICAgIH0gZWxzZSB7CiAgICAgIG1zZy50ZXh0Q29udGVudCA9ICdSZWNvdmVyeSBuaWdodCDigJQgcHJpb3JpdGl6ZSBwcm90ZWluIGJlZm9yZSBiZWQuIENvdHRhZ2UgY2hlZXNlIG9yIGNhc2VpbiBzaGFrZSBpZGVhbC4nOwogICAgfQogIH0gZWxzZSBpZiAoaXNSdW4pIHsKICAgIGNvbnN0IGlzTG9uZyA9IHRvZGF5Vy50eXBlID09PSAnbG9uZ3J1bic7CiAgICB0aXRsZS50ZXh0Q29udGVudCA9IGlzTG9uZyA/ICfwn4+DIExvbmcgUnVuIERheScgOiAn8J+PgyBSdW4gRGF5JzsKICAgIGlmIChoIDwgOCkgewogICAgICBtc2cudGV4dENvbnRlbnQgPSBpc0xvbmcgPyAnTG9uZyBydW4gdG9kYXkg4oCUIGVhdCA2MOKAkzgwZyBjYXJicyAyIGhycyBiZWZvcmUuIEh5ZHJhdGUgd2VsbC4gQnJpbmcgZnVlbCBpZiBydW5uaW5nIDYwKyBtaW4uJyA6ICdFYXN5IHJ1biBkYXkg4oCUIGxpZ2h0IGNhcmJzIGJlZm9yZSwgZm9jdXMgb24gaGl0dGluZyBwcm90ZWluIHRhcmdldCB0aHJvdWdoIHRoZSBkYXkuJzsKICAgIH0gZWxzZSB7CiAgICAgIG1zZy50ZXh0Q29udGVudCA9IGlzTG9uZyA/ICdQb3N0IGxvbmcgcnVuOiByZXBsZW5pc2ggd2l0aCA4MOKAkzEwMGcgY2FyYnMgKyA0MGcgcHJvdGVpbiBBU0FQLiBZb3VyIGNhcmIgdGFyZ2V0IGlzIGhpZ2hlciB0b2RheS4nIDogJ1Bvc3QtcnVuOiBnb29kIGpvYi4gS2VlcCBjYXJicyB0b3dhcmQgdGhlIGhpZ2hlciBlbmQgdG9kYXkgdG8gcmVwbGVuaXNoIGdseWNvZ2VuLic7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiByZW5kZXJTdHJlYWtDYXJkKCkgewogIGNvbnN0IGxpZnRMb2cgID0gZ2V0U3RvcmFnZSgnbGlmdExvZzInLCB7fSk7CiAgY29uc3Qgc2hvZVJ1bnMgPSBnZXRTaG9lUnVucygpOwogIGNvbnN0IHN0cmVha0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cmVha0NvdW50Jyk7CiAgY29uc3Qgc3ViRWwgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RyZWFrU3ViJyk7CiAgY29uc3QgZG90Um93ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vla0RvdFJvdycpOwogIGlmICghc3RyZWFrRWwpIHJldHVybjsKCiAgY29uc3Qgbm93ID0gbm93RVNUKCk7CgogIC8vIEhlbHBlcjogZGlkIHRoZSB1c2VyIGNvbXBsZXRlIGEgd29ya291dCBvbiBhIGdpdmVuIFlZWVktTU0tREQga2V5PwogIC8vIENvdW50czogYW55IGxpZnRMb2cgZW50cnkgZm9yIHRoYXQgZGF0ZSBPUiBhbnkgc2hvZVJ1biBsb2dnZWQgb24gdGhhdCBkYXRlCiAgZnVuY3Rpb24gaGFzQWN0aXZpdHlPbihrZXkpIHsKICAgIGNvbnN0IGhhc0xpZnQgPSBPYmplY3Qua2V5cyhsaWZ0TG9nKS5zb21lKGsgPT4gay5zdGFydHNXaXRoKGtleSkpOwogICAgY29uc3QgaGFzUnVuICA9IHNob2VSdW5zLnNvbWUociA9PiByLmRhdGUgPT09IGtleSk7CiAgICByZXR1cm4gaGFzTGlmdCB8fCBoYXNSdW47CiAgfQoKICAvLyBDb3VudCBjb25zZWN1dGl2ZSBhY3RpdmUgZGF5cyBnb2luZyBiYWNrIGZyb20gdG9kYXkKICAvLyBUb2RheSBpcyBhbGxvd2VkIHRvIGJlIGVtcHR5IHdpdGhvdXQgYnJlYWtpbmcgdGhlIHN0cmVhawogIGxldCBzdHJlYWsgPSAwOwogIGZvciAobGV0IGkgPSAwOyBpIDwgOTA7IGkrKykgewogICAgY29uc3QgZCA9IG5ldyBEYXRlKG5vdyk7CiAgICBkLnNldERhdGUobm93LmdldERhdGUoKSAtIGkpOwogICAgY29uc3Qga2V5ID0gZGF0ZVRvS2V5KGQpOwogICAgaWYgKGhhc0FjdGl2aXR5T24oa2V5KSkgewogICAgICBzdHJlYWsrKzsKICAgIH0gZWxzZSBpZiAoaSA+IDApIHsKICAgICAgYnJlYWs7IC8vIGdhcCBmb3VuZCDigJQgc3RvcCAoaT0wIGlzIHRvZGF5LCBhbGxvd2VkIHRvIGJlIGVtcHR5KQogICAgfQogIH0KCiAgc3RyZWFrRWwudGV4dENvbnRlbnQgPSBzdHJlYWs7CiAgc3ViRWwudGV4dENvbnRlbnQgICAgPSBzdHJlYWsgPT09IDAKICAgID8gJ0xvZyBhIHdvcmtvdXQgb3IgcnVuIHRvIHN0YXJ0IHlvdXIgc3RyZWFrIScKICAgIDogc3RyZWFrID09PSAxID8gJ0RheSAxIOKAlCBrZWVwIGl0IGdvaW5nIScKICAgIDogYCR7c3RyZWFrfSBjb25zZWN1dGl2ZSBkYXkke3N0cmVhayAhPT0gMSA/ICdzJyA6ICcnfSDwn5SlYDsKCiAgLy8g4pSA4pSAIFdlZWsgZG90IHJvdyDigJQgc2hvdyBBTEwgd29ya291dCBkYXlzIChsaWZ0cyArIHJ1bnMpIOKUgOKUgOKUgOKUgOKUgOKUgAogIGNvbnN0IGRvdyAgICAgICAgPSBub3cuZ2V0RGF5KCk7CiAgY29uc3QgZGlmZlRvTW9uICA9IGRvdyA9PT0gMCA/IC02IDogMSAtIGRvdzsKICBjb25zdCB0eXBlQ29sb3JzID0geyBsaWZ0OicjMjJjNTVlJywgcnVuOicjM2I4MmY2JywgbG9uZ3J1bjonI2Y1OWUwYicsIHJlY292ZXJ5cnVuOicjMDZiNmQ0Jywgb3B0aW9uYWw6JyM4YjVjZjYnIH07CiAgY29uc3QgdHlwZUljb25zICA9IHsgbGlmdDon8J+Pi++4jycsIHJ1bjon8J+PgycsIGxvbmdydW46J/Cfj4MnLCByZWNvdmVyeXJ1bjon8J+aticsIG9wdGlvbmFsOifwn4+L77iPJyB9OwoKICBjb25zdCB3ZWVrRG90cyA9IFdFRUsubWFwKChzLCBpKSA9PiB7CiAgICBjb25zdCBkID0gbmV3IERhdGUobm93KTsKICAgIGQuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgZGlmZlRvTW9uICsgaSk7CiAgICBjb25zdCBrZXkgICAgICA9IGRhdGVUb0tleShkKTsKICAgIGNvbnN0IGlzUmVzdCAgID0gcy50eXBlID09PSAncmVzdCc7CiAgICBjb25zdCBpc0Z1dHVyZSA9IGQgPiBub3c7CiAgICBjb25zdCBoYXNMaWZ0ICA9IE9iamVjdC5rZXlzKGxpZnRMb2cpLnNvbWUoayA9PiBrLnN0YXJ0c1dpdGgoa2V5KSk7CiAgICBjb25zdCBoYXNSdW4gICA9IHNob2VSdW5zLnNvbWUociA9PiByLmRhdGUgPT09IGtleSk7CiAgICBjb25zdCBkb25lICAgICA9IGhhc0xpZnQgfHwgaGFzUnVuOwogICAgLy8gRm9yIGxpZnQgZGF5czogY2hlY2sgbGlmdDsgZm9yIHJ1biBkYXlzOiBjaGVjayBydW5zCiAgICBjb25zdCBpc1dvcmtvdXQgPSAhaXNSZXN0OwogICAgcmV0dXJuIHsgdHlwZTogcy50eXBlLCBkYXk6IHMuZGF5LCBkb25lLCBpc0Z1dHVyZSwgaXNSZXN0LCBpc1dvcmtvdXQsIGhhc0xpZnQsIGhhc1J1biB9OwogIH0pOwoKICBjb25zdCB3b3Jrb3V0RGF5cyA9IHdlZWtEb3RzLmZpbHRlcihkID0+IGQuaXNXb3Jrb3V0KTsKICBjb25zdCBkb25lRGF5cyAgICA9IHdvcmtvdXREYXlzLmZpbHRlcihkID0+IGQuZG9uZSkubGVuZ3RoOwoKICBkb3RSb3cuaW5uZXJIVE1MID0KICAgIGA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1ib3R0b206NHB4O2xldHRlci1zcGFjaW5nOjFweCI+VEhJUyBXRUVLPC9kaXY+YCArCiAgICBgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDo1cHg7YWxpZ24taXRlbXM6Y2VudGVyIj5gICsKICAgIHdlZWtEb3RzLm1hcChkID0+IHsKICAgICAgaWYgKGQuaXNSZXN0KSB7CiAgICAgICAgcmV0dXJuIGA8ZGl2IHRpdGxlPSIke2QuZGF5fTogUmVzdCIgc3R5bGU9IndpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7Ym9yZGVyLXJhZGl1czo2cHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7b3BhY2l0eTowLjQiPjwvZGl2PmA7CiAgICAgIH0KICAgICAgY29uc3QgY29sb3IgID0gdHlwZUNvbG9yc1tkLnR5cGVdIHx8ICcjOTRhM2I4JzsKICAgICAgY29uc3QgaWNvbiAgID0gdHlwZUljb25zW2QudHlwZV0gIHx8ICfwn5KqJzsKICAgICAgbGV0IGJnLCBib3JkZXIsIGxhYmVsOwogICAgICBpZiAoZC5kb25lKSB7CiAgICAgICAgYmcgPSBjb2xvciArICczMyc7IGJvcmRlciA9IGNvbG9yOyBsYWJlbCA9ICfinJMnOwogICAgICB9IGVsc2UgaWYgKGQuaXNGdXR1cmUpIHsKICAgICAgICBiZyA9ICd2YXIoLS1zdXJmYWNlMiknOyBib3JkZXIgPSBjb2xvciArICc1NSc7IGxhYmVsID0gaWNvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICBiZyA9ICcjMmQwZjBmJzsgYm9yZGVyID0gJyM3ZjFkMWQnOyBsYWJlbCA9ICfinJcnOwogICAgICB9CiAgICAgIHJldHVybiBgPGRpdiB0aXRsZT0iJHtkLmRheX06ICR7ZC50eXBlfSR7ZC5kb25lID8gJyDinJMnIDogJyd9IiBzdHlsZT0id2lkdGg6MjBweDtoZWlnaHQ6MjBweDtib3JkZXItcmFkaXVzOjZweDtiYWNrZ3JvdW5kOiR7Ymd9O2JvcmRlcjoxLjVweCBzb2xpZCAke2JvcmRlcn07ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToke2QuZG9uZSA/ICcxMXB4JyA6ICc5cHgnfTtjb2xvcjoke2QuZG9uZSA/IGNvbG9yIDogZC5pc0Z1dHVyZSA/IGNvbG9yICsgJ2FhJyA6ICcjZWY0NDQ0J30iPiR7bGFiZWx9PC9kaXY+YDsKICAgIH0pLmpvaW4oJycpICsKICAgIGA8L2Rpdj5gICsKICAgIGA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7bWFyZ2luLXRvcDo0cHgiPmAgKwogICAgYDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTo5cHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMCI+JHtkb25lRGF5c30vJHt3b3Jrb3V0RGF5cy5sZW5ndGh9IGRvbmUgdGhpcyB3ZWVrPC9kaXY+YCArCiAgICBgPGRpdiBzdHlsZT0iZm9udC1zaXplOjlweDtjb2xvcjojMjJjNTVlO2ZvbnQtd2VpZ2h0OjYwMCI+8J+Pi++4jyBsaWZ0czwvZGl2PmAgKwogICAgYDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTo5cHg7Y29sb3I6IzNiODJmNjtmb250LXdlaWdodDo2MDAiPvCfj4MgcnVuczwvZGl2PmAgKwogICAgYDwvZGl2PmA7Cn0KCmZ1bmN0aW9uIHJlbmRlclByb3RlaW5QYWNlKGVudHJpZXNPdmVycmlkZSkgewogIGNvbnN0IGJhciAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb3RlaW5QYWNlQmFyJyk7CiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvdGVpblBhY2VMYWJlbCcpOwogIGNvbnN0IGhpbnQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb3RlaW5QYWNlSGludCcpOwogIGlmICghYmFyKSByZXR1cm47CgogIGNvbnN0IGVudHJpZXMgID0gZW50cmllc092ZXJyaWRlIHx8IGdldEZvb2RFbnRyaWVzKCk7CiAgY29uc3QgY29uc3VtZWQgPSBlbnRyaWVzLnJlZHVjZSgocywgZSkgPT4gcyArIChlLnByb3RlaW4gfHwgMCksIDApOwogIGNvbnN0IG1hY3JvcyAgID0gZ2V0U3RvcmFnZSgndXNlck1hY3JvcycsIG51bGwpIHx8IE1BQ1JPUzsKICBjb25zdCB0YXJnZXQgICA9IG1hY3Jvcy5wcm90ZWluIHx8IDE5MDsKICBjb25zdCBwY3QgICAgICA9IE1hdGgubWluKGNvbnN1bWVkIC8gdGFyZ2V0LCAxKTsKCiAgLy8gSG93IG1hbnkgbWVhbHMgcmVtYWluIHRvZGF5CiAgY29uc3QgaCA9IG5vd0VTVCgpLmdldEhvdXJzKCk7CiAgY29uc3QgbWVhbHNMZWZ0ID0gaCA8IDggPyA0IDogaCA8IDEyID8gMyA6IGggPCAxNSA/IDIgOiBoIDwgMTkgPyAxIDogMDsKICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0YXJnZXQgLSBjb25zdW1lZCk7CgogIGJhci5zdHlsZS53aWR0aCAgID0gKHBjdCAqIDEwMCkgKyAnJSc7CiAgYmFyLnN0eWxlLmJhY2tncm91bmQgPSBwY3QgPj0gMSA/ICcjMjJjNTVlJyA6IHBjdCA+PSAwLjcgPyAnIzRhZGU4MCcgOiBwY3QgPj0gMC40ID8gJyNmNTllMGInIDogJyNlZjQ0NDQnOwogIGxhYmVsLnRleHRDb250ZW50ID0gYCR7Y29uc3VtZWQudG9GaXhlZCgwKX1nIC8gJHt0YXJnZXR9Z2A7CgogIGlmIChwY3QgPj0gMSkgewogICAgaGludC50ZXh0Q29udGVudCA9ICfinIUgUHJvdGVpbiBnb2FsIGhpdCEgR3JlYXQgd29yay4nOwogIH0gZWxzZSBpZiAobWVhbHNMZWZ0ID09PSAwKSB7CiAgICBoaW50LnRleHRDb250ZW50ID0gYOKaoO+4jyAke3JlbWFpbmluZy50b0ZpeGVkKDApfWcgc2hvcnQg4oCUIGNvbnNpZGVyIGEgcHJvdGVpbiBzbmFja2A7CiAgfSBlbHNlIHsKICAgIGNvbnN0IHBlck1lYWwgPSAocmVtYWluaW5nIC8gbWVhbHNMZWZ0KS50b0ZpeGVkKDApOwogICAgaGludC50ZXh0Q29udGVudCA9IGBOZWVkICR7cmVtYWluaW5nLnRvRml4ZWQoMCl9ZyBtb3JlIGFjcm9zcyB+JHttZWFsc0xlZnR9IG1lYWwke21lYWxzTGVmdCAhPT0gMSA/ICdzJyA6ICcnfSBsZWZ0ICgke3Blck1lYWx9ZyBlYWNoKWA7CiAgfQp9CgpmdW5jdGlvbiByZW5kZXJGb29kTG9nKCkgewogIGNvbnN0IGVudHJpZXMgPSBnZXRGb29kRW50cmllcygpOwogIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vZExvZ0NhcmQnKTsKICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb2RMb2dMaXN0Jyk7CiAgaWYgKCFjYXJkIHx8ICFsaXN0KSByZXR1cm47CgogIGNvbnN0IGlzUGFzdCA9IGdldFNlbGVjdGVkRGF0ZUtleSgpICE9PSB0b2RheUtleSgpOwoKICAvLyBBbHdheXMgc2hvdyB0aGUgY2FyZCBzbyB1c2VycyBjYW4gYWRkIGVudHJpZXMgdG8gcGFzdCBkYXlzCiAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgLy8gUGFzdC1kYXkgYmFubmVyCiAgY29uc3QgcGFzdEJhbm5lciA9IGlzUGFzdAogICAgPyBgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDojMGQxZTNkO2JvcmRlcjoxLjVweCBzb2xpZCAjMWUzYTVmO2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjhweCAxMnB4O21hcmdpbi1ib3R0b206MTBweDtmb250LXNpemU6MTJweDtjb2xvcjojNjBhNWZhO2ZvbnQtd2VpZ2h0OjYwMDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo4cHgiPgogICAgICAgIPCfk4UgRWRpdGluZyBwYXN0IGRheSDigJQgY2hhbmdlcyB3aWxsIGJlIHNhdmVkIHRvICR7Z2V0U2VsZWN0ZWREYXRlS2V5KCl9CiAgICAgICA8L2Rpdj5gIDogJyc7CgogIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkgewogICAgbGlzdC5pbm5lckhUTUwgPSBwYXN0QmFubmVyICsgYDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLXRleHQzKTtwYWRkaW5nOjIwcHggMDtmb250LXNpemU6MTNweCI+Tm8gZW50cmllcyBmb3IgdGhpcyBkYXkuPGJyPlVzZSB0aGUgZm9ybSBhYm92ZSB0byBhZGQgZm9vZC48L2Rpdj5gOwogICAgcmV0dXJuOwogIH0KCiAgY29uc3QgdG90YWxzID0gZW50cmllcy5yZWR1Y2UoKGEsIGUpID0+ICh7CiAgICBjYWxvcmllczogYS5jYWxvcmllcyArIGUuY2Fsb3JpZXMsCiAgICBwcm90ZWluOiAgYS5wcm90ZWluICArIGUucHJvdGVpbiwKICAgIGNhcmJzOiAgICBhLmNhcmJzICAgICsgZS5jYXJicywKICAgIGZhdDogICAgICBhLmZhdCAgICAgICsgZS5mYXQsCiAgfSksIHsgY2Fsb3JpZXM6MCwgcHJvdGVpbjowLCBjYXJiczowLCBmYXQ6MCB9KTsKCiAgbGlzdC5pbm5lckhUTUwgPSBwYXN0QmFubmVyICsgZW50cmllcy5tYXAoZSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJsb2ctZW50cnkiIGlkPSJlbnRyeS0ke2UuaWR9Ij4KICAgICAgPGRpdiBjbGFzcz0ibG9nLWVudHJ5LWljb24iPiR7ZS5pY29uIHx8ICfwn42977iPJ308L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibG9nLWVudHJ5LWluZm8iPgogICAgICAgIDxkaXYgY2xhc3M9ImxvZy1lbnRyeS1uYW1lIj4ke2VzYyhlLm5hbWUpfSR7ZS5zZXJ2aW5ncyAmJiBlLnNlcnZpbmdzICE9PSAxID8gYDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTBweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi1sZWZ0OjZweCI+w5cke2Uuc2VydmluZ3N9PC9zcGFuPmAgOiAnJ308L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJsb2ctZW50cnktbWFjcm9zIj4ke2UuY2Fsb3JpZXN9IGtjYWwgwrcgJHtlLnByb3RlaW59ZyBQIMK3ICR7ZS5jYXJic31nIEMgwrcgJHtlLmZhdH1nIEY8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJsb2ctZW50cnktdGltZSI+JHtlLnRpbWUgfHwgJyd9PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJsb2ctZW50cnktYWN0aW9ucyI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibG9nLWFjdGlvbi1idG4gZWRpdCIgb25jbGljaz0ib3BlbkVkaXRFbnRyeSgke2UuaWR9KSIgdGl0bGU9IkVkaXQiPuKcj++4jzwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9ImxvZy1hY3Rpb24tYnRuIGRlbCIgIG9uY2xpY2s9ImRlbGV0ZUVudHJ5KCR7ZS5pZH0pIiAgIHRpdGxlPSJEZWxldGUiPvCfl5HvuI88L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj5gKS5qb2luKCcnKSArCiAgICBgPGRpdiBjbGFzcz0ibG9nLXRvdGFsLXJvdyI+CiAgICAgIDxkaXYgY2xhc3M9ImxvZy10b3RhbC1sYWJlbCI+VG90YWw8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibG9nLXRvdGFsLW1hY3JvcyI+JHtNYXRoLnJvdW5kKHRvdGFscy5jYWxvcmllcyl9IGtjYWwgwrcgJHt0b3RhbHMucHJvdGVpbi50b0ZpeGVkKDEpfWcgUCDCtyAke3RvdGFscy5jYXJicy50b0ZpeGVkKDEpfWcgQyDCtyAke3RvdGFscy5mYXQudG9GaXhlZCgxKX1nIEY8L2Rpdj4KICAgIDwvZGl2PmA7Cn0KCi8vIOKUgOKUgCBFZGl0IEVudHJ5IHdpdGggU2VydmluZ3Mg4pSA4pSACmxldCBfZWRpdFNlcnZpbmdzID0gMTsKbGV0IF9lZGl0QmFzZU1hY3JvcyA9IG51bGw7IC8vIG51bGwgPSBubyBiYXNlIHN0b3JlZCwgZWRpdCBtYWNyb3MgZGlyZWN0bHkKCmZ1bmN0aW9uIG9wZW5FZGl0RW50cnkoaWQpIHsKICBjb25zdCBlbnRyaWVzID0gZ2V0Rm9vZEVudHJpZXMoKTsKICBjb25zdCBlID0gZW50cmllcy5maW5kKHggPT4geC5pZCA9PT0gaWQpOwogIGlmICghZSkgcmV0dXJuOwoKICBfZWRpdFNlcnZpbmdzICAgPSBlLnNlcnZpbmdzIHx8IDE7CiAgX2VkaXRCYXNlTWFjcm9zID0gZS5iYXNlTWFjcm9zIHx8IG51bGw7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW50cnlJZCcpLnZhbHVlICA9IGlkOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW50cnlOYW1lJykudmFsdWUgPSBlLm5hbWU7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbnRyeVN1YnRpdGxlJykudGV4dENvbnRlbnQgPSBlLm5hbWU7CgogIGNvbnN0IGhhc0Jhc2UgPSAhIV9lZGl0QmFzZU1hY3JvczsKICBjb25zdCBzZXJ2aW5nc1JvdyAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNlcnZpbmdzUm93Jyk7CiAgY29uc3QgbWFjcm9MYWJlbCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRNYWNyb0xhYmVsJyk7CiAgY29uc3QgdG90YWxQcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRUb3RhbFByZXZpZXcnKTsKCiAgaWYgKGhhc0Jhc2UpIHsKICAgIC8vIFNob3cgc2VydmluZ3Mgc3RlcHBlciDigJQgbWFjcm8gZmllbGRzIHNob3cgcGVyLXNlcnZpbmcgdmFsdWVzCiAgICBzZXJ2aW5nc1Jvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgbWFjcm9MYWJlbC50ZXh0Q29udGVudCA9ICdNYWNyb3MgcGVyIHNlcnZpbmcgKGF1dG8tY2FsY3VsYXRlZCknOwogICAgdG90YWxQcmV2aWV3LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNlcnZpbmdCYXNlTGFiZWwnKS50ZXh0Q29udGVudCA9CiAgICAgIGBCYXNlOiAke19lZGl0QmFzZU1hY3Jvcy5jYWxvcmllc30ga2NhbCDCtyAke19lZGl0QmFzZU1hY3Jvcy5wcm90ZWlufWcgUCBwZXIgc2VydmluZ2A7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNlcnZpbmdzRGlzcGxheScpLnRleHRDb250ZW50ID0gX2VkaXRTZXJ2aW5ncyAlIDEgPT09IDAgPyBfZWRpdFNlcnZpbmdzIDogX2VkaXRTZXJ2aW5ncy50b0ZpeGVkKDEpOwogICAgLy8gRmlsbCBmaWVsZHMgd2l0aCBwZXItc2VydmluZyB2YWx1ZXMKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q2Fsb3JpZXMnKS52YWx1ZSA9IF9lZGl0QmFzZU1hY3Jvcy5jYWxvcmllczsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UHJvdGVpbicpLnZhbHVlICA9IF9lZGl0QmFzZU1hY3Jvcy5wcm90ZWluOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDYXJicycpLnZhbHVlICAgID0gX2VkaXRCYXNlTWFjcm9zLmNhcmJzOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGYXQnKS52YWx1ZSAgICAgID0gX2VkaXRCYXNlTWFjcm9zLmZhdDsKICAgIHVwZGF0ZUVkaXRUb3RhbFByZXZpZXcoKTsKICB9IGVsc2UgewogICAgLy8gTm8gYmFzZSBzdG9yZWQg4oCUIHNob3cgdG90YWwgbWFjcm9zLCBlZGl0YWJsZSBkaXJlY3RseQogICAgc2VydmluZ3NSb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIG1hY3JvTGFiZWwudGV4dENvbnRlbnQgPSAnTWFjcm9zICh0b3RhbCknOwogICAgdG90YWxQcmV2aWV3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENhbG9yaWVzJykudmFsdWUgPSBlLmNhbG9yaWVzOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQcm90ZWluJykudmFsdWUgID0gZS5wcm90ZWluOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDYXJicycpLnZhbHVlICAgID0gZS5jYXJiczsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmF0JykudmFsdWUgICAgICA9IGUuZmF0OwogIH0KCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbnRyeU1vZGFsJykuY2xhc3NMaXN0LmFkZCgnb3BlbicpOwp9CgpmdW5jdGlvbiBhZGp1c3RFZGl0U2VydmluZ3MoZGVsdGEpIHsKICBfZWRpdFNlcnZpbmdzID0gTWF0aC5tYXgoMC41LCBNYXRoLnJvdW5kKChfZWRpdFNlcnZpbmdzICsgZGVsdGEpICogMikgLyAyKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNlcnZpbmdzRGlzcGxheScpLnRleHRDb250ZW50ID0gX2VkaXRTZXJ2aW5ncyAlIDEgPT09IDAgPyBfZWRpdFNlcnZpbmdzIDogX2VkaXRTZXJ2aW5ncy50b0ZpeGVkKDEpOwogIHVwZGF0ZUVkaXRUb3RhbFByZXZpZXcoKTsKfQoKZnVuY3Rpb24gb25FZGl0TWFjcm9JbnB1dCgpIHsKICAvLyBXaGVuIHVzZXIgbWFudWFsbHkgZWRpdHMgbWFjcm8gZmllbGRzLCBjbGVhciBiYXNlIHNvIHdlIHNhdmUgYXMtaXMKICBfZWRpdEJhc2VNYWNyb3MgPSBudWxsOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U2VydmluZ3NSb3cnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0VG90YWxQcmV2aWV3Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE1hY3JvTGFiZWwnKS50ZXh0Q29udGVudCA9ICdNYWNyb3MgKHRvdGFsKSc7Cn0KCmZ1bmN0aW9uIHVwZGF0ZUVkaXRUb3RhbFByZXZpZXcoKSB7CiAgaWYgKCFfZWRpdEJhc2VNYWNyb3MpIHJldHVybjsKICBjb25zdCBzID0gX2VkaXRTZXJ2aW5nczsKICBjb25zdCBiID0gX2VkaXRCYXNlTWFjcm9zOwogIGNvbnN0IHRvdGFsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFRvdGFsVGV4dCcpOwogIHRvdGFsRWwuaW5uZXJIVE1MID0KICAgIGA8c3BhbiBzdHlsZT0iY29sb3I6I2Y1OWUwYjtmb250LXdlaWdodDo3MDAiPiR7TWF0aC5yb3VuZChiLmNhbG9yaWVzKnMpfSBrY2FsPC9zcGFuPiDCtyBgICsKICAgIGA8c3BhbiBzdHlsZT0iY29sb3I6IzIyYzU1ZSI+JHsoYi5wcm90ZWluKnMpLnRvRml4ZWQoMSl9ZyBQPC9zcGFuPiDCtyBgICsKICAgIGA8c3BhbiBzdHlsZT0iY29sb3I6IzNiODJmNiI+JHsoYi5jYXJicypzKS50b0ZpeGVkKDEpfWcgQzwvc3Bhbj4gwrcgYCArCiAgICBgPHNwYW4gc3R5bGU9ImNvbG9yOiNlZjQ0NDQiPiR7KGIuZmF0KnMpLnRvRml4ZWQoMSl9ZyBGPC9zcGFuPmA7Cn0KCmZ1bmN0aW9uIHNhdmVFZGl0ZWRFbnRyeSgpIHsKICBjb25zdCBpZCA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW50cnlJZCcpLnZhbHVlKTsKICBjb25zdCBlbnRyaWVzID0gZ2V0Rm9vZEVudHJpZXMoKTsKICBjb25zdCBpZHggPSBlbnRyaWVzLmZpbmRJbmRleCh4ID0+IHguaWQgPT09IGlkKTsKICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuOwoKICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbnRyeU5hbWUnKS52YWx1ZS50cmltKCkgfHwgZW50cmllc1tpZHhdLm5hbWU7CgogIGxldCBjYWxvcmllcywgcHJvdGVpbiwgY2FyYnMsIGZhdCwgYmFzZU1hY3Jvcywgc2VydmluZ3M7CgogIGlmIChfZWRpdEJhc2VNYWNyb3MpIHsKICAgIC8vIFNjYWxlIGZyb20gYmFzZSBtYWNyb3Mgw5cgc2VydmluZ3MKICAgIGNvbnN0IHMgPSBfZWRpdFNlcnZpbmdzOwogICAgY29uc3QgYiA9IF9lZGl0QmFzZU1hY3JvczsKICAgIGNhbG9yaWVzICAgPSBNYXRoLnJvdW5kKGIuY2Fsb3JpZXMgKiBzKTsKICAgIHByb3RlaW4gICAgPSBNYXRoLnJvdW5kKGIucHJvdGVpbiAgKiBzICogMTApIC8gMTA7CiAgICBjYXJicyAgICAgID0gTWF0aC5yb3VuZChiLmNhcmJzICAgICogcyAqIDEwKSAvIDEwOwogICAgZmF0ICAgICAgICA9IE1hdGgucm91bmQoYi5mYXQgICAgICAqIHMgKiAxMCkgLyAxMDsKICAgIGJhc2VNYWNyb3MgPSBiOwogICAgc2VydmluZ3MgICA9IHM7CiAgfSBlbHNlIHsKICAgIC8vIERpcmVjdCBtYWNybyBlZGl0IOKAlCB0cmVhdCBhcyAxIHNlcnZpbmcKICAgIGNhbG9yaWVzICAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q2Fsb3JpZXMnKS52YWx1ZSkgfHwgMDsKICAgIHByb3RlaW4gICAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UHJvdGVpbicpLnZhbHVlKSAgfHwgMDsKICAgIGNhcmJzICAgICAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q2FyYnMnKS52YWx1ZSkgICAgfHwgMDsKICAgIGZhdCAgICAgICAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmF0JykudmFsdWUpICAgICAgfHwgMDsKICAgIHNlcnZpbmdzICAgPSAxOwogICAgYmFzZU1hY3JvcyA9IHsgY2Fsb3JpZXMsIHByb3RlaW4sIGNhcmJzLCBmYXQgfTsKICB9CgogIGVudHJpZXNbaWR4XSA9IHsgLi4uZW50cmllc1tpZHhdLCBuYW1lLCBjYWxvcmllcywgcHJvdGVpbiwgY2FyYnMsIGZhdCwgc2VydmluZ3MsIGJhc2VNYWNyb3MgfTsKICBzZXRGb29kRW50cmllcyhlbnRyaWVzKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVudHJ5TW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgcmVuZGVyUmluZ3MoKTsKICByZW5kZXJGb29kTG9nKCk7CiAgcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwogIHNob3dUb2FzdCgn4pyFIEVudHJ5IHVwZGF0ZWQhJyk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGlkKSB7CiAgY29uc3QgYWxsRW50cmllcyA9IGdldEZvb2RFbnRyaWVzKCk7CiAgY29uc3QgZW50cnkgPSBhbGxFbnRyaWVzLmZpbmQoZSA9PiBlLmlkID09PSBpZCk7CiAgY29uc3QgcmVtYWluaW5nID0gYWxsRW50cmllcy5maWx0ZXIoZSA9PiBlLmlkICE9PSBpZCk7CiAgY29uc3Qgc2F2ZWREYXRlS2V5ID0gZ2V0U2VsZWN0ZWREYXRlS2V5KCk7CiAgc2V0Rm9vZEVudHJpZXMocmVtYWluaW5nKTsKICByZW5kZXJSaW5ncygpOwogIHJlbmRlckZvb2RMb2coKTsKICByZW5kZXJQcm90ZWluUGFjZSgpOwogIHJlbmRlcldlZWtseUJhbGFuY2UoKTsKICBzaG93VG9hc3QoJ/Cfl5HvuI8gRW50cnkgcmVtb3ZlZCcsICgpID0+IHsKICAgIC8vIFVuZG86IHJlc3RvcmUgZW50cnkKICAgIGNvbnN0IGN1cnJlbnQgPSBnZXRGb29kRW50cmllcyhzYXZlZERhdGVLZXkpOwogICAgY3VycmVudC5wdXNoKGVudHJ5KTsKICAgIGN1cnJlbnQuc29ydCgoYSxiKSA9PiBhLmlkIC0gYi5pZCk7CiAgICBzZXRGb29kRW50cmllcyhjdXJyZW50LCBzYXZlZERhdGVLZXkpOwogICAgcmVuZGVyUmluZ3MoKTsgcmVuZGVyRm9vZExvZygpOyByZW5kZXJQcm90ZWluUGFjZSgpOyByZW5kZXJXZWVrbHlCYWxhbmNlKCk7CiAgICBzaG93VG9hc3QoJ+KGqe+4jyBFbnRyeSByZXN0b3JlZCcpOwogIH0pOwp9CgpmdW5jdGlvbiBjbGVhckFsbEVudHJpZXMoKSB7CiAgaWYgKCFjb25maXJtKCdDbGVhciBhbGwgZm9vZCBlbnRyaWVzIGZvciB0b2RheT8nKSkgcmV0dXJuOwogIHNldEZvb2RFbnRyaWVzKFtdKTsKICByZW5kZXJSaW5ncygpOwogIHJlbmRlckZvb2RMb2coKTsKfQoKLy8g4pSA4pSAIFNhdmVkIEZvb2RzICYgU21hcnQgUmVjb21tZW5kYXRpb25zIOKUgOKUgAoKY29uc3QgVElNRV9TTE9UUyA9IHsKICBicmVha2Zhc3Q6ICB7IGxhYmVsOiAnQnJlYWtmYXN0JywgICAgIGhpbnQ6ICdicmVha2Zhc3QnLCAgICAgIGhvdXJzOiBbNSw2LDcsOCw5XSwgICAgICAgZG90OiAnI2Y1OWUwYicgfSwKICBtb3JuaW5nOiAgICB7IGxhYmVsOiAnTW9ybmluZyBTbmFjaycsIGhpbnQ6ICdtaWQtbW9ybmluZycsICAgIGhvdXJzOiBbOSwxMCwxMV0sICAgICAgICAgIGRvdDogJyMwNmI2ZDQnIH0sCiAgbHVuY2g6ICAgICAgeyBsYWJlbDogJ0x1bmNoJywgICAgICAgICBoaW50OiAnbHVuY2gnLCAgICAgICAgICBob3VyczogWzExLDEyLDEzLDE0XSwgICAgICBkb3Q6ICcjM2I4MmY2JyB9LAogIGFmdGVybm9vbjogIHsgbGFiZWw6ICdBZnRlcm5vb24nLCAgICAgaGludDogJ2FmdGVybm9vbicsICAgICAgaG91cnM6IFsxNCwxNSwxNiwxN10sICAgICAgZG90OiAnIzhiNWNmNicgfSwKICBkaW5uZXI6ICAgICB7IGxhYmVsOiAnRGlubmVyJywgICAgICAgIGhpbnQ6ICdkaW5uZXInLCAgICAgICAgIGhvdXJzOiBbMTcsMTgsMTksMjAsMjFdLCAgIGRvdDogJyMyMmM1NWUnIH0sCiAgZXZlbmluZzogICAgeyBsYWJlbDogJ0V2ZW5pbmcgU25hY2snLCBoaW50OiAnZXZlbmluZycsICAgICAgICBob3VyczogWzIwLDIxLDIyLDIzXSwgICAgICBkb3Q6ICcjZWY0NDQ0JyB9LAp9OwoKbGV0IHNlbGVjdGVkVGltZVNsb3QgPSBudWxsOyAvLyBzaGFyZWQgZm9yIHNjYW4vbWFudWFsIHBpY2tlcnMKCmZ1bmN0aW9uIGdldFRpbWVTbG90KCkgewogIGNvbnN0IGggPSBub3dFU1QoKS5nZXRIb3VycygpOwogIGZvciAoY29uc3QgW2tleSwgc2xvdF0gb2YgT2JqZWN0LmVudHJpZXMoVElNRV9TTE9UUykpIHsKICAgIGlmIChzbG90LmhvdXJzLmluY2x1ZGVzKGgpKSByZXR1cm4ga2V5OwogIH0KICByZXR1cm4gJ2x1bmNoJzsgLy8gZGVmYXVsdCBmYWxsYmFjawp9CgpmdW5jdGlvbiB0b2dnbGVUaW1lU2xvdChidG4sIGNvbnRleHQpIHsKICBpZiAoY29udGV4dCA9PT0gJ2FpJykgewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2FpVGltZVNsb3RQaWNrZXIgLnRzLWJ0bicpLmZvckVhY2goYiA9PiBiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgIGFpU2VsZWN0ZWRTbG90ID0gYnRuLmRhdGFzZXQuc2xvdDsKICAgIHJldHVybjsKICB9CiAgY29uc3QgcGlja2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGV4dCA9PT0gJ3NjYW4nID8gJ3NjYW5UaW1lU2xvdFBpY2tlcicgOiAnbWFudWFsVGltZVNsb3RQaWNrZXInKTsKICBwaWNrZXIucXVlcnlTZWxlY3RvckFsbCgnLnRzLWJ0bicpLmZvckVhY2goYiA9PiBiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgc2VsZWN0ZWRUaW1lU2xvdCA9IGJ0bi5kYXRhc2V0LnNsb3Q7Cn0KCmZ1bmN0aW9uIHJlbmRlclVzdWFsRm9vZHMoKSB7CiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c3VhbEZvb2RzQ2FyZCcpOwogIGlmICghY2FyZCkgcmV0dXJuOwoKICAvLyDilIDilIAgQnVpbGQgZnJlcXVlbmN5IG1hcCBmcm9tIGxhc3QgMzAgZGF5cyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICBjb25zdCBhbGwgICAgPSBnZXRTdG9yYWdlKCdmb29kRW50cmllcycsIHt9KTsKICBjb25zdCBjdXRvZmYgPSBEYXRlLm5vdygpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwOwogIGNvbnN0IHRvZGF5SyA9IHRvZGF5S2V5KCk7CiAgY29uc3QgZnJlcSAgID0ge307CgogIE9iamVjdC5lbnRyaWVzKGFsbCkuZm9yRWFjaCgoW2RhdGVLLCBlbnRyaWVzXSkgPT4gewogICAgaWYgKGRhdGVLID09PSB0b2RheUspIHJldHVybjsKICAgIGlmIChuZXcgRGF0ZShkYXRlSyArICdUMTI6MDA6MDAnKS5nZXRUaW1lKCkgPCBjdXRvZmYpIHJldHVybjsKICAgIGVudHJpZXMuZm9yRWFjaChlID0+IHsKICAgICAgaWYgKCFlLm5hbWUpIHJldHVybjsKICAgICAgY29uc3Qga2V5ID0gZS5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpOwogICAgICBpZiAoIWZyZXFba2V5XSkgewogICAgICAgIGZyZXFba2V5XSA9IHsKICAgICAgICAgIG5hbWU6ICAgICBlLm5hbWUsCiAgICAgICAgICBpY29uOiAgICAgZS5pY29uIHx8ICfwn42977iPJywKICAgICAgICAgIGNhbG9yaWVzOiBlLmJhc2VNYWNyb3MgPyBlLmJhc2VNYWNyb3MuY2Fsb3JpZXMgOiAoZS5jYWxvcmllcyB8fCAwKSwKICAgICAgICAgIHByb3RlaW46ICBlLmJhc2VNYWNyb3MgPyBlLmJhc2VNYWNyb3MucHJvdGVpbiAgOiAoZS5wcm90ZWluICB8fCAwKSwKICAgICAgICAgIGNhcmJzOiAgICBlLmJhc2VNYWNyb3MgPyBlLmJhc2VNYWNyb3MuY2FyYnMgICAgOiAoZS5jYXJicyAgICB8fCAwKSwKICAgICAgICAgIGZhdDogICAgICBlLmJhc2VNYWNyb3MgPyBlLmJhc2VNYWNyb3MuZmF0ICAgICAgOiAoZS5mYXQgICAgICB8fCAwKSwKICAgICAgICAgIGNvdW50OiAwLCB0aW1lczogW10KICAgICAgICB9OwogICAgICB9CiAgICAgIGZyZXFba2V5XS5jb3VudCsrOwogICAgICBpZiAoZS50aW1lKSBmcmVxW2tleV0udGltZXMucHVzaChlLnRpbWUpOwogICAgfSk7CiAgfSk7CgogIGNvbnN0IGFsbEZvb2RzID0gT2JqZWN0LnZhbHVlcyhmcmVxKS5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudCk7CiAgaWYgKGFsbEZvb2RzLmxlbmd0aCA9PT0gMCkgeyBjYXJkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IHJldHVybjsgfQoKICAvLyDilIDilIAgVGltZS1vZi1kYXkgZmlsdGVyaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAogIGNvbnN0IGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgbGV0IHRpbWVMYWJlbCA9ICcnLCB0aW1lUGVyaW9kID0gJyc7CiAgaWYgICAgICAoaG91ciA8ICAxMCkgeyB0aW1lTGFiZWwgPSAn8J+MhSBNb3JuaW5nIHBpY2tzJzsgICB0aW1lUGVyaW9kID0gJ21vcm5pbmcnOyB9CiAgZWxzZSBpZiAoaG91ciA8ICAxMykgeyB0aW1lTGFiZWwgPSAn4piA77iPIE1pZGRheSBwaWNrcyc7ICAgIHRpbWVQZXJpb2QgPSAnbWlkZGF5JzsgfQogIGVsc2UgaWYgKGhvdXIgPCAgMTcpIHsgdGltZUxhYmVsID0gJ/CfjKQgQWZ0ZXJub29uIHBpY2tzJzsgdGltZVBlcmlvZCA9ICdhZnRlcm5vb24nOyB9CiAgZWxzZSBpZiAoaG91ciA8ICAyMCkgeyB0aW1lTGFiZWwgPSAn8J+MhiBFdmVuaW5nIHBpY2tzJzsgICB0aW1lUGVyaW9kID0gJ2V2ZW5pbmcnOyB9CiAgZWxzZSAgICAgICAgICAgICAgICAgeyB0aW1lTGFiZWwgPSAn8J+MmSBOaWdodCBwaWNrcyc7ICAgICB0aW1lUGVyaW9kID0gJ25pZ2h0JzsgfQoKICBmdW5jdGlvbiBwYXJzZUhvdXIodCkgewogICAgaWYgKCF0KSByZXR1cm4gLTE7CiAgICBjb25zdCBwYXJ0cyA9IHQuc3BsaXQoJyAnKTsKICAgIGNvbnN0IGFtcG0gID0gcGFydHNbMV07CiAgICBsZXQgW2hdICAgICA9IHBhcnRzWzBdLnNwbGl0KCc6JykubWFwKE51bWJlcik7CiAgICBpZiAoYW1wbSA9PT0gJ1BNJyAmJiBoICE9PSAxMikgaCArPSAxMjsKICAgIGlmIChhbXBtID09PSAnQU0nICYmIGggPT09IDEyKSBoID0gMDsKICAgIHJldHVybiBoOwogIH0KICBjb25zdCBzbG90SG91cnMgPSB7IG1vcm5pbmc6WzUsMTBdLCBtaWRkYXk6WzEwLDEzXSwgYWZ0ZXJub29uOlsxMywxN10sIGV2ZW5pbmc6WzE3LDIwXSwgbmlnaHQ6WzIwLDI1XSB9OwogIGNvbnN0IFtsbywgaGldICA9IHNsb3RIb3Vyc1t0aW1lUGVyaW9kXSB8fCBbMCwgMjRdOwoKICBjb25zdCB0aW1lRm9vZHMgPSBhbGxGb29kcy5maWx0ZXIoZiA9PgogICAgZi50aW1lcy5sZW5ndGggPiAwICYmIGYudGltZXMuc29tZSh0ID0+IHsgY29uc3QgaCA9IHBhcnNlSG91cih0KTsgcmV0dXJuIGggPj0gbG8gJiYgaCA8IGhpOyB9KQogICk7CiAgY29uc3QgdG9wMTAgPSAodGltZUZvb2RzLmxlbmd0aCA+PSAzID8gdGltZUZvb2RzIDogYWxsRm9vZHMpLnNsaWNlKDAsIDEwKTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzdWFsRm9vZHNUaW1lTGFiZWwnKS50ZXh0Q29udGVudCA9IHRpbWVMYWJlbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXN1YWxGb29kc1N1YnRpdGxlJykudGV4dENvbnRlbnQgID0gYFRvcCAke3RvcDEwLmxlbmd0aH0gZnJvbSBsYXN0IDMwIGRheXNgOwoKICAvLyDilIDilIAgU3RvcmUgZm9vZHMgYmVmb3JlIHJlbmRlcmluZyAoYXZvaWRzIEpTT04taW4tb25jbGljayBidWcpIOKUgOKUgAogIHdpbmRvdy5fdWZGb29kcyA9IHRvcDEwOwogIHdpbmRvdy5fdWZRdHkgICA9IG5ldyBBcnJheSh0b3AxMC5sZW5ndGgpLmZpbGwoMSk7CgogIC8vIOKUgOKUgCBZZXN0ZXJkYXkgc2FtZS10aW1lIGJhbm5lciDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICBjb25zdCB5RGF0ZSA9IG5ldyBEYXRlKCk7IHlEYXRlLnNldERhdGUoeURhdGUuZ2V0RGF0ZSgpIC0gMSk7CiAgY29uc3QgeUtleSAgPSB5RGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsKICBjb25zdCB5RW50cmllcyA9IChhbGxbeUtleV0gfHwgW10pLmZpbHRlcihlID0+IHsKICAgIGNvbnN0IGggPSBwYXJzZUhvdXIoZS50aW1lKTsgcmV0dXJuIGggPj0gbG8gJiYgaCA8IGhpOwogIH0pOwoKICBjb25zdCBiYW5uZXJFbCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3llc3RlcmRheVJlcGVhdEJhbm5lcicpOwogIGNvbnN0IHJlcGVhdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneWVzdGVyZGF5UmVwZWF0TGlzdCcpOwogIGlmICh5RW50cmllcy5sZW5ndGggPiAwKSB7CiAgICAvLyBTdG9yZSB5ZXN0ZXJkYXkgZW50cmllcyBpbiBfdWZZZXN0ZXJkYXkgZm9yIG9uY2xpY2sgYWNjZXNzCiAgICB3aW5kb3cuX3VmWWVzdGVyZGF5ID0geUVudHJpZXMuc2xpY2UoMCwgMyk7CiAgICBiYW5uZXJFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlcGVhdExpc3QuaW5uZXJIVE1MID0gd2luZG93Ll91Zlllc3RlcmRheS5tYXAoKGUsIHlpKSA9PiB7CiAgICAgIGNvbnN0IHNlcnZpbmdzID0gZS5zZXJ2aW5ncyB8fCAxOwogICAgICByZXR1cm4gYDxkaXYgY2xhc3M9InVmLXJlcGVhdC1yb3ciPgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToyMHB4O3dpZHRoOjI4cHg7dGV4dC1hbGlnbjpjZW50ZXIiPiR7ZS5pY29uIHx8ICfwn42977iPJ308L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjE7bWluLXdpZHRoOjAiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+JHtlc2MoZS5uYW1lKX08L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2NvbG9yOnZhcigtLXRleHQzKSI+JHtNYXRoLnJvdW5kKGUuY2Fsb3JpZXMpfSBrY2FsIMK3ICR7ZS5wcm90ZWlufWcgcHJvJHtzZXJ2aW5ncyA+IDEgPyAnIMK3ICcgKyBzZXJ2aW5ncyArICfDlycgOiAnJ308L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InF1aWNrQWRkVXN1YWwoJHt5aX0pIiBzdHlsZT0icGFkZGluZzo1cHggMTBweDtiYWNrZ3JvdW5kOnZhcigtLWdyZWVuLXNvZnQpO2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ncmVlbik7Ym9yZGVyLXJhZGl1czo5cHg7Y29sb3I6IzRhZGU4MDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXIiPisgQWRkPC9idXR0b24+CiAgICAgIDwvZGl2PmA7CiAgICB9KS5qb2luKCcnKTsKICB9IGVsc2UgewogICAgYmFubmVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICB9CgogIC8vIOKUgOKUgCBSZW5kZXIgdG9wIDEwIGxpc3Qg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzdWFsRm9vZHNMaXN0JykuaW5uZXJIVE1MID0gdG9wMTAubWFwKChmLCBpKSA9PgogICAgYDxkaXYgY2xhc3M9InVmLXJvdyIgaWQ9InVmLXJvdy0ke2l9Ij4KICAgICAgPGRpdiBjbGFzcz0idWYtaWNvbiI+JHtmLmljb259PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InVmLWluZm8iPgogICAgICAgIDxkaXYgY2xhc3M9InVmLW5hbWUiPiR7ZXNjKGYubmFtZSl9PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idWYtbWFjcm9zIiBpZD0idWYtbWFjcm9zLSR7aX0iPiR7TWF0aC5yb3VuZChmLmNhbG9yaWVzKX0ga2NhbCDCtyAke2YucHJvdGVpbn1nIHBybyDCtyAke2YuY2FyYnN9ZyBjYXJicyDCtyAke2YuZmF0fWcgZmF0PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ1Zi1iYWRnZSI+JHtmLmNvdW50fcOXPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InVmLXN0ZXBwZXIiIGlkPSJ1Zi1zdGVwcGVyLSR7aX0iPgogICAgICAgIDxidXR0b24gY2xhc3M9InVmLXN0ZXAtYnRuIiBvbmNsaWNrPSJ1ZlN0ZXAoJHtpfSwtMSkiPuKIkjwvYnV0dG9uPgogICAgICAgIDxkaXYgY2xhc3M9InVmLXN0ZXAtdmFsIiBpZD0idWYtcXR5LSR7aX0iPjE8L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1Zi1zdGVwLWJ0biIgb25jbGljaz0idWZTdGVwKCR7aX0sMSkiPis8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1Zi1hZGQtYnRuIiBvbmNsaWNrPSJ1ZkNvbmZpcm0oJHtpfSkiPkxvZzwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBjbGFzcz0idWYtdGFwLWJ0biIgaWQ9InVmLXRhcC0ke2l9IiBvbmNsaWNrPSJ1ZlRvZ2dsZSgke2l9KSI+QWRkPC9idXR0b24+CiAgICA8L2Rpdj5gCiAgKS5qb2luKCcnKTsKCiAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKfQoKCmZ1bmN0aW9uIHVmVG9nZ2xlKGkpIHsKICBpZiAoIXdpbmRvdy5fdWZGb29kcyB8fCAhd2luZG93Ll91ZkZvb2RzW2ldKSByZXR1cm47CiAgY29uc3Qgc3RlcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1Zi1zdGVwcGVyLSR7aX1gKTsKICBjb25zdCB0YXBCdG4gID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHVmLXRhcC0ke2l9YCk7CiAgaWYgKCFzdGVwcGVyIHx8ICF0YXBCdG4pIHJldHVybjsKICBjb25zdCBpc09wZW4gPSBzdGVwcGVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7CiAgLy8gQ2xvc2UgYWxsIG90aGVycwogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51Zi1zdGVwcGVyJykuZm9yRWFjaChzID0+IHMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51Zi10YXAtYnRuJykuZm9yRWFjaChiID0+IGIuc3R5bGUuZGlzcGxheSA9ICcnKTsKICBpZiAoIWlzT3BlbikgewogICAgc3RlcHBlci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgIHRhcEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgd2luZG93Ll91ZlF0eVtpXSA9IDE7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdWYtcXR5LSR7aX1gKS50ZXh0Q29udGVudCA9ICcxJzsKICAgIHVmVXBkYXRlTWFjcm9zKGkpOwogIH0KfQoKZnVuY3Rpb24gdWZTdGVwKGksIGRlbHRhKSB7CiAgaWYgKCF3aW5kb3cuX3VmUXR5KSByZXR1cm47CiAgY29uc3QgcXR5ID0gTWF0aC5tYXgoMC41LCAod2luZG93Ll91ZlF0eVtpXSB8fCAxKSArIGRlbHRhKTsKICB3aW5kb3cuX3VmUXR5W2ldID0gTWF0aC5yb3VuZChxdHkgKiAyKSAvIDI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHVmLXF0eS0ke2l9YCkudGV4dENvbnRlbnQgPSB3aW5kb3cuX3VmUXR5W2ldOwogIHVmVXBkYXRlTWFjcm9zKGkpOwp9CgpmdW5jdGlvbiB1ZlVwZGF0ZU1hY3JvcyhpKSB7CiAgaWYgKCF3aW5kb3cuX3VmRm9vZHMpIHJldHVybjsKICBjb25zdCBmICA9IHdpbmRvdy5fdWZGb29kc1tpXTsKICBpZiAoIWYpIHJldHVybjsKICBjb25zdCBxICA9IHdpbmRvdy5fdWZRdHlbaV0gfHwgMTsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1Zi1tYWNyb3MtJHtpfWApOwogIGlmIChlbCkgZWwudGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKGYuY2Fsb3JpZXMgKiBxKX0ga2NhbCDCtyAke01hdGgucm91bmQoZi5wcm90ZWluKnEqMTApLzEwfWcgcHJvIMK3ICR7TWF0aC5yb3VuZChmLmNhcmJzKnEqMTApLzEwfWcgY2FyYnMgwrcgJHtNYXRoLnJvdW5kKGYuZmF0KnEqMTApLzEwfWcgZmF0YDsKfQoKZnVuY3Rpb24gdWZDb25maXJtKGkpIHsKICBpZiAoIXdpbmRvdy5fdWZGb29kcykgcmV0dXJuOwogIGNvbnN0IGYgPSB3aW5kb3cuX3VmRm9vZHNbaV07CiAgaWYgKCFmKSByZXR1cm47CiAgY29uc3QgcXR5ID0gd2luZG93Ll91ZlF0eVtpXSB8fCAxOwogIGFkZEZvb2RFbnRyeSh7CiAgICBuYW1lOiAgICAgZi5uYW1lLAogICAgaWNvbjogICAgIGYuaWNvbiB8fCAn8J+Nve+4jycsCiAgICBjYWxvcmllczogTWF0aC5yb3VuZChmLmNhbG9yaWVzICogcXR5KSwKICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKGYucHJvdGVpbiAgKiBxdHkgKiAxMCkgLyAxMCwKICAgIGNhcmJzOiAgICBNYXRoLnJvdW5kKGYuY2FyYnMgICAgKiBxdHkgKiAxMCkgLyAxMCwKICAgIGZhdDogICAgICBNYXRoLnJvdW5kKGYuZmF0ICAgICAgKiBxdHkgKiAxMCkgLyAxMCwKICAgIHNlcnZpbmdzOiBxdHkKICB9KTsKICBjb25zdCBzdGVwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHVmLXN0ZXBwZXItJHtpfWApOwogIGNvbnN0IHRhcEJ0biAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdWYtdGFwLSR7aX1gKTsKICBpZiAoc3RlcHBlcikgc3RlcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICBpZiAodGFwQnRuKSAgdGFwQnRuLnN0eWxlLmRpc3BsYXkgPSAnJzsKICB3aW5kb3cuX3VmUXR5W2ldID0gMTsKICBjb25zdCBxRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdWYtcXR5LSR7aX1gKTsKICBpZiAocUVsKSBxRWwudGV4dENvbnRlbnQgPSAnMSc7CiAgdWZVcGRhdGVNYWNyb3MoaSk7Cn0KCi8vIFllc3RlcmRheSBiYW5uZXIgdXNlcyBpbmRleCBpbnRvIF91Zlllc3RlcmRheSBhcnJheQpmdW5jdGlvbiBxdWlja0FkZFVzdWFsKHlpKSB7CiAgaWYgKCF3aW5kb3cuX3VmWWVzdGVyZGF5IHx8ICF3aW5kb3cuX3VmWWVzdGVyZGF5W3lpXSkgcmV0dXJuOwogIGNvbnN0IGUgICAgICAgID0gd2luZG93Ll91Zlllc3RlcmRheVt5aV07CiAgY29uc3Qgc2VydmluZ3MgPSBlLnNlcnZpbmdzIHx8IDE7CiAgY29uc3QgYmFzZSAgICAgPSBlLmJhc2VNYWNyb3MgfHwgewogICAgY2Fsb3JpZXM6IChlLmNhbG9yaWVzIHx8IDApIC8gc2VydmluZ3MsCiAgICBwcm90ZWluOiAgKGUucHJvdGVpbiAgfHwgMCkgLyBzZXJ2aW5ncywKICAgIGNhcmJzOiAgICAoZS5jYXJicyAgICB8fCAwKSAvIHNlcnZpbmdzLAogICAgZmF0OiAgICAgIChlLmZhdCAgICAgIHx8IDApIC8gc2VydmluZ3MsCiAgfTsKICBhZGRGb29kRW50cnkoewogICAgbmFtZTogICAgIGUubmFtZSwKICAgIGljb246ICAgICBlLmljb24gfHwgJ/Cfjb3vuI8nLAogICAgY2Fsb3JpZXM6IE1hdGgucm91bmQoYmFzZS5jYWxvcmllcyAqIHNlcnZpbmdzKSwKICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKGJhc2UucHJvdGVpbiAgKiBzZXJ2aW5ncyAqIDEwKSAvIDEwLAogICAgY2FyYnM6ICAgIE1hdGgucm91bmQoYmFzZS5jYXJicyAgICAqIHNlcnZpbmdzICogMTApIC8gMTAsCiAgICBmYXQ6ICAgICAgTWF0aC5yb3VuZChiYXNlLmZhdCAgICAgICogc2VydmluZ3MgKiAxMCkgLyAxMCwKICAgIHNlcnZpbmdzCiAgfSk7Cn0KCmZ1bmN0aW9uIHJlbmRlclF1aWNrUmVjcygpIHsKCiAgY29uc3Qgc2xvdCA9IGdldFRpbWVTbG90KCk7CiAgY29uc3Qgc2xvdEluZm8gPSBUSU1FX1NMT1RTW3Nsb3RdOwogIGNvbnN0IHNhdmVkID0gZ2V0U3RvcmFnZSgnc2F2ZWRGb29kcycsIFtdKTsKICBjb25zdCByZWNzID0gc2F2ZWQuZmlsdGVyKGYgPT4gZi5zbG90ID09PSBzbG90KTsKCiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja1JlY3NDYXJkJyk7CiAgaWYgKHJlY3MubGVuZ3RoID09PSAwKSB7IGNhcmQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgcmV0dXJuOyB9CgogIGNhcmQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lYWwtdGltZS1kb3QnKS5zdHlsZS5iYWNrZ3JvdW5kID0gc2xvdEluZm8uZG90OwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWFsVGltZUxhYmVsJykudGV4dENvbnRlbnQgPSBzbG90SW5mby5sYWJlbCArICcgc3VnZ2VzdGlvbnMnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWFsVGltZUhpbnQnKS50ZXh0Q29udGVudCA9IHNsb3RJbmZvLmhpbnQ7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja0Zvb2RzUm93JykuaW5uZXJIVE1MID0gcmVjcy5tYXAoKGYsIGkpID0+IHsKICAgIGNvbnN0IGlkeCA9IHNhdmVkLmZpbmRJbmRleChzZiA9PiBzZi5uYW1lID09PSBmLm5hbWUgJiYgc2Yuc2xvdCA9PT0gZi5zbG90KTsKICAgIHJldHVybiBgPGRpdiBjbGFzcz0icXVpY2stZm9vZC1jaGlwIiBvbmNsaWNrPSJxdWlja0FkZEZvb2QoJHtpZHh9KSI+CiAgICAgIDxkaXYgY2xhc3M9InFmYy1uYW1lIj4ke2YubmFtZX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icWZjLWNhbCI+JHtmLmNhbG9yaWVzfSBrY2FsIMK3ICR7Zi5wcm90ZWlufWcgcHJvPC9kaXY+CgogICAgPC9kaXY+YDsKICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gcXVpY2tBZGRGb29kKGlkeCkgewogIGNvbnN0IHNhdmVkID0gZ2V0U3RvcmFnZSgnc2F2ZWRGb29kcycsIFtdKTsKICBjb25zdCBmID0gc2F2ZWRbaWR4XTsKICBpZiAoIWYpIHJldHVybjsKICBhZGRGb29kRW50cnkoeyBuYW1lOiBmLm5hbWUsIGNhbG9yaWVzOiBmLmNhbG9yaWVzfHwwLCBwcm90ZWluOiBmLnByb3RlaW58fDAsIGNhcmJzOiBmLmNhcmJzfHwwLCBmYXQ6IGYuZmF0fHwwLCBpY29uOiAn4pqhJyB9KTsKICBzaG93VG9hc3QoYOKchSAke2YubmFtZX0gYWRkZWQhYCk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZVNhdmVkRm9vZChpZHgpIHsKICBjb25zdCBzYXZlZCA9IGdldFN0b3JhZ2UoJ3NhdmVkRm9vZHMnLCBbXSk7CiAgc2F2ZWQuc3BsaWNlKGlkeCwgMSk7CiAgc2V0U3RvcmFnZSgnc2F2ZWRGb29kcycsIHNhdmVkKTsKICByZW5kZXJRdWlja1JlY3MoKTsKfQoKZnVuY3Rpb24gc2F2ZUZvb2RUb1Nsb3QoZm9vZCwgc2xvdCkgewogIGlmICghc2xvdCkgeyBzaG93VG9hc3QoJ+KaoO+4jyBQaWNrIGEgbWVhbCB0aW1lIGZpcnN0Jyk7IHJldHVybiBmYWxzZTsgfQogIGNvbnN0IHNhdmVkID0gZ2V0U3RvcmFnZSgnc2F2ZWRGb29kcycsIFtdKTsKICAvLyBhdm9pZCBleGFjdCBkdXBsaWNhdGVzIGluIHNhbWUgc2xvdAogIGNvbnN0IGV4aXN0cyA9IHNhdmVkLnNvbWUoZiA9PiBmLm5hbWUgPT09IGZvb2QubmFtZSAmJiBmLnNsb3QgPT09IHNsb3QpOwogIGlmIChleGlzdHMpIHsgc2hvd1RvYXN0KCdBbHJlYWR5IHNhdmVkIGluIHRoYXQgc2xvdCEnKTsgcmV0dXJuIGZhbHNlOyB9CiAgc2F2ZWQucHVzaCh7IC4uLmZvb2QsIHNsb3QgfSk7CiAgc2V0U3RvcmFnZSgnc2F2ZWRGb29kcycsIHNhdmVkKTsKICBzaG93VG9hc3QoYOKtkCBTYXZlZCB0byAke1RJTUVfU0xPVFNbc2xvdF0ubGFiZWx9IWApOwogIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBzYXZlTWFudWFsRm9vZCgpIHsKICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbEZvb2ROYW1lJykudmFsdWUudHJpbSgpOwogIGlmICghbmFtZSkgeyBzaG93VG9hc3QoJ+KaoO+4jyBFbnRlciBhIGZvb2QgbmFtZScpOyByZXR1cm47IH0KICBpZiAoIXNlbGVjdGVkVGltZVNsb3QpIHsgc2hvd1RvYXN0KCfimqDvuI8gUGljayBhIG1lYWwgdGltZScpOyByZXR1cm47IH0KICBjb25zdCBmb29kID0gewogICAgbmFtZSwKICAgIGNhbG9yaWVzOiBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW4tY2Fsb3JpZXMnKS52YWx1ZSkgfHwgMCwKICAgIHByb3RlaW46ICBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbi1wcm90ZWluJykudmFsdWUpICB8fCAwLAogICAgY2FyYnM6ICAgIHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luLWNhcmJzJykudmFsdWUpICAgIHx8IDAsCiAgICBmYXQ6ICAgICAgcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW4tZmF0JykudmFsdWUpICAgICAgfHwgMCwKICB9OwogIHNhdmVGb29kVG9TbG90KGZvb2QsIHNlbGVjdGVkVGltZVNsb3QpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWxGb29kTmFtZScpLnZhbHVlID0gJyc7CiAgLy8gcmVzZXQgcGlja2VyCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI21hbnVhbFRpbWVTbG90UGlja2VyIC50cy1idG4nKS5mb3JFYWNoKGIgPT4gYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgc2VsZWN0ZWRUaW1lU2xvdCA9IG51bGw7CiAgcmVuZGVyUXVpY2tSZWNzKCk7Cn0KCgpsZXQgX2xhc3REZWxldGVkRW50cnkgPSBudWxsOwpsZXQgX2xhc3REZWxldGVkRGF0ZUtleSA9IG51bGw7CgpmdW5jdGlvbiBzaG93VG9hc3QobXNnLCB1bmRvRm4pIHsKICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHRvYXN0CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFwcC10b2FzdCcpLmZvckVhY2godCA9PiB0LnJlbW92ZSgpKTsKICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIHRvYXN0LmNsYXNzTmFtZSA9ICdhcHAtdG9hc3QnOwogIHRvYXN0LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7Ym90dG9tOjEwMHB4O2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO2JhY2tncm91bmQ6IzFlMjIyZDtjb2xvcjojZWVmMGY2O3BhZGRpbmc6MTBweCAxNnB4O2JvcmRlci1yYWRpdXM6MjBweDtmb250LXNpemU6MTNweDtmb250LXdlaWdodDo2MDA7ei1pbmRleDo0MDA7d2hpdGUtc3BhY2U6bm93cmFwO2JveC1zaGFkb3c6MCA0cHggMjBweCByZ2JhKDAsMCwwLDAuNCk7Ym9yZGVyOjFweCBzb2xpZCAjMmEyZjNkO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHg7dHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MnOwogIGNvbnN0IG1zZ1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgbXNnU3Bhbi50ZXh0Q29udGVudCA9IG1zZzsKICB0b2FzdC5hcHBlbmRDaGlsZChtc2dTcGFuKTsKICBpZiAodW5kb0ZuKSB7CiAgICBjb25zdCB1bmRvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICB1bmRvQnRuLnRleHRDb250ZW50ID0gJ1VORE8nOwogICAgdW5kb0J0bi5zdHlsZS5jc3NUZXh0ID0gJ2JhY2tncm91bmQ6IzIyYzU1ZTtjb2xvcjojMDAwO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MTBweDtwYWRkaW5nOjRweCAxMHB4O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjgwMDtjdXJzb3I6cG9pbnRlcjtmb250LWZhbWlseTppbmhlcml0O2ZsZXgtc2hyaW5rOjAnOwogICAgdW5kb0J0bi5vbmNsaWNrID0gKCkgPT4geyB1bmRvRm4oKTsgdG9hc3QucmVtb3ZlKCk7IH07CiAgICB0b2FzdC5hcHBlbmRDaGlsZCh1bmRvQnRuKTsKICB9CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdCk7CiAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgdG9hc3Quc3R5bGUub3BhY2l0eSA9ICcwJzsgc2V0VGltZW91dCgoKSA9PiB0b2FzdC5yZW1vdmUoKSwgMzAwKTsgfSwgdW5kb0ZuID8gNDAwMCA6IDIyMDApOwogIHRvYXN0LmRhdGFzZXQudGltZXIgPSB0aW1lcjsKfQoKCi8vIOKUgOKUgCBCYXJjb2RlIFNjYW5uZXIg4pSA4pSACmxldCBzY2FubmVyU3RyZWFtID0gbnVsbDsKbGV0IHNjYW5uZXJJbnRlcnZhbCA9IG51bGw7CmxldCBzY2FubmVkUHJvZHVjdCA9IG51bGw7CmxldCBzZXJ2aW5ncyA9IDE7Cgphc3luYyBmdW5jdGlvbiBvcGVuU2Nhbm5lcigpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Nhbm5lck1vZGFsJykuY2xhc3NMaXN0LmFkZCgnb3BlbicpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb29kUmVzdWx0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ/CflI0gU2Nhbm5pbmcgZm9yIGJhcmNvZGXigKYnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3VidGl0bGUnKS50ZXh0Q29udGVudCA9ICdQb2ludCB5b3VyIGNhbWVyYSBhdCBhIGJhcmNvZGUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW1lcmFWaWV3Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgc2Nhbm5lZFByb2R1Y3QgPSBudWxsOwogIHNlcnZpbmdzID0gMTsKICBzZWxlY3RlZFRpbWVTbG90ID0gbnVsbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3J2VmFsJykudGV4dENvbnRlbnQgPSAnMSc7CgogIC8vIEF1dG8tc2VsZWN0IGN1cnJlbnQgdGltZSBzbG90CiAgY29uc3QgY3VycmVudFNsb3QgPSBnZXRUaW1lU2xvdCgpOwogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzY2FuVGltZVNsb3RQaWNrZXIgLnRzLWJ0bicpLmZvckVhY2goYiA9PiB7CiAgICBiLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGIuZGF0YXNldC5zbG90ID09PSBjdXJyZW50U2xvdCk7CiAgfSk7CiAgc2VsZWN0ZWRUaW1lU2xvdCA9IGN1cnJlbnRTbG90OwoKICB0cnkgewogICAgYXdhaXQgc3RhcnRRdWFnZ2EoKTsKICB9IGNhdGNoIChlKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ+KaoO+4jyBDYW1lcmEgYWNjZXNzIGRlbmllZC4gUGxlYXNlIGFsbG93IGNhbWVyYSBpbiBicm93c2VyIHNldHRpbmdzLic7CiAgfQp9CgpmdW5jdGlvbiBzdGFydFF1YWdnYSgpIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgaWYgKCF3aW5kb3cuUXVhZ2dhKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3RhdHVzJykudGV4dENvbnRlbnQgPSAn4pqg77iPIFNjYW5uZXIgbGlicmFyeSBmYWlsZWQgdG8gbG9hZC4gVHJ5IG1hbnVhbCBlbnRyeS4nOwogICAgICByZWplY3QobmV3IEVycm9yKCdRdWFnZ2Egbm90IGxvYWRlZCcpKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIFF1YWdnYS5pbml0KHsKICAgICAgaW5wdXRTdHJlYW06IHsKICAgICAgICBuYW1lOiAnTGl2ZScsCiAgICAgICAgdHlwZTogJ0xpdmVTdHJlYW0nLAogICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1YWdnYS1jb250YWluZXInKSwKICAgICAgICBjb25zdHJhaW50czogewogICAgICAgICAgZmFjaW5nTW9kZTogJ2Vudmlyb25tZW50JywKICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sCiAgICAgICAgICBoZWlnaHQ6IHsgaWRlYWw6IDcyMCB9LAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGRlY29kZXI6IHsKICAgICAgICByZWFkZXJzOiBbJ2Vhbl9yZWFkZXInLCAnZWFuXzhfcmVhZGVyJywgJ3VwY19yZWFkZXInLCAndXBjX2VfcmVhZGVyJywgJ2NvZGVfMTI4X3JlYWRlcicsICdjb2RlXzM5X3JlYWRlciddLAogICAgICAgIGRlYnVnOiB7IGRyYXdCb3VuZGluZ0JveDogZmFsc2UsIHNob3dGcmVxdWVuY3k6IGZhbHNlLCBkcmF3U2NhbmxpbmU6IGZhbHNlLCBzaG93UGF0dGVybjogZmFsc2UgfQogICAgICB9LAogICAgICBsb2NhdGU6IHRydWUsCiAgICB9LCAoZXJyKSA9PiB7CiAgICAgIGlmIChlcnIpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ+KaoO+4jyBDb3VsZCBub3Qgc3RhcnQgY2FtZXJhOiAnICsgZXJyLm1lc3NhZ2U7CiAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIFF1YWdnYS5zdGFydCgpOwoKICAgICAgLy8gU3R5bGUgdGhlIFF1YWdnYS1pbmplY3RlZCB2aWRlbyB0byBmaWxsIHRoZSBjb250YWluZXIKICAgICAgY29uc3QgdmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3F1YWdnYS1jb250YWluZXIgdmlkZW8nKTsKICAgICAgaWYgKHZpZCkgewogICAgICAgIHZpZC5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b2JqZWN0LWZpdDpjb3Zlcjtib3JkZXItcmFkaXVzOjE4cHg7ZGlzcGxheTpibG9jayc7CiAgICAgIH0KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3F1YWdnYS1jb250YWluZXIgY2FudmFzJyk7CiAgICAgIGlmIChjYW52YXMpIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CgogICAgUXVhZ2dhLm9uRGV0ZWN0ZWQoKHJlc3VsdCkgPT4gewogICAgICBjb25zdCBjb2RlID0gcmVzdWx0LmNvZGVSZXN1bHQ/LmNvZGU7CiAgICAgIGlmICghY29kZSkgcmV0dXJuOwogICAgICBRdWFnZ2Euc3RvcCgpOwogICAgICBsb29rdXBCYXJjb2RlKGNvZGUpOwogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIHN0YXJ0RGVjb2RpbmcoKSB7IC8qIGxlZ2FjeSBzdHViIOKAlCBub3QgdXNlZCB3aXRoIFF1YWdnYSAqLyB9CmZ1bmN0aW9uIGJlZ2luU2NhbigpIHsgLyogbGVnYWN5IHN0dWIg4oCUIG5vdCB1c2VkIHdpdGggUXVhZ2dhICovIH0KCmFzeW5jIGZ1bmN0aW9uIGxvb2t1cEJhcmNvZGUoYmFyY29kZSkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3RhdHVzJykudGV4dENvbnRlbnQgPSBg4o+zIExvb2tpbmcgdXAgYmFyY29kZSAke2JhcmNvZGV94oCmYDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FtZXJhVmlldycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgc3RvcENhbWVyYSgpOwoKICAvLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAvLyBwYXJzZU9GRiDigJQgY29ycmVjdGx5IGhhbmRsZXMgT3BlbiBGb29kIEZhY3RzIG51dHJpbWVudCBkYXRhCiAgLy8gT0ZGcyBhbHdheXMgc3RvcmVzIG51dHJpZW50cyBwZXIgMTAwZyBpbiBfMTAwZyBmaWVsZHMgQU5ECiAgLy8gcGVyLXNlcnZpbmcgaW4gX3NlcnZpbmcgZmllbGRzLiBXZSBBTFdBWVMgcHJlZmVyIF9zZXJ2aW5nLgogIC8vIElmIF9zZXJ2aW5nIGlzIG1pc3NpbmcsIHdlIHNjYWxlIGZyb20gXzEwMGcgdXNpbmcgc2VydmluZ19xdWFudGl0eS4KICAvLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICBmdW5jdGlvbiBwYXJzZU9GRihwKSB7CiAgICBjb25zdCBuID0gcC5udXRyaW1lbnRzIHx8IHt9OwoKICAgIC8vIEdldCBwZXItc2VydmluZyB2YWx1ZSBmaXJzdCwgZmFsbCBiYWNrIHRvIHBlci0xMDBnIMOXIHNjYWxlCiAgICBjb25zdCBzZXJ2aW5nUXR5ID0gcGFyc2VGbG9hdChwLnNlcnZpbmdfcXVhbnRpdHkpIHx8IHBhcnNlRmxvYXQocC5zZXJ2aW5nX3NpemUpIHx8IDA7CiAgICBjb25zdCBzY2FsZTEwMGcgID0gc2VydmluZ1F0eSA+IDAgPyBzZXJ2aW5nUXR5IC8gMTAwIDogMTsKCiAgICBmdW5jdGlvbiBnZXRQZXJTZXJ2aW5nKGJhc2UpIHsKICAgICAgLy8gS2V5IHZhcmlhbnRzIGZvciB0aGUgbnV0cmllbnQgbmFtZQogICAgICBjb25zdCBiYXNlcyA9IFtiYXNlLCBiYXNlLnJlcGxhY2UoJy0nLCdfJyldOwogICAgICBmb3IgKGNvbnN0IGIgb2YgYmFzZXMpIHsKICAgICAgICAvLyAxLiBFeHBsaWNpdCBwZXItc2VydmluZyBmaWVsZAogICAgICAgIGNvbnN0IHN2ID0gbltgJHtifV9zZXJ2aW5nYF07CiAgICAgICAgaWYgKHN2ICE9PSB1bmRlZmluZWQgJiYgc3YgIT09IG51bGwgJiYgc3YgIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KHN2KSkpIHsKICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHN2KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gMi4gUGVyLTEwMGcgZmllbGQgw5cgc2VydmluZyBzY2FsZQogICAgICBmb3IgKGNvbnN0IGIgb2YgYmFzZXMpIHsKICAgICAgICBjb25zdCB2MTAwID0gbltgJHtifV8xMDBnYF07CiAgICAgICAgaWYgKHYxMDAgIT09IHVuZGVmaW5lZCAmJiB2MTAwICE9PSBudWxsICYmIHYxMDAgIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KHYxMDApKSkgewogICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodjEwMCkgKiBzY2FsZTEwMGc7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIDMuIFJhdyBmaWVsZCAoYXNzdW1lIHBlci1zZXJ2aW5nIGlmIG51dHJpdGlvbl9kYXRhX3BlciA9PT0gJ3NlcnZpbmcnLCBlbHNlIHNjYWxlKQogICAgICBmb3IgKGNvbnN0IGIgb2YgYmFzZXMpIHsKICAgICAgICBjb25zdCByYXcgPSBuW2JdOwogICAgICAgIGlmIChyYXcgIT09IHVuZGVmaW5lZCAmJiByYXcgIT09IG51bGwgJiYgcmF3ICE9PSAnJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChyYXcpKSkgewogICAgICAgICAgY29uc3QgZGF0YVBlciA9IHAubnV0cml0aW9uX2RhdGFfcGVyIHx8ICcxMDBnJzsKICAgICAgICAgIHJldHVybiBkYXRhUGVyID09PSAnc2VydmluZycgPyBwYXJzZUZsb2F0KHJhdykgOiBwYXJzZUZsb2F0KHJhdykgKiBzY2FsZTEwMGc7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIC8vIENhbG9yaWVzOiBwcmVmZXIgZW5lcmd5LWtjYWwsIGZhbGwgYmFjayB0byBlbmVyZ3kgKGtKKSDDtyA0LjE4NAogICAgbGV0IGNhbG9yaWVzID0gZ2V0UGVyU2VydmluZygnZW5lcmd5LWtjYWwnKTsKICAgIGlmIChjYWxvcmllcyA9PT0gMCkgewogICAgICBjb25zdCBraiA9IGdldFBlclNlcnZpbmcoJ2VuZXJneScpOwogICAgICBpZiAoa2ogPiAwKSBjYWxvcmllcyA9IGtqIC8gNC4xODQ7CiAgICB9CgogICAgLy8gU2FuaXR5IGNoZWNrOiBpZiBjYWxvcmllcyBwZXIgc2VydmluZyBsb29rIGxpa2UgcGVyLTEwMGcgKD44MDAgZm9yIG1vc3QgZm9vZHMpCiAgICAvLyBBTkQgd2UgaGF2ZSBhIHJlYWwgc2VydmluZyBzaXplIHRoYXQncyBtdWNoIHNtYWxsZXIsIGZsYWcgYSBzY2FsaW5nIGlzc3VlCiAgICAvLyBhbmQgZm9yY2Utc2NhbGUgZG93bgogICAgaWYgKGNhbG9yaWVzID4gODAwICYmIHNlcnZpbmdRdHkgPiAwICYmIHNlcnZpbmdRdHkgPCA2MCkgewogICAgICAvLyBMaWtlbHkgMTAwZyBkYXRhIHdpdGhvdXQgcHJvcGVyIF9zZXJ2aW5nIGZpZWxkcyDigJQgc2NhbGUgaXQKICAgICAgY2Fsb3JpZXMgICA9IGNhbG9yaWVzICAgKiAoc2VydmluZ1F0eSAvIDEwMCk7CiAgICB9CgogICAgY29uc3QgcHJvdGVpbiA9IGdldFBlclNlcnZpbmcoJ3Byb3RlaW5zJyk7CiAgICBjb25zdCBjYXJicyAgID0gZ2V0UGVyU2VydmluZygnY2FyYm9oeWRyYXRlcycpOwogICAgY29uc3QgZmF0ICAgICA9IGdldFBlclNlcnZpbmcoJ2ZhdCcpOwoKICAgIC8vIEJ1aWxkIHNlcnZpbmcgc2l6ZSBsYWJlbAogICAgY29uc3Qgc2VydmluZ0xhYmVsID0gcC5zZXJ2aW5nX3NpemUKICAgICAgPyBwLnNlcnZpbmdfc2l6ZQogICAgICA6IHNlcnZpbmdRdHkgPiAwID8gYCR7c2VydmluZ1F0eX1nYCA6ICcxIHNlcnZpbmcnOwoKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICAgICAgICBwLnByb2R1Y3RfbmFtZV9lbiB8fCBwLnByb2R1Y3RfbmFtZSB8fCBwLmFiYnJldmlhdGVkX3Byb2R1Y3RfbmFtZSB8fCAnJywKICAgICAgYnJhbmQ6ICAgICAgIHAuYnJhbmRzIHx8ICcnLAogICAgICBjYWxvcmllczogICAgTWF0aC5yb3VuZChjYWxvcmllcyksCiAgICAgIHByb3RlaW46ICAgICBNYXRoLnJvdW5kKHByb3RlaW4gICogMTApIC8gMTAsCiAgICAgIGNhcmJzOiAgICAgICBNYXRoLnJvdW5kKGNhcmJzICAgICogMTApIC8gMTAsCiAgICAgIGZhdDogICAgICAgICBNYXRoLnJvdW5kKGZhdCAgICAgICogMTApIC8gMTAsCiAgICAgIHNlcnZpbmdTaXplOiBzZXJ2aW5nTGFiZWwsCiAgICAgIHNvdXJjZTogICAgICAnT3BlbiBGb29kIEZhY3RzJywKICAgIH07CiAgfQoKICAvLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAvLyBwYXJzZVVTREFGb29kIOKAlCBleHRyYWN0IG1hY3JvcyBmcm9tIFVTREEgRm9vZERhdGEgaXRlbS4KICAvLyBVU0RBIGJyYW5kZWQgZm9vZHMgc3RvcmUgbnV0cmllbnRzIHBlciAxMDBnIGJ5IGRlZmF1bHQuCiAgLy8gc2VydmluZ1NpemUgaXMgaW4gc2VydmluZ1NpemVVbml0IChnLCBveiwgZXRjKS4KICAvLyBXZSBtdXN0IHNjYWxlIDEwMGcgdmFsdWVzIHRvIHRoZSBhY3R1YWwgc2VydmluZyBzaXplLgogIC8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogIGZ1bmN0aW9uIHBhcnNlVVNEQUZvb2QoZikgewogICAgY29uc3QgbnV0ciA9IGlkID0+IHsKICAgICAgY29uc3QgZm91bmQgPSAoZi5mb29kTnV0cmllbnRzIHx8IFtdKS5maW5kKHggPT4KICAgICAgICB4Lm51dHJpZW50SWQgPT09IGlkIHx8IHgubnV0cmllbnROdW1iZXIgPT09IFN0cmluZyhpZCkgfHwKICAgICAgICB4Lm51dHJpZW50SWQgPT09IFN0cmluZyhpZCkKICAgICAgKTsKICAgICAgcmV0dXJuIGZvdW5kPy52YWx1ZSA/PyAwOwogICAgfTsKCiAgICAvLyBSYXcgdmFsdWVzIGFyZSBwZXIgMTAwZwogICAgY29uc3QgY2FsMTAwICAgPSBudXRyKDEwMDgpIHx8IG51dHIoMjA4KTsKICAgIGNvbnN0IHByb3QxMDAgID0gbnV0cigxMDAzKSB8fCBudXRyKDIwMyk7CiAgICBjb25zdCBjYXJiczEwMCA9IG51dHIoMTAwNSkgfHwgbnV0cigyMDUpOwogICAgY29uc3QgZmF0MTAwICAgPSBudXRyKDEwMDQpIHx8IG51dHIoMjA0KTsKCiAgICAvLyBDb252ZXJ0IHNlcnZpbmcgdG8gZ3JhbXMgZm9yIHNjYWxpbmcKICAgIGxldCBzZXJ2aW5nRyA9IHBhcnNlRmxvYXQoZi5zZXJ2aW5nU2l6ZSkgfHwgMDsKICAgIGNvbnN0IHVuaXQgICA9IChmLnNlcnZpbmdTaXplVW5pdCB8fCAnZycpLnRvTG93ZXJDYXNlKCk7CiAgICBpZiAodW5pdCA9PT0gJ296JykgICAgICBzZXJ2aW5nRyAqPSAyOC4zNDk1OwogICAgZWxzZSBpZiAodW5pdCA9PT0gJ21sJykgc2VydmluZ0cgKj0gMTsgICAvLyBhc3N1bWUgMWcvbWwgZm9yIGxpcXVpZHMKICAgIGVsc2UgaWYgKHVuaXQgPT09ICdsYicpIHNlcnZpbmdHICo9IDQ1My41OTI7CgogICAgLy8gSWYgbm8gc2VydmluZyBzaXplIGluIGdyYW1zLCB2YWx1ZXMgYXJlIGFscmVhZHkgcGVyIDEwMGcg4oCUIHVzZSBhcy1pcwogICAgY29uc3Qgc2NhbGUgPSBzZXJ2aW5nRyA+IDAgPyBzZXJ2aW5nRyAvIDEwMCA6IDE7CgogICAgY29uc3Qgc2VydmluZ0xhYmVsID0gZi5zZXJ2aW5nU2l6ZQogICAgICA/IGAke2Yuc2VydmluZ1NpemV9JHtmLnNlcnZpbmdTaXplVW5pdCB8fCAnZyd9YAogICAgICA6ICcxMDBnJzsKCiAgICByZXR1cm4gewogICAgICBuYW1lOiAgICAgICAgZi5kZXNjcmlwdGlvbiB8fCAnJywKICAgICAgYnJhbmQ6ICAgICAgIGYuYnJhbmRPd25lciB8fCBmLmJyYW5kTmFtZSB8fCAnJywKICAgICAgY2Fsb3JpZXM6ICAgIE1hdGgucm91bmQoY2FsMTAwICAgKiBzY2FsZSksCiAgICAgIHByb3RlaW46ICAgICBNYXRoLnJvdW5kKHByb3QxMDAgICogc2NhbGUgKiAxMCkgLyAxMCwKICAgICAgY2FyYnM6ICAgICAgIE1hdGgucm91bmQoY2FyYnMxMDAgKiBzY2FsZSAqIDEwKSAvIDEwLAogICAgICBmYXQ6ICAgICAgICAgTWF0aC5yb3VuZChmYXQxMDAgICAqIHNjYWxlICogMTApIC8gMTAsCiAgICAgIHNlcnZpbmdTaXplOiBzZXJ2aW5nTGFiZWwsCiAgICAgIHNvdXJjZTogICAgICAnVVNEQScsCiAgICB9OwogIH0KCiAgLy8g4pSA4pSAIFNhbml0eSBjaGVjazogZmxhZyBpbXBsYXVzaWJsZSBtYWNyb3Mg4pSA4pSACiAgZnVuY3Rpb24gaXNTYW5lKHByb2QpIHsKICAgIGlmICghcHJvZC5uYW1lKSByZXR1cm4gZmFsc2U7CiAgICBpZiAocHJvZC5jYWxvcmllcyA8IDAgfHwgcHJvZC5jYWxvcmllcyA+IDIwMDApIHJldHVybiBmYWxzZTsKICAgIGlmIChwcm9kLnByb3RlaW4gIDwgMCB8fCBwcm9kLnByb3RlaW4gID4gMjAwKSAgcmV0dXJuIGZhbHNlOwogICAgaWYgKHByb2QuY2FyYnMgICAgPCAwIHx8IHByb2QuY2FyYnMgICAgPiAzMDApICAgcmV0dXJuIGZhbHNlOwogICAgaWYgKHByb2QuZmF0ICAgICAgPCAwIHx8IHByb2QuZmF0ICAgICAgPiAxNTApICAgcmV0dXJuIGZhbHNlOwogICAgLy8gQ2Fsb3JpZSBzYW5pdHk6IDQqUCArIDQqQyArIDkqRiBzaG91bGQgcm91Z2hseSBlcXVhbCBjYWxvcmllcyAowrEzMCUpCiAgICBjb25zdCBjYWxjQ2FscyA9IHByb2QucHJvdGVpbiAqIDQgKyBwcm9kLmNhcmJzICogNCArIHByb2QuZmF0ICogOTsKICAgIGlmIChwcm9kLmNhbG9yaWVzID4gMTAgJiYgY2FsY0NhbHMgPiAwKSB7CiAgICAgIGNvbnN0IHJhdGlvID0gY2FsY0NhbHMgLyBwcm9kLmNhbG9yaWVzOwogICAgICBpZiAocmF0aW8gPCAwLjUgfHwgcmF0aW8gPiAyLjApIHJldHVybiBmYWxzZTsgLy8gbWFjcm9zIGRvbid0IGFkZCB1cCDigJQgYmFkIGRhdGEKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8g4pSA4pSAIERCIDE6IE9wZW4gRm9vZCBGYWN0cyDigJQgZXhhY3QgVVBDL0VBTiBsb29rdXAg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgdHJ5IHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3RhdHVzJykudGV4dENvbnRlbnQgPSAn4o+zIFNlYXJjaGluZyBPcGVuIEZvb2QgRmFjdHPigKYnOwogICAgY29uc3QgcmVzICA9IGF3YWl0IGZldGNoKAogICAgICBgaHR0cHM6Ly93b3JsZC5vcGVuZm9vZGZhY3RzLm9yZy9hcGkvdjIvcHJvZHVjdC8ke2JhcmNvZGV9YCArCiAgICAgIGA/ZmllbGRzPXByb2R1Y3RfbmFtZSxwcm9kdWN0X25hbWVfZW4sYWJicmV2aWF0ZWRfcHJvZHVjdF9uYW1lLGJyYW5kcyxgICsKICAgICAgYHNlcnZpbmdfc2l6ZSxzZXJ2aW5nX3F1YW50aXR5LG51dHJpbWVudHMsbnV0cml0aW9uX2RhdGFfcGVyLG51dHJpc2NvcmVfZGF0YWAKICAgICk7CiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gMSAmJiBkYXRhLnByb2R1Y3QpIHsKICAgICAgY29uc3QgcHJvZCA9IHBhcnNlT0ZGKGRhdGEucHJvZHVjdCk7CiAgICAgIGlmIChpc1NhbmUocHJvZCkpIHsKICAgICAgICBzY2FubmVkUHJvZHVjdCA9IHByb2Q7CiAgICAgICAgc2VydmluZ3MgPSAxOwogICAgICAgIHJlbmRlckZvb2RSZXN1bHQoKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ+KchSBGb3VuZCDigJQgT3BlbiBGb29kIEZhY3RzJzsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAocHJvZC5uYW1lKSB7CiAgICAgICAgLy8gRm91bmQgcHJvZHVjdCBidXQgbWFjcm9zIGFyZSBiYWQg4oCUIHNob3cgd2l0aCB3YXJuaW5nCiAgICAgICAgLy8gU3RpbGwgdXNlIGl0IGJ1dCB3YXJuIHVzZXIKICAgICAgICBzY2FubmVkUHJvZHVjdCA9IHByb2Q7CiAgICAgICAgc2VydmluZ3MgPSAxOwogICAgICAgIHJlbmRlckZvb2RSZXN1bHQoKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ+KaoO+4jyBGb3VuZCBidXQgbnV0cml0aW9uIGRhdGEgbWF5IGJlIGluY29tcGxldGUg4oCUIHZlcmlmeSBhZ2FpbnN0IGxhYmVsJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICB9IGNhdGNoKGUpIHsgY29uc29sZS53YXJuKCdPRkYgbG9va3VwIGZhaWxlZDonLCBlKTsgfQoKICAvLyDilIDilIAgREIgMjogVVNEQSBGb29kRGF0YSBDZW50cmFsIOKAlCBkaXJlY3QgVVBDIGd0aW5VcGMgbG9va3VwIOKUgOKUgAogIHRyeSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhblN0YXR1cycpLnRleHRDb250ZW50ID0gJ+KPsyBTZWFyY2hpbmcgVVNEQSAoYnkgVVBDKeKApic7CiAgICAvLyBVU0RBIHN1cHBvcnRzIGRpcmVjdCBndGluVXBjIHNlYXJjaCB3aGljaCBpcyBleGFjdAogICAgY29uc3QgcmVzICA9IGF3YWl0IGZldGNoKAogICAgICBgaHR0cHM6Ly9hcGkubmFsLnVzZGEuZ292L2ZkYy92MS9mb29kcy9zZWFyY2hgICsKICAgICAgYD9xdWVyeT0ke2JhcmNvZGV9JmRhdGFUeXBlPUJyYW5kZWQmcGFnZVNpemU9NSZhcGlfa2V5PSR7VVNEQV9BUElfS0VZfWAKICAgICk7CiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgIC8vIEZpbmQgZXhhY3QgZ3RpblVwYyBtYXRjaCBmaXJzdCwgdGhlbiBmYWxsIGJhY2sgdG8gZmlyc3QgcmVzdWx0CiAgICBjb25zdCBmb29kcyA9IGRhdGEuZm9vZHMgfHwgW107CiAgICBjb25zdCBleGFjdCA9IGZvb2RzLmZpbmQoZiA9PiBmLmd0aW5VcGMgPT09IGJhcmNvZGUgfHwgZi5ndGluVXBjID09PSBiYXJjb2RlLnJlcGxhY2UoL14wKy8sJycpKTsKICAgIGNvbnN0IGYgICAgID0gZXhhY3QgfHwgZm9vZHNbMF07CiAgICBpZiAoZikgewogICAgICBjb25zdCBwcm9kID0gcGFyc2VVU0RBRm9vZChmKTsKICAgICAgaWYgKGlzU2FuZShwcm9kKSkgewogICAgICAgIHNjYW5uZWRQcm9kdWN0ID0gcHJvZDsKICAgICAgICBzZXJ2aW5ncyA9IDE7CiAgICAgICAgcmVuZGVyRm9vZFJlc3VsdCgpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3RhdHVzJykudGV4dENvbnRlbnQgPQogICAgICAgICAgZXhhY3QgPyAn4pyFIEZvdW5kIOKAlCBVU0RBIChleGFjdCBVUEMgbWF0Y2gpJyA6ICfinIUgRm91bmQg4oCUIFVTREEnOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogIH0gY2F0Y2goZSkgeyBjb25zb2xlLndhcm4oJ1VTREEgVVBDIGxvb2t1cCBmYWlsZWQ6JywgZSk7IH0KCiAgLy8g4pSA4pSAIERCIDM6IE9wZW4gRm9vZCBGYWN0cyBVUyBzdG9yZSAoZmFsbGJhY2spIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAogIC8vIFRyeSB0aGUgVVMtc3BlY2lmaWMgZW5kcG9pbnQgaW4gY2FzZSB3b3JsZCBlbmRwb2ludCBtaXNzZWQgaXQKICB0cnkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYW5TdGF0dXMnKS50ZXh0Q29udGVudCA9ICfij7MgU2VhcmNoaW5nIE9wZW4gRm9vZCBGYWN0cyBVU+KApic7CiAgICBjb25zdCByZXMgID0gYXdhaXQgZmV0Y2goCiAgICAgIGBodHRwczovL3VzLm9wZW5mb29kZmFjdHMub3JnL2FwaS92Mi9wcm9kdWN0LyR7YmFyY29kZX1gICsKICAgICAgYD9maWVsZHM9cHJvZHVjdF9uYW1lLHByb2R1Y3RfbmFtZV9lbixicmFuZHMsc2VydmluZ19zaXplLHNlcnZpbmdfcXVhbnRpdHksbnV0cmltZW50cyxudXRyaXRpb25fZGF0YV9wZXJgCiAgICApOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDEgJiYgZGF0YS5wcm9kdWN0KSB7CiAgICAgIGNvbnN0IHByb2QgPSBwYXJzZU9GRihkYXRhLnByb2R1Y3QpOwogICAgICBpZiAocHJvZC5uYW1lICYmIHByb2QuY2Fsb3JpZXMgPiAwKSB7CiAgICAgICAgc2Nhbm5lZFByb2R1Y3QgPSBwcm9kOwogICAgICAgIHNlcnZpbmdzID0gMTsKICAgICAgICByZW5kZXJGb29kUmVzdWx0KCk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYW5TdGF0dXMnKS50ZXh0Q29udGVudCA9ICfinIUgRm91bmQg4oCUIE9wZW4gRm9vZCBGYWN0cyBVUyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgfSBjYXRjaChlKSB7IGNvbnNvbGUud2FybignT0ZGIFVTIGxvb2t1cCBmYWlsZWQ6JywgZSk7IH0KCiAgLy8g4pSA4pSAIEFsbCBkYXRhYmFzZXMgZmFpbGVkIOKAlCBvZmZlciBtYW51YWwgZW50cnkgcHJvbXB0IOKUgOKUgOKUgOKUgOKUgOKUgAogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuU3RhdHVzJykudGV4dENvbnRlbnQgPQogICAgYOKdjCBCYXJjb2RlICR7YmFyY29kZX0gbm90IGZvdW5kLiBUcnkgdGhlIG1hbnVhbCBzZWFyY2ggb3IgZW50ZXIgbnV0cml0aW9uIGZhY3RzIG1hbnVhbGx5LmA7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYVZpZXcnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICBvcGVuU2Nhbm5lckNhbWVyYSgpOwp9CgpmdW5jdGlvbiByZW5kZXJGb29kUmVzdWx0KCkgewogIGNvbnN0IHAgPSBzY2FubmVkUHJvZHVjdDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vZE5hbWUnKS50ZXh0Q29udGVudCA9IHAubmFtZTsKCiAgLy8gQnJhbmQgKyBzZXJ2aW5nIGluZm8gKyBzb3VyY2UgYmFkZ2UKICBjb25zdCBzb3VyY2VDb2xvciA9IHAuc291cmNlID09PSAnVVNEQScgPyAnIzYwYTVmYScgOiAnI2E3OGJmYSc7CiAgY29uc3Qgc291cmNlQmcgICAgPSBwLnNvdXJjZSA9PT0gJ1VTREEnID8gJyMwZDFlM2QnIDogJyMxYTEwMzAnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb29kQnJhbmQnKS5pbm5lckhUTUwgPQogICAgYCR7cC5icmFuZCA/IGA8c3Ryb25nPiR7cC5icmFuZH08L3N0cm9uZz4gwrcgYCA6ICcnfWAgKwogICAgYFBlciBzZXJ2aW5nOiA8c3Ryb25nPiR7cC5zZXJ2aW5nU2l6ZX08L3N0cm9uZz5gICsKICAgIGA8c3BhbiBzdHlsZT0ibWFyZ2luLWxlZnQ6OHB4O2ZvbnQtc2l6ZTo5cHg7YmFja2dyb3VuZDoke3NvdXJjZUJnfTtjb2xvcjoke3NvdXJjZUNvbG9yfTtwYWRkaW5nOjJweCA3cHg7Ym9yZGVyLXJhZGl1czo4cHg7Zm9udC13ZWlnaHQ6NzAwIj4ke3Auc291cmNlIHx8ICdEQid9PC9zcGFuPmA7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcnZWYWwnKS50ZXh0Q29udGVudCA9IHNlcnZpbmdzICUgMSA9PT0gMCA/IHNlcnZpbmdzIDogc2VydmluZ3MudG9GaXhlZCgxKTsKCiAgY29uc3QgY2FscyAgPSBNYXRoLnJvdW5kKHAuY2Fsb3JpZXMgKiBzZXJ2aW5ncyk7CiAgY29uc3QgcHJvdCAgPSBNYXRoLnJvdW5kKHAucHJvdGVpbiAgKiBzZXJ2aW5ncyAqIDEwKSAvIDEwOwogIGNvbnN0IGNhcmJzID0gTWF0aC5yb3VuZChwLmNhcmJzICAgICogc2VydmluZ3MgKiAxMCkgLyAxMDsKICBjb25zdCBmYXQgICA9IE1hdGgucm91bmQocC5mYXQgICAgICAqIHNlcnZpbmdzICogMTApIC8gMTA7CgogIC8vIENhbG9yaWUgY2hlY2s6IDRQICsgNEMgKyA5RiBzaG91bGQgYmUgY2xvc2UgdG8gbGFiZWwgY2Fsb3JpZXMKICBjb25zdCBjYWxjQ2FscyA9IE1hdGgucm91bmQocHJvdCAqIDQgKyBjYXJicyAqIDQgKyBmYXQgKiA5KTsKICBjb25zdCBjYWxEaWZmICA9IE1hdGguYWJzKGNhbGNDYWxzIC0gY2Fscyk7CiAgY29uc3Qgc2hvd0NhbFdhcm5pbmcgPSBjYWxzID4gMTAgJiYgY2FsRGlmZiA+IGNhbHMgKiAwLjM7IC8vID4zMCUgb2ZmCgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb29kTWFjcm9zJykuaW5uZXJIVE1MID0gWwogICAgeyBsYWJlbDogJ0NhbG9yaWVzJywgdmFsOiBjYWxzLCAgdW5pdDogJ2tjYWwnLCBjb2xvcjogJyNmNTllMGInIH0sCiAgICB7IGxhYmVsOiAnUHJvdGVpbicsICB2YWw6IHByb3QsICB1bml0OiAnZycsICAgIGNvbG9yOiAnIzIyYzU1ZScgfSwKICAgIHsgbGFiZWw6ICdDYXJicycsICAgIHZhbDogY2FyYnMsIHVuaXQ6ICdnJywgICAgY29sb3I6ICcjM2I4MmY2JyB9LAogICAgeyBsYWJlbDogJ0ZhdCcsICAgICAgdmFsOiBmYXQsICAgdW5pdDogJ2cnLCAgICBjb2xvcjogJyNlZjQ0NDQnIH0sCiAgXS5tYXAobSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAiPgogICAgICA8ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtdmFsIiBzdHlsZT0iY29sb3I6JHttLmNvbG9yfSI+JHttLnZhbH08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLWxibCI+JHttLmxhYmVsfTwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6OXB4O2NvbG9yOnZhcigtLXRleHQzKSI+JHttLnVuaXR9PC9kaXY+CiAgICA8L2Rpdj5gKS5qb2luKCcnKTsKCiAgLy8gU2hvdyB3YXJuaW5nIGlmIG1hY3JvcyBkb24ndCBhZGQgdXAg4oCUIHRlbGxzIHVzZXIgdG8gdmVyaWZ5IGxhYmVsCiAgY29uc3Qgd2FybkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYW5NYWNyb1dhcm5pbmcnKTsKICBpZiAod2FybkVsKSB7CiAgICBpZiAoc2hvd0NhbFdhcm5pbmcpIHsKICAgICAgd2FybkVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB3YXJuRWwudGV4dENvbnRlbnQgPSBg4pqg77iPIE1hY3JvIG1hdGggKCR7Y2FsY0NhbHN9IGtjYWwgY2FsYydkKSBkb2Vzbid0IG1hdGNoIGNhbG9yaWVzICgke2NhbHN9IGtjYWwpLiBWZXJpZnkgYWdhaW5zdCB0aGUgbnV0cml0aW9uIGxhYmVsIGJlZm9yZSBsb2dnaW5nLmA7CiAgICB9IGVsc2UgewogICAgICB3YXJuRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0KICB9CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb29kUmVzdWx0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7Cn0KCmZ1bmN0aW9uIGFkanVzdFNlcnZpbmdzKGRlbHRhKSB7CiAgc2VydmluZ3MgPSBNYXRoLm1heCgwLjUsIE1hdGgucm91bmQoKHNlcnZpbmdzICsgZGVsdGEpICogMTApIC8gMTApOwogIHJlbmRlckZvb2RSZXN1bHQoKTsKfQoKZnVuY3Rpb24gbG9nU2Nhbm5lZEZvb2QoKSB7CiAgaWYgKCFzY2FubmVkUHJvZHVjdCkgcmV0dXJuOwogIGNvbnN0IHAgPSBzY2FubmVkUHJvZHVjdDsKICBhZGRGb29kRW50cnkoewogICAgbmFtZTogICAgIHAubmFtZSwKICAgIGNhbG9yaWVzOiBNYXRoLnJvdW5kKHAuY2Fsb3JpZXMgKiBzZXJ2aW5ncyksCiAgICBwcm90ZWluOiAgTWF0aC5yb3VuZChwLnByb3RlaW4gICogc2VydmluZ3MgKiAxMCkgLyAxMCwKICAgIGNhcmJzOiAgICBNYXRoLnJvdW5kKHAuY2FyYnMgICAgKiBzZXJ2aW5ncyAqIDEwKSAvIDEwLAogICAgZmF0OiAgICAgIE1hdGgucm91bmQocC5mYXQgICAgICAqIHNlcnZpbmdzICogMTApIC8gMTAsCiAgICBpY29uOiAn8J+Pt++4jycsCiAgfSk7CiAgaWYgKHNlbGVjdGVkVGltZVNsb3QpIHsKICAgIHNhdmVGb29kVG9TbG90KHsgbmFtZTogcC5uYW1lLCBjYWxvcmllczogTWF0aC5yb3VuZChwLmNhbG9yaWVzICogc2VydmluZ3MpLCBwcm90ZWluOiBNYXRoLnJvdW5kKHAucHJvdGVpbiAqIHNlcnZpbmdzICogMTApLzEwLCBjYXJiczogTWF0aC5yb3VuZChwLmNhcmJzICogc2VydmluZ3MgKiAxMCkvMTAsIGZhdDogTWF0aC5yb3VuZChwLmZhdCAqIHNlcnZpbmdzICogMTApLzEwIH0sIHNlbGVjdGVkVGltZVNsb3QpOwogIH0KICBjbG9zZVNjYW5uZXIoKTsKICByZW5kZXJRdWlja1JlY3MoKTsKICBzaG93VG9hc3QoYOKchSAke3AubmFtZX0gbG9nZ2VkIWApOwp9CgpmdW5jdGlvbiBzdG9wQ2FtZXJhKCkgewogIHRyeSB7IGlmICh3aW5kb3cuUXVhZ2dhKSBRdWFnZ2Euc3RvcCgpOyB9IGNhdGNoKGUpIHt9CiAgaWYgKHNjYW5uZXJTdHJlYW0pIHsgc2Nhbm5lclN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHQgPT4gdC5zdG9wKCkpOyBzY2FubmVyU3RyZWFtID0gbnVsbDsgfQogIGlmIChzY2FubmVySW50ZXJ2YWwpIHsgY2xlYXJJbnRlcnZhbChzY2FubmVySW50ZXJ2YWwpOyBzY2FubmVySW50ZXJ2YWwgPSBudWxsOyB9Cn0KCmZ1bmN0aW9uIGNsb3NlU2Nhbm5lcigpIHsKICBzdG9wQ2FtZXJhKCk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYW5uZXJNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTsKfQoKYXN5bmMgZnVuY3Rpb24gb3BlblNjYW5uZXJDYW1lcmEoKSB7CiAgdHJ5IHsgYXdhaXQgc3RhcnRRdWFnZ2EoKTsgfSBjYXRjaChlKSB7fQp9CgovLyDilIDilIAgQUkgRm9vZCBTZWFyY2gg4pSA4pSACmxldCBhaVNlYXJjaFByb2R1Y3QgID0gbnVsbDsKbGV0IGFpU2VhcmNoU2VydmluZ3MgPSAxOwpjb25zdCBBTlRIUk9QSUNfQVBJX0tFWSA9ICdzay1hbnQtYXBpMDMtaTNCZE5TUkItYmRjWnBZQk9raERXS05VaE1ieS13bkpCanBNMnpUSmNsdVJidEZSemdyNjFPb005bzNVbWwtSVVMU0QwSmZId1o5djNYT1FXd3Y1bWcteWVlM2FBQUEnOwoKZnVuY3Rpb24gb3BlbkFJU2VhcmNoKCkgewogIGFpU2VhcmNoUHJvZHVjdCAgPSBudWxsOwogIGFpU2VhcmNoU2VydmluZ3MgPSAxOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaElucHV0JykudmFsdWUgPSAnJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hMb2FkaW5nJykuc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoUmVzdWx0cycpLnN0eWxlLmRpc3BsYXkgID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaFNlbGVjdGVkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hFeGFtcGxlcycpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7CiAgc2V0VGltZW91dCgoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hJbnB1dCcpLmZvY3VzKCksIDMwMCk7Cn0KCmZ1bmN0aW9uIGNsb3NlQUlTZWFyY2goKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7Cn0KCmZ1bmN0aW9uIHNldFNlYXJjaEV4YW1wbGUoYnRuKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoSW5wdXQnKS52YWx1ZSA9IGJ0bi50ZXh0Q29udGVudC5yZXBsYWNlKC9eW15cc10rXHMvLCcnKS50cmltKCk7CiAgcnVuQUlTZWFyY2goKTsKfQoKZnVuY3Rpb24gYmFja1RvQUlTZWFyY2goKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoU2VsZWN0ZWQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaFJlc3VsdHMnKS5zdHlsZS5kaXNwbGF5ICA9ICdibG9jayc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoRXhhbXBsZXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwp9Cgphc3luYyBmdW5jdGlvbiBydW5BSVNlYXJjaCgpIHsKICBjb25zdCBxdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaElucHV0JykudmFsdWUudHJpbSgpOwogIGlmICghcXVlcnkpIHsgc2hvd1RvYXN0KCfimqDvuI8gRGVzY3JpYmUgYSBmb29kIGZpcnN0Jyk7IHJldHVybjsgfQoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hFeGFtcGxlcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoUmVzdWx0cycpLnN0eWxlLmRpc3BsYXkgID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaFNlbGVjdGVkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hMb2FkaW5nJykuc3R5bGUuZGlzcGxheSAgPSAnYmxvY2snOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaExvYWRpbmdUZXh0JykudGV4dENvbnRlbnQgPSAnU2VhcmNoaW5nIFVTREEgZGF0YWJhc2XigKYnOwoKICB0cnkgewogICAgLy8g4pSA4pSAIFByaW1hcnk6IFVTREEgRm9vZERhdGEgQ2VudHJhbCAoZnJlZSwgbm8gQVBJIGtleSBsaW1pdHMpIOKUgOKUgAogICAgY29uc3QgdXNkYVVybCA9IGBodHRwczovL2FwaS5uYWwudXNkYS5nb3YvZmRjL3YxL2Zvb2RzL3NlYXJjaD9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JnBhZ2VTaXplPTEwJmFwaV9rZXk9JHtVU0RBX0FQSV9LRVl9YDsKICAgIGNvbnN0IHVzZGFSZXMgPSBhd2FpdCBmZXRjaCh1c2RhVXJsKTsKCiAgICBpZiAodXNkYVJlcy5vaykgewogICAgICBjb25zdCB1c2RhRGF0YSA9IGF3YWl0IHVzZGFSZXMuanNvbigpOwogICAgICBjb25zdCBmb29kcyA9ICh1c2RhRGF0YS5mb29kcyB8fCBbXSkubWFwKGYgPT4gewogICAgICAgIGNvbnN0IG51dHIgPSBuID0+IChmLmZvb2ROdXRyaWVudHMgfHwgW10pLmZpbmQoeCA9PiB4Lm51dHJpZW50SWQgPT09IG4gfHwgeC5udXRyaWVudE51bWJlciA9PT0gU3RyaW5nKG4pKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogICAgIGYuZGVzY3JpcHRpb24sCiAgICAgICAgICBicmFuZDogICAgZi5icmFuZE93bmVyIHx8IGYuYnJhbmROYW1lIHx8IGYuZGF0YVR5cGUgfHwgJycsCiAgICAgICAgICBzZXJ2aW5nOiAgZi5zZXJ2aW5nU2l6ZSA/IGAke2Yuc2VydmluZ1NpemV9JHtmLnNlcnZpbmdTaXplVW5pdCB8fCAnZyd9YCA6ICcxMDBnJywKICAgICAgICAgIGNhbG9yaWVzOiBNYXRoLnJvdW5kKG51dHIoMTAwOCk/LnZhbHVlIHx8IG51dHIoJzIwOCcpPy52YWx1ZSB8fCAwKSwKICAgICAgICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKChudXRyKDEwMDMpPy52YWx1ZSB8fCBudXRyKCcyMDMnKT8udmFsdWUgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgICAgIGNhcmJzOiAgICBNYXRoLnJvdW5kKChudXRyKDEwMDUpPy52YWx1ZSB8fCBudXRyKCcyMDUnKT8udmFsdWUgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgICAgIGZhdDogICAgICBNYXRoLnJvdW5kKChudXRyKDEwMDQpPy52YWx1ZSB8fCBudXRyKCcyMDQnKT8udmFsdWUgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgICAgIGNvbmZpZGVuY2U6ICdoaWdoJywKICAgICAgICAgIHNvdXJjZTogJ3VzZGEnLAogICAgICAgIH07CiAgICAgIH0pLmZpbHRlcihmID0+IGYuY2Fsb3JpZXMgPiAwKS5zbGljZSgwLCA4KTsKCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaExvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgaWYgKGZvb2RzLmxlbmd0aCA+IDApIHsKICAgICAgICByZW5kZXJBSVNlYXJjaFJlc3VsdHMoZm9vZHMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQoKICAgIC8vIOKUgOKUgCBGYWxsYmFjazogQ2xhdWRlIEFJIChvbmx5IGlmIFVTREEgcmV0dXJucyBub3RoaW5nKSDilIDilIAKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaExvYWRpbmdUZXh0JykudGV4dENvbnRlbnQgPSAnTm8gREIgcmVzdWx0cyDigJQgYXNraW5nIENsYXVkZSBBSeKApic7CgogICAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYSBwcmVjaXNlIG51dHJpdGlvbiBkYXRhYmFzZS4gVGhlIHVzZXIgaXMgc2VhcmNoaW5nIGZvcjogIiR7cXVlcnl9IgpSZXR1cm4gRVhBQ1RMWSAzIGZvb2Qgb3B0aW9ucyB0aGF0IGJlc3QgbWF0Y2guIFJlc3BvbmQgT05MWSB3aXRoIHZhbGlkIEpTT04gKG5vIG1hcmtkb3duKToKeyJyZXN1bHRzIjpbeyJuYW1lIjoiRnVsbCBmb29kIG5hbWUiLCJicmFuZCI6IkJyYW5kIG9yIEdlbmVyaWMiLCJzZXJ2aW5nIjoic2VydmluZyBkZXNjcmlwdGlvbiIsImNhbG9yaWVzIjowLCJwcm90ZWluIjowLCJjYXJicyI6MCwiZmF0IjowLCJjb25maWRlbmNlIjoiaGlnaCJ9XX0KUnVsZXM6IEFsbCBtYWNyb3MgcGVyIHNlcnZpbmcuIFVzZSByZWFsIG51dHJpdGlvbmFsIGRhdGEuIGNvbmZpZGVuY2U6IGhpZ2gvbWVkaXVtL2xvdy5gOwoKICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCgnL2FwaS9jbGF1ZGUnLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAneC1hcGkta2V5JzogQU5USFJPUElDX0tFWSwKICAgICAgICAnYW50aHJvcGljLXZlcnNpb24nOiAnMjAyMy0wNi0wMScsCiAgICAgICAgJ2FudGhyb3BpYy1kYW5nZXJvdXMtZGlyZWN0LWJyb3dzZXItYWNjZXNzJzogJ3RydWUnLAogICAgICB9LAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgbW9kZWw6ICdjbGF1ZGUtaGFpa3UtNC01LTIwMjUxMDAxJywgLy8gVXNlIEhhaWt1IOKAlCBmYXN0ZXIsIGNoZWFwZXIsIGxlc3Mgb3ZlcmxvYWRlZAogICAgICAgIG1heF90b2tlbnM6IDYwMCwKICAgICAgICBtZXNzYWdlczogW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfV0sCiAgICAgIH0pLAogICAgfSk7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoTG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgogICAgaWYgKCFyZXNwLm9rKSB7CiAgICAgIGNvbnN0IGVyckRhdGEgPSBhd2FpdCByZXNwLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTsKICAgICAgY29uc3QgbXNnID0gZXJyRGF0YT8uZXJyb3I/Lm1lc3NhZ2UgfHwgYEFQSSBlcnJvciAke3Jlc3Auc3RhdHVzfWA7CiAgICAgIHNob3dUb2FzdChg4pqg77iPICR7cmVzcC5zdGF0dXMgPT09IDUyOSA/ICdBUEkgb3ZlcmxvYWRlZCDigJQgdHJ5IGFnYWluIGluIGEgbW9tZW50JyA6IG1zZ31gKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoTG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaEV4YW1wbGVzJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLmpzb24oKTsKICAgIGNvbnN0IHRleHQgPSBkYXRhLmNvbnRlbnRbMF0udGV4dC50cmltKCk7CiAgICBjb25zdCBqc29uTWF0Y2ggPSB0ZXh0Lm1hdGNoKC9ce1tcc1xTXSpcfS8pOwogICAgaWYgKCFqc29uTWF0Y2gpIHRocm93IG5ldyBFcnJvcignTm8gSlNPTiBpbiByZXNwb25zZScpOwogICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pOwogICAgcmVuZGVyQUlTZWFyY2hSZXN1bHRzKChwYXJzZWQucmVzdWx0cyB8fCBbXSkubWFwKHIgPT4gKHsgLi4uciwgc291cmNlOiAnYWknIH0pKSk7CgogIH0gY2F0Y2ggKGVycikgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoTG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hFeGFtcGxlcycpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICBzaG93VG9hc3QoJ+KaoO+4jyBTZWFyY2ggZmFpbGVkIOKAlCBjaGVjayB5b3VyIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2FpbicpOwogICAgY29uc29sZS5lcnJvcihlcnIpOwogIH0KfQoKZnVuY3Rpb24gcmVuZGVyQUlTZWFyY2hSZXN1bHRzKHJlc3VsdHMpIHsKICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7CiAgICBzaG93VG9hc3QoJ05vIHJlc3VsdHMgZm91bmQg4oCUIHRyeSBhIGRpZmZlcmVudCBkZXNjcmlwdGlvbicpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoRXhhbXBsZXMnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgcmV0dXJuOwogIH0KCiAgY29uc3QgY29uZkljb24gPSB7IGhpZ2g6ICfinIUnLCBtZWRpdW06ICfwn5+hJywgbG93OiAn4pqqJyB9OwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hSZXN1bHRzTGlzdCcpLmlubmVySFRNTCA9IHJlc3VsdHMubWFwKChyLCBpKSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJzZWFyY2gtcmVzdWx0LWl0ZW0iIG9uY2xpY2s9InNlbGVjdEFJU2VhcmNoUmVzdWx0KCR7aX0pIj4KICAgICAgPGRpdiBzdHlsZT0iZmxleDoxIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZWFyY2gtcmVzdWx0LW5hbWUiPiR7ci5uYW1lfTwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC1yZXN1bHQtbWFjcm9zIj4ke3IuYnJhbmQgPyByLmJyYW5kICsgJyDCtyAnIDogJyd9JHtyLnNlcnZpbmd9PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VhcmNoLXJlc3VsdC1tYWNyb3MiIHN0eWxlPSJtYXJnaW4tdG9wOjNweCI+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6I2Y1OWUwYjtmb250LXdlaWdodDo3MDAiPiR7ci5jYWxvcmllc30ga2NhbDwvc3Bhbj4gwrcKICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojMjJjNTVlIj5QICR7ci5wcm90ZWlufWc8L3NwYW4+IMK3CiAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6IzNiODJmNiI+QyAke3IuY2FyYnN9Zzwvc3Bhbj4gwrcKICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojZWY0NDQ0Ij5GICR7ci5mYXR9Zzwvc3Bhbj4KICAgICAgICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tbGVmdDo2cHg7Zm9udC1zaXplOjlweDtiYWNrZ3JvdW5kOiR7ci5zb3VyY2U9PT0ndXNkYSc/JyMwZDFlM2QnOicjMWExMDMwJ307Y29sb3I6JHtyLnNvdXJjZT09PSd1c2RhJz8nIzYwYTVmYSc6JyNhNzhiZmEnfTtwYWRkaW5nOjJweCA2cHg7Ym9yZGVyLXJhZGl1czo4cHg7Zm9udC13ZWlnaHQ6NzAwIj4ke3Iuc291cmNlPT09J3VzZGEnPydVU0RBJzonQUknfTwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC1yZXN1bHQtYXJyb3ciPuKAujwvZGl2PgogICAgPC9kaXY+YCkuam9pbignJyk7CgogIHdpbmRvdy5fYWlTZWFyY2hSZXN1bHRzID0gcmVzdWx0czsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hSZXN1bHRzJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7Cn0KCmZ1bmN0aW9uIHNlbGVjdEFJU2VhcmNoUmVzdWx0KGlkeCkgewogIGNvbnN0IHIgPSB3aW5kb3cuX2FpU2VhcmNoUmVzdWx0c1tpZHhdOwogIGFpU2VhcmNoUHJvZHVjdCAgPSByOwogIGFpU2VhcmNoU2VydmluZ3MgPSAxOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hSZXN1bHRzJykuc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7CiAgcmVuZGVyQUlTZWFyY2hGb29kQ2FyZCgpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNlYXJjaFNlbGVjdGVkJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoU2VydmluZ3NWYWwnKS50ZXh0Q29udGVudCA9ICcxJzsKfQoKZnVuY3Rpb24gcmVuZGVyQUlTZWFyY2hGb29kQ2FyZCgpIHsKICBpZiAoIWFpU2VhcmNoUHJvZHVjdCkgcmV0dXJuOwogIGNvbnN0IHAgPSBhaVNlYXJjaFByb2R1Y3Q7CiAgY29uc3QgcyA9IGFpU2VhcmNoU2VydmluZ3M7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU2VhcmNoRm9vZENhcmQnKS5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJmb29kLW5hbWUiPiR7cC5uYW1lfTwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9vZC1icmFuZCI+JHtwLmJyYW5kfSDCtyAke3Auc2VydmluZ30gcGVyIHNlcnZpbmc8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm9zIj4KICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtdmFsIiBzdHlsZT0iY29sb3I6I2Y1OWUwYiI+JHtNYXRoLnJvdW5kKHAuY2Fsb3JpZXMqcyl9PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLWxibCI+a2NhbDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtdmFsIiBzdHlsZT0iY29sb3I6IzIyYzU1ZSI+JHsocC5wcm90ZWluKnMpLnRvRml4ZWQoMSl9ZzwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC1sYmwiPnByb3RlaW48L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcCI+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLXZhbCIgc3R5bGU9ImNvbG9yOiMzYjgyZjYiPiR7KHAuY2FyYnMqcykudG9GaXhlZCgxKX1nPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLWxibCI+Y2FyYnM8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcCI+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLXZhbCIgc3R5bGU9ImNvbG9yOiNlZjQ0NDQiPiR7KHAuZmF0KnMpLnRvRml4ZWQoMSl9ZzwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC1sYmwiPmZhdDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PmA7Cn0KCmZ1bmN0aW9uIGFkanVzdEFJU2VhcmNoU2VydmluZ3MoZGVsdGEpIHsKICBhaVNlYXJjaFNlcnZpbmdzID0gTWF0aC5tYXgoMC41LCBNYXRoLnJvdW5kKChhaVNlYXJjaFNlcnZpbmdzICsgZGVsdGEpICogMikgLyAyKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlTZWFyY2hTZXJ2aW5nc1ZhbCcpLnRleHRDb250ZW50ID0gYWlTZWFyY2hTZXJ2aW5nczsKICByZW5kZXJBSVNlYXJjaEZvb2RDYXJkKCk7Cn0KCmZ1bmN0aW9uIGxvZ0FJU2VhcmNoRm9vZCgpIHsKICBpZiAoIWFpU2VhcmNoUHJvZHVjdCkgcmV0dXJuOwogIGNvbnN0IHAgPSBhaVNlYXJjaFByb2R1Y3Q7CiAgY29uc3QgcyA9IGFpU2VhcmNoU2VydmluZ3M7CiAgYWRkRm9vZEVudHJ5KHsKICAgIG5hbWU6ICAgICBgJHtwLm5hbWV9JHtzICE9PSAxID8gJyDDlycrcyA6ICcnfWAsCiAgICBjYWxvcmllczogTWF0aC5yb3VuZChwLmNhbG9yaWVzICogcyksCiAgICBwcm90ZWluOiAgTWF0aC5yb3VuZChwLnByb3RlaW4gICogcyAqIDEwKSAvIDEwLAogICAgY2FyYnM6ICAgIE1hdGgucm91bmQocC5jYXJicyAgICAqIHMgKiAxMCkgLyAxMCwKICAgIGZhdDogICAgICBNYXRoLnJvdW5kKHAuZmF0ICAgICAgKiBzICogMTApIC8gMTAsCiAgICBpY29uOiAn8J+UjScsCiAgfSk7CiAgY2xvc2VBSVNlYXJjaCgpOwogIHNob3dUb2FzdChg4pyFICR7cC5uYW1lfSBsb2dnZWQhYCk7Cn0KCi8vIOKUgOKUgCBBSSBQaG90byBNYWNybyBFc3RpbWF0b3Ig4pSA4pSACmxldCBwaG90b0Jhc2U2NCA9IG51bGw7CmxldCBhaVByb2R1Y3QgPSBudWxsOwpsZXQgYWlTZXJ2aW5ncyA9IDE7CmxldCBhaVNlbGVjdGVkU2xvdCA9IG51bGw7CgpmdW5jdGlvbiBvcGVuUGhvdG9BSSgpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9Nb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTsKICByZXNldFBob3RvKCk7CiAgLy8gQXV0by1zZWxlY3QgY3VycmVudCB0aW1lIHNsb3QKICBjb25zdCBzbG90ID0gZ2V0VGltZVNsb3QoKTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjYWlUaW1lU2xvdFBpY2tlciAudHMtYnRuJykuZm9yRWFjaChiID0+IHsKICAgIGIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgYi5kYXRhc2V0LnNsb3QgPT09IHNsb3QpOwogIH0pOwogIGFpU2VsZWN0ZWRTbG90ID0gc2xvdDsKfQoKZnVuY3Rpb24gY2xvc2VQaG90b01vZGFsKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b01vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwogIHJlc2V0UGhvdG8oKTsKfQoKZnVuY3Rpb24gdHJpZ2dlckNhbWVyYSgpIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYUlucHV0JykuY2xpY2soKTsgfQpmdW5jdGlvbiB0cmlnZ2VyR2FsbGVyeSgpIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbGxlcnlJbnB1dCcpLmNsaWNrKCk7IH0KCmZ1bmN0aW9uIGhhbmRsZVBob3RvSW5wdXQoaW5wdXQpIHsKICBjb25zdCBmaWxlID0gaW5wdXQuZmlsZXNbMF07CiAgaWYgKCFmaWxlKSByZXR1cm47CiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICBjb25zdCBkYXRhVXJsID0gZS50YXJnZXQucmVzdWx0OwogICAgLy8gc3RyaXAgcHJlZml4IHRvIGdldCBwdXJlIGJhc2U2NAogICAgcGhvdG9CYXNlNjQgPSBkYXRhVXJsLnNwbGl0KCcsJylbMV07CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9QcmV2aWV3Jykuc3JjID0gZGF0YVVybDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1ByZXZpZXdXcmFwJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9QbGFjZWhvbGRlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5hbHl6ZUJ0bicpLmRpc2FibGVkID0gZmFsc2U7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5hbHl6ZUJ0bicpLnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgfTsKICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAvLyByZXNldCBpbnB1dCBzbyBzYW1lIGZpbGUgY2FuIGJlIHJlc2VsZWN0ZWQKICBpbnB1dC52YWx1ZSA9ICcnOwp9CgpmdW5jdGlvbiByZXNldFBob3RvKCkgewogIHBob3RvQmFzZTY0ID0gbnVsbDsKICBhaVByb2R1Y3QgPSBudWxsOwogIGFpU2VydmluZ3MgPSAxOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1ByZXZpZXdXcmFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9QbGFjZWhvbGRlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmFseXplQnRuJykuZGlzYWJsZWQgPSB0cnVlOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmFseXplQnRuJykuc3R5bGUub3BhY2l0eSA9ICcwLjQnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b0hpbnQnKS52YWx1ZSA9ICcnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1N0ZXAxJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob3RvU3RlcDInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1N0ZXAzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKfQoKY29uc3QgQUlfTE9BRElOR19NU0dTID0gWwogICdJZGVudGlmeWluZyBpbmdyZWRpZW50cyBhbmQgZXN0aW1hdGluZyBwb3J0aW9uc+KApicsCiAgJ0NoZWNraW5nIHByb3RlaW4gY29udGVudOKApicsCiAgJ0VzdGltYXRpbmcgY2FyYm9oeWRyYXRlc+KApicsCiAgJ0NhbGN1bGF0aW5nIGNhbG9yaWVz4oCmJywKICAnRmluYWxpc2luZyBtYWNybyBicmVha2Rvd27igKYnLApdOwoKYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZVBob3RvKCkgewogIGlmICghcGhvdG9CYXNlNjQpIHJldHVybjsKCiAgLy8gU2hvdyBsb2FkaW5nIHN0ZXAKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9TdGVwMScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob3RvU3RlcDInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgLy8gQ3ljbGUgbG9hZGluZyBtZXNzYWdlcwogIGxldCBtc2dJZHggPSAwOwogIGNvbnN0IG1zZ0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpTG9hZGluZ01zZycpOwogIGNvbnN0IG1zZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgbXNnSWR4ID0gKG1zZ0lkeCArIDEpICUgQUlfTE9BRElOR19NU0dTLmxlbmd0aDsKICAgIG1zZ0VsLnRleHRDb250ZW50ID0gQUlfTE9BRElOR19NU0dTW21zZ0lkeF07CiAgfSwgMTgwMCk7CgogIGNvbnN0IGhpbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9IaW50JykudmFsdWUudHJpbSgpOwogIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGEgcHJlY2lzZSBzcG9ydHMgbnV0cml0aW9uIGV4cGVydC4gQW5hbHlzZSB0aGlzIGZvb2QgcGhvdG8gYW5kIGVzdGltYXRlIHRoZSBtYWNyb3MuCiR7aGludCA/IGBUaGUgdXNlciBzYXlzOiAiJHtoaW50fSJgIDogJyd9CgpJZGVudGlmeSBldmVyeSBmb29kIGl0ZW0gdmlzaWJsZSwgZXN0aW1hdGUgcmVhbGlzdGljIHBvcnRpb24gc2l6ZXMgZm9yIGEgdHlwaWNhbCBzZXJ2aW5nIHNob3duLCBhbmQgcmV0dXJuIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB3aXRoIE5PIGV4dHJhIHRleHQsIG1hcmtkb3duLCBvciBleHBsYW5hdGlvbjoKCnsKICAibWVhbF9uYW1lIjogIlNob3J0IGRlc2NyaXB0aXZlIG5hbWUgKGUuZy4gR3JpbGxlZCBDaGlja2VuICYgUmljZSBCb3dsKSIsCiAgImRlc2NyaXB0aW9uIjogIjItMyBzZW50ZW5jZSBicmVha2Rvd24gb2Ygd2hhdCB5b3Ugc2VlLCBwb3J0aW9uIHNpemVzLCBhbmQgYW55IGFzc3VtcHRpb25zIG1hZGUiLAogICJjYWxvcmllcyI6IDxpbnRlZ2VyLCB0b3RhbCBrY2FsPiwKICAicHJvdGVpbiI6IDxudW1iZXIsIGdyYW1zLCAxIGRlY2ltYWw+LAogICJjYXJicyI6IDxudW1iZXIsIGdyYW1zLCAxIGRlY2ltYWw+LAogICJmYXQiOiA8bnVtYmVyLCBncmFtcywgMSBkZWNpbWFsPiwKICAiY29uZmlkZW5jZSI6ICJoaWdoIiB8ICJtZWRpdW0iIHwgImxvdyIKfQoKQmUgcmVhbGlzdGljLiBBIGNoaWNrZW4gYnJlYXN0IGlzIH4zMGcgcHJvdGVpbi4gQSBjdXAgb2YgcmljZSBpcyB+NDVnIGNhcmJzLiBFcnIgdG93YXJkIGFjY3VyYWN5IG92ZXIgb3B0aW1pc20uYDsKCiAgdHJ5IHsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxL21lc3NhZ2VzJywgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ3gtYXBpLWtleSc6ICdzay1hbnQtYXBpMDMtaTNCZE5TUkItYmRjWnBZQk9raERXS05VaE1ieS13bkpCanBNMnpUSmNsdVJidEZSemdyNjFPb005bzNVbWwtSVVMU0QwSmZId1o5djNYT1FXd3Y1bWcteWVlM2FBQUEnLAogICAgICAgICdhbnRocm9waWMtdmVyc2lvbic6ICcyMDIzLTA2LTAxJywKICAgICAgICAnYW50aHJvcGljLWRhbmdlcm91cy1kaXJlY3QtYnJvd3Nlci1hY2Nlc3MnOiAndHJ1ZScsCiAgICAgIH0sCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBtb2RlbDogJ2NsYXVkZS1vcHVzLTQtNScsCiAgICAgICAgbWF4X3Rva2VuczogMTAyNCwKICAgICAgICBtZXNzYWdlczogW3sKICAgICAgICAgIHJvbGU6ICd1c2VyJywKICAgICAgICAgIGNvbnRlbnQ6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsCiAgICAgICAgICAgICAgc291cmNlOiB7IHR5cGU6ICdiYXNlNjQnLCBtZWRpYV90eXBlOiAnaW1hZ2UvanBlZycsIGRhdGE6IHBob3RvQmFzZTY0IH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIHRleHQ6IHByb21wdCB9CiAgICAgICAgICBdCiAgICAgICAgfV0KICAgICAgfSkKICAgIH0pOwoKICAgIGNsZWFySW50ZXJ2YWwobXNnSW50ZXJ2YWwpOwogICAgY29uc29sZS5sb2coJ1Byb3h5IHJlc3BvbnNlIHN0YXR1czonLCByZXMuc3RhdHVzKTsKCiAgICBpZiAoIXJlcy5vaykgewogICAgICBjb25zdCBlcnJUZXh0ID0gYXdhaXQgcmVzLnRleHQoKTsKICAgICAgY29uc29sZS5lcnJvcignUHJveHkgZXJyb3IgYm9keTonLCBlcnJUZXh0KTsKICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm94eSByZXR1cm5lZCAke3Jlcy5zdGF0dXN9OiAke2VyclRleHQuc2xpY2UoMCwgMjAwKX1gKTsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgIGNvbnNvbGUubG9nKCdBUEkgcmVzcG9uc2U6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSkuc2xpY2UoMCwgNTAwKSk7CiAgICBjb25zdCByYXdUZXh0ID0gZGF0YS5jb250ZW50LmZpbmQoYiA9PiBiLnR5cGUgPT09ICd0ZXh0Jyk/LnRleHQgfHwgJyc7CgogICAgLy8gUGFyc2UgSlNPTiDigJQgc3RyaXAgYW55IGFjY2lkZW50YWwgbWFya2Rvd24gZmVuY2VzCiAgICBjb25zdCBjbGVhbmVkID0gcmF3VGV4dC5yZXBsYWNlKC9gYGBqc29ufGBgYC9nLCAnJykudHJpbSgpOwogICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShjbGVhbmVkKTsKCiAgICBhaVByb2R1Y3QgPSB7CiAgICAgIG5hbWU6IHBhcnNlZC5tZWFsX25hbWUgfHwgJ01lYWwnLAogICAgICBkZXNjcmlwdGlvbjogcGFyc2VkLmRlc2NyaXB0aW9uIHx8ICcnLAogICAgICBjYWxvcmllczogTWF0aC5yb3VuZChwYXJzZWQuY2Fsb3JpZXMgfHwgMCksCiAgICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKChwYXJzZWQucHJvdGVpbiAgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgY2FyYnM6ICAgIE1hdGgucm91bmQoKHBhcnNlZC5jYXJicyAgICB8fCAwKSAqIDEwKSAvIDEwLAogICAgICBmYXQ6ICAgICAgTWF0aC5yb3VuZCgocGFyc2VkLmZhdCAgICAgIHx8IDApICogMTApIC8gMTAsCiAgICAgIGNvbmZpZGVuY2U6IHBhcnNlZC5jb25maWRlbmNlIHx8ICdtZWRpdW0nLAogICAgfTsKICAgIGFpU2VydmluZ3MgPSAxOwogICAgcmVuZGVyQUlSZXN1bHQoKTsKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBjbGVhckludGVydmFsKG1zZ0ludGVydmFsKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1N0ZXAyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1N0ZXAxJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG9QcmV2aWV3V3JhcCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob3RvUGxhY2Vob2xkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuYWx5emVCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuYWx5emVCdG4nKS5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgc2hvd1RvYXN0KCfinYwgQUkgZXJyb3I6ICcgKyAoZXJyLm1lc3NhZ2UgfHwgJ1RyeSBhZ2FpbicpKTsKICB9Cn0KCmZ1bmN0aW9uIHJlbmRlckFJUmVzdWx0KCkgewogIGNvbnN0IHAgPSBhaVByb2R1Y3Q7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob3RvU3RlcDInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90b1N0ZXAzJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogIGNvbnN0IGNvbmZDb2xvciA9IHsgaGlnaDogJyMyMmM1NWUnLCBtZWRpdW06ICcjZjU5ZTBiJywgbG93OiAnI2VmNDQ0NCcgfVtwLmNvbmZpZGVuY2VdIHx8ICcjZDk3NzA2JzsKICBjb25zdCBjb25mTGFiZWwgPSB7IGhpZ2g6ICfinIUgSGlnaCBjb25maWRlbmNlJywgbWVkaXVtOiAn4pqg77iPIE1lZGl1bSBjb25maWRlbmNlJywgbG93OiAn4pqg77iPIExvdyBjb25maWRlbmNlIOKAlCBhZGQgYSBoaW50IGZvciBiZXR0ZXIgYWNjdXJhY3knIH1bcC5jb25maWRlbmNlXSB8fCAnJzsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpTWVhbE5hbWUnKS50ZXh0Q29udGVudCA9IHAubmFtZTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlNZWFsRGVzYycpLmlubmVySFRNTCA9CiAgICBgPHNwYW4gc3R5bGU9ImNvbG9yOiR7Y29uZkNvbG9yfTtmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOjExcHgiPiR7Y29uZkxhYmVsfTwvc3Bhbj48YnI+JHtwLmRlc2NyaXB0aW9ufWA7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpU3J2VmFsJykudGV4dENvbnRlbnQgPSBhaVNlcnZpbmdzOwogIHJlbmRlckFJTWFjcm9DaGlwcygpOwp9CgpmdW5jdGlvbiByZW5kZXJBSU1hY3JvQ2hpcHMoKSB7CiAgY29uc3QgcCA9IGFpUHJvZHVjdDsKICBjb25zdCBzID0gYWlTZXJ2aW5nczsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlNZWFsTWFjcm9zJykuaW5uZXJIVE1MID0gWwogICAgeyBsYWJlbDogJ0NhbG9yaWVzJywgdmFsOiBNYXRoLnJvdW5kKHAuY2Fsb3JpZXMgKiBzKSwgICAgICAgICAgICAgICAgICAgIHVuaXQ6ICdrY2FsJywgY29sb3I6ICcjZjU5ZTBiJyB9LAogICAgeyBsYWJlbDogJ1Byb3RlaW4nLCAgdmFsOiBNYXRoLnJvdW5kKHAucHJvdGVpbiAgKiBzICogMTApIC8gMTAsICAgICAgICAgIHVuaXQ6ICdnJywgICAgY29sb3I6ICcjMjJjNTVlJyB9LAogICAgeyBsYWJlbDogJ0NhcmJzJywgICAgdmFsOiBNYXRoLnJvdW5kKHAuY2FyYnMgICAgKiBzICogMTApIC8gMTAsICAgICAgICAgIHVuaXQ6ICdnJywgICAgY29sb3I6ICcjM2I4MmY2JyB9LAogICAgeyBsYWJlbDogJ0ZhdCcsICAgICAgdmFsOiBNYXRoLnJvdW5kKHAuZmF0ICAgICAgKiBzICogMTApIC8gMTAsICAgICAgICAgIHVuaXQ6ICdnJywgICAgY29sb3I6ICcjZWY0NDQ0JyB9LAogIF0ubWFwKG0gPT4gYAogICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwIj4KICAgICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLXZhbCIgc3R5bGU9ImNvbG9yOiR7bS5jb2xvcn0iPiR7bS52YWx9PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC1sYmwiPiR7bS5sYWJlbH08L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjlweDtjb2xvcjp2YXIoLS10ZXh0MykiPiR7bS51bml0fTwvZGl2PgogICAgPC9kaXY+YCkuam9pbignJyk7Cn0KCmZ1bmN0aW9uIGFkanVzdEFJU2VydmluZ3MoZGVsdGEpIHsKICBhaVNlcnZpbmdzID0gTWF0aC5tYXgoMC4yNSwgTWF0aC5yb3VuZCgoYWlTZXJ2aW5ncyArIGRlbHRhKSAqIDEwMCkgLyAxMDApOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaVNydlZhbCcpLnRleHRDb250ZW50ID0gYWlTZXJ2aW5ncyAlIDEgPT09IDAgPyBhaVNlcnZpbmdzIDogYWlTZXJ2aW5ncy50b0ZpeGVkKDIpLnJlcGxhY2UoL1wuPzArJC8sICcnKTsKICByZW5kZXJBSU1hY3JvQ2hpcHMoKTsKfQoKZnVuY3Rpb24gbG9nQUlGb29kKCkgewogIGlmICghYWlQcm9kdWN0KSByZXR1cm47CiAgY29uc3QgcCA9IGFpUHJvZHVjdDsKICBjb25zdCBzID0gYWlTZXJ2aW5nczsKICBhZGRGb29kRW50cnkoewogICAgbmFtZTogICAgIHAubmFtZSwKICAgIGNhbG9yaWVzOiBNYXRoLnJvdW5kKHAuY2Fsb3JpZXMgKiBzKSwKICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKHAucHJvdGVpbiAgKiBzICogMTApIC8gMTAsCiAgICBjYXJiczogICAgTWF0aC5yb3VuZChwLmNhcmJzICAgICogcyAqIDEwKSAvIDEwLAogICAgZmF0OiAgICAgIE1hdGgucm91bmQocC5mYXQgICAgICAqIHMgKiAxMCkgLyAxMCwKICAgIGljb246ICfwn6SWJywKICB9KTsKICBpZiAoYWlTZWxlY3RlZFNsb3QpIHsKICAgIHNhdmVGb29kVG9TbG90KHsgbmFtZTogcC5uYW1lLCBjYWxvcmllczogTWF0aC5yb3VuZChwLmNhbG9yaWVzKnMpLCBwcm90ZWluOiBNYXRoLnJvdW5kKHAucHJvdGVpbipzKjEwKS8xMCwgY2FyYnM6IE1hdGgucm91bmQocC5jYXJicypzKjEwKS8xMCwgZmF0OiBNYXRoLnJvdW5kKHAuZmF0KnMqMTApLzEwIH0sIGFpU2VsZWN0ZWRTbG90KTsKICB9CiAgY2xvc2VQaG90b01vZGFsKCk7CiAgcmVuZGVyUXVpY2tSZWNzKCk7CiAgc2hvd1RvYXN0KGDinIUgJHtwLm5hbWV9IGxvZ2dlZCFgKTsKfQoKLy8g4pSA4pSAIFNldHRpbmdzIOKUgOKUgApmdW5jdGlvbiBvcGVuU2V0dGluZ3MoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdzTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7CiAgY29uc3QgY3JlZHMgPSBnZXRTdG9yYWdlKCdnYXJtaW5DcmVkcycsIG51bGwpOwogIGlmIChjcmVkcykgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pbktleScpLnZhbHVlICAgID0gY3JlZHMua2V5ICAgIHx8ICcnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pblNlY3JldCcpLnZhbHVlID0gY3JlZHMuc2VjcmV0IHx8ICcnOwogIH0KICBjb25zdCBnb2FscyA9IGdldFN0b3JhZ2UoJ3VzZXJHb2FscycsIHt9KTsKICBpZiAoZ29hbHMud2VpZ2h0KSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ1dlaWdodCcpLnZhbHVlICAgICA9IGdvYWxzLndlaWdodDsKICBpZiAoZ29hbHMuZ29hbCkgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ0dvYWxXZWlnaHQnKS52YWx1ZSA9IGdvYWxzLmdvYWw7CiAgLy8gUG9wdWxhdGUgbWFjcm8gZmllbGRzCiAgY29uc3Qgc2F2ZWRNYWNyb3MgPSBnZXRTdG9yYWdlKCd1c2VyTWFjcm9zJywgbnVsbCkgfHwgTUFDUk9TOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nQ2Fsb3JpZXMnKS52YWx1ZSA9IHNhdmVkTWFjcm9zLmNhbG9yaWVzOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nUHJvdGVpbicpLnZhbHVlICA9IHNhdmVkTWFjcm9zLnByb3RlaW47CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdDYXJicycpLnZhbHVlICAgID0gc2F2ZWRNYWNyb3MuY2FyYnM7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdGYXQnKS52YWx1ZSAgICAgID0gc2F2ZWRNYWNyb3MuZmF0OwogIC8vIFBvcHVsYXRlIFRERUUKICBjb25zdCBzYXZlZFRERUUgPSBnZXRTdG9yYWdlKCd1c2VyVERFRScsIG51bGwpIHx8IFRERUU7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdUREVFJykudmFsdWUgPSBzYXZlZFRERUU7CiAgLy8gUmVzZXQgYXV0by1jYWxjIHJlc3VsdAogIGNvbnN0IHJlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZGVlQ2FsY1Jlc3VsdCcpOwogIGlmIChyZXMpIHsgcmVzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IHJlcy5pbm5lckhUTUwgPSAnJzsgfQogIHVwZGF0ZUdhcm1pblNldHRpbmdzVUkoKTsKICB1cGRhdGVTdHJhdmFTZXR0aW5nc1VJKCk7Cn0KZnVuY3Rpb24gY2xvc2VTZXR0aW5ncygpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ3NNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTsKfQpmdW5jdGlvbiBzYXZlR29hbFNldHRpbmdzKCkgewogIGNvbnN0IHcgICA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nV2VpZ2h0JykudmFsdWUpICAgICB8fCAxNzA7CiAgY29uc3QgZyAgID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdHb2FsV2VpZ2h0JykudmFsdWUpIHx8IDE2MzsKICBjb25zdCBjYWwgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ0NhbG9yaWVzJykudmFsdWUpICAgfHwgTUFDUk9TLmNhbG9yaWVzOwogIGNvbnN0IHBybyA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nUHJvdGVpbicpLnZhbHVlKSAgICB8fCBNQUNST1MucHJvdGVpbjsKICBjb25zdCBjcmIgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ0NhcmJzJykudmFsdWUpICAgICAgfHwgTUFDUk9TLmNhcmJzOwogIGNvbnN0IGZhdCA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nRmF0JykudmFsdWUpICAgICAgICB8fCBNQUNST1MuZmF0OwogIGNvbnN0IHRkZWUgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ1RERUUnKS52YWx1ZSkgICAgICB8fCBUREVFOwogIHNldFN0b3JhZ2UoJ3VzZXJHb2FscycsICB7IHdlaWdodDogdywgZ29hbDogZyB9KTsKICBzZXRTdG9yYWdlKCd1c2VyTWFjcm9zJywgeyBjYWxvcmllczogY2FsLCBwcm90ZWluOiBwcm8sIGNhcmJzOiBjcmIsIGZhdDogZmF0IH0pOwogIHNldFN0b3JhZ2UoJ3VzZXJUREVFJywgICB0ZGVlKTsKICByZW5kZXJSaW5ncygpOwogIHJlbmRlclByb3RlaW5QYWNlKCk7CiAgcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwogIHVwZGF0ZU1hY3JvVGFyZ2V0c1JvdygpOwogIHNob3dUb2FzdCgn4pyFIEdvYWxzICYgbWFjcm9zIHNhdmVkIScpOwp9CgpmdW5jdGlvbiBhdXRvQ2FsY1RERUUoKSB7CiAgY29uc3QgcmVzdWx0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGRlZUNhbGNSZXN1bHQnKTsKICAvLyBOZWVkIGF0IGxlYXN0IDcgZGF5cyBvZiBib3RoIGZvb2QgbG9nIGFuZCB3ZWlnaHQgZW50cmllcwogIGNvbnN0IG1hY3JvTG9nICAgICA9IGdldFN0b3JhZ2UoJ21hY3JvTG9nJywge30pOwogIGNvbnN0IHdlaWdodEVudHJpZXMgPSBnZXRTdG9yYWdlKCd3ZWlnaHRFbnRyaWVzJywgW10pLnNvcnQoKGEsYikgPT4gYS5kYXRlID4gYi5kYXRlID8gMSA6IC0xKTsKICBjb25zdCBidXJuTG9nICAgICAgPSBnZXRTdG9yYWdlKCdidXJuTG9nJywge30pOwoKICBpZiAod2VpZ2h0RW50cmllcy5sZW5ndGggPCAyKSB7CiAgICByZXN1bHRFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlc3VsdEVsLmlubmVySFRNTCA9ICfimqDvuI8gTmVlZCBhdCBsZWFzdCAyIHdlaWdodCBlbnRyaWVzIHRvIGNhbGN1bGF0ZS4gS2VlcCBsb2dnaW5nIHlvdXIgd2VpZ2h0IGRhaWx5IGFuZCBjb21lIGJhY2sgaW4gYSB3ZWVrLic7CiAgICByZXR1cm47CiAgfQoKICAvLyBVc2UgZW50cmllcyB3aXRoaW4gbGFzdCAzMCBkYXlzIHRoYXQgaGF2ZSBib3RoIGZvb2QgKyB3ZWlnaHQgZGF0YQogIGNvbnN0IGN1dG9mZiA9IG5ldyBEYXRlKCk7IGN1dG9mZi5zZXREYXRlKGN1dG9mZi5nZXREYXRlKCkgLSAzMCk7CiAgY29uc3QgcmVjZW50V2VpZ2h0cyA9IHdlaWdodEVudHJpZXMuZmlsdGVyKGUgPT4gbmV3IERhdGUoZS5kYXRlKSA+PSBjdXRvZmYpOwogIGlmIChyZWNlbnRXZWlnaHRzLmxlbmd0aCA8IDIpIHsKICAgIHJlc3VsdEVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgcmVzdWx0RWwuaW5uZXJIVE1MID0gJ+KaoO+4jyBOZWVkIG1vcmUgcmVjZW50IHdlaWdodCBlbnRyaWVzLiBMb2cgeW91ciB3ZWlnaHQgZm9yIGF0IGxlYXN0IDIgZGF5cyB3aXRoaW4gdGhlIHBhc3QgMzAgZGF5cy4nOwogICAgcmV0dXJuOwogIH0KCiAgY29uc3QgZmlyc3QgPSByZWNlbnRXZWlnaHRzWzBdOwogIGNvbnN0IGxhc3QgID0gcmVjZW50V2VpZ2h0c1tyZWNlbnRXZWlnaHRzLmxlbmd0aCAtIDFdOwogIGNvbnN0IGRheXMgID0gTWF0aC5yb3VuZCgobmV3IERhdGUobGFzdC5kYXRlKSAtIG5ldyBEYXRlKGZpcnN0LmRhdGUpKSAvICgxMDAwKjYwKjYwKjI0KSk7CiAgaWYgKGRheXMgPCAzKSB7CiAgICByZXN1bHRFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlc3VsdEVsLmlubmVySFRNTCA9ICfimqDvuI8gTmVlZCBhdCBsZWFzdCAzIGRheXMgYmV0d2VlbiBmaXJzdCBhbmQgbGFzdCB3ZWlnaHQgZW50cnkgZm9yIGFuIGFjY3VyYXRlIGVzdGltYXRlLic7CiAgICByZXR1cm47CiAgfQoKICAvLyBBdmVyYWdlIGRhaWx5IGNhbG9yaWVzIGxvZ2dlZCBiZXR3ZWVuIHRob3NlIGRhdGVzCiAgY29uc3QgZGF0ZUtleXMgPSBbXTsKICBjb25zdCBkID0gbmV3IERhdGUoZmlyc3QuZGF0ZSk7CiAgd2hpbGUgKGQgPD0gbmV3IERhdGUobGFzdC5kYXRlKSkgewogICAgZGF0ZUtleXMucHVzaChkLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCkpOwogICAgZC5zZXREYXRlKGQuZ2V0RGF0ZSgpKzEpOwogIH0KICBjb25zdCBsb2dnZWRLZXlzID0gZGF0ZUtleXMuZmlsdGVyKGsgPT4gbWFjcm9Mb2dba10gJiYgbWFjcm9Mb2dba10uY2Fsb3JpZXMgPiAwKTsKICBpZiAobG9nZ2VkS2V5cy5sZW5ndGggPCAzKSB7CiAgICByZXN1bHRFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlc3VsdEVsLmlubmVySFRNTCA9ICfimqDvuI8gTm90IGVub3VnaCBmb29kIGxvZyBlbnRyaWVzIGluIHRoYXQgcGVyaW9kLiBMb2cgeW91ciBtZWFscyBmb3IgYXQgbGVhc3QgMyBkYXlzLic7CiAgICByZXR1cm47CiAgfQoKICBjb25zdCBhdmdDYWxzID0gbG9nZ2VkS2V5cy5yZWR1Y2UoKHMsaykgPT4gcyArIG1hY3JvTG9nW2tdLmNhbG9yaWVzLCAwKSAvIGxvZ2dlZEtleXMubGVuZ3RoOwogIGNvbnN0IHdlaWdodENoYW5nZSA9IGxhc3Qud2VpZ2h0IC0gZmlyc3Qud2VpZ2h0OyAvLyBuZWdhdGl2ZSA9IGxvc3MKICAvLyBjYWxvcmllcyBmcm9tIHdlaWdodCBjaGFuZ2U6IDEgbGIgPSAzNTAwIGtjYWwKICBjb25zdCBjYWxzRnJvbVdlaWdodENoYW5nZSA9ICh3ZWlnaHRDaGFuZ2UgKiAzNTAwKSAvIGRheXM7IC8vIGRhaWx5IHN1cnBsdXMvZGVmaWNpdCBmcm9tIHdlaWdodAogIC8vIFRERUUgPSBhdmdDYWxzIC0gY2Fsc0Zyb21XZWlnaHRDaGFuZ2UKICAvLyBJZiBsb3N0IHdlaWdodCAobmVnYXRpdmUgY2hhbmdlKSwgY2Fsc0Zyb21XZWlnaHRDaGFuZ2UgaXMgbmVnYXRpdmUsIHNvIFRERUUgPSBhdmdDYWxzICsgfGRlZmljaXR8CiAgY29uc3QgZXN0aW1hdGVkVERFRSA9IE1hdGgucm91bmQoYXZnQ2FscyAtIGNhbHNGcm9tV2VpZ2h0Q2hhbmdlKTsKCiAgLy8gUG9wdWxhdGUgdGhlIGZpZWxkCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdUREVFJykudmFsdWUgPSBlc3RpbWF0ZWRUREVFOwoKICBjb25zdCBsb3N0R2FpbmVkID0gd2VpZ2h0Q2hhbmdlIDwgMCA/IGBsb3N0ICR7TWF0aC5hYnMod2VpZ2h0Q2hhbmdlKS50b0ZpeGVkKDEpfSBsYnNgIDogYGdhaW5lZCAke3dlaWdodENoYW5nZS50b0ZpeGVkKDEpfSBsYnNgOwogIHJlc3VsdEVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIHJlc3VsdEVsLmlubmVySFRNTCA9IGAKICAgIDxzdHJvbmcgc3R5bGU9ImNvbG9yOnZhcigtLXRleHQpIj5Fc3RpbWF0ZWQgVERFRTogJHtlc3RpbWF0ZWRUREVFLnRvTG9jYWxlU3RyaW5nKCl9IGtjYWw8L3N0cm9uZz48YnI+CiAgICBCYXNlZCBvbiAke2RheXN9IGRheXMgb2YgZGF0YSAoJHtsb2dnZWRLZXlzLmxlbmd0aH0gZGF5cyBsb2dnZWQpLjxicj4KICAgIEF2ZyBpbnRha2U6ICR7TWF0aC5yb3VuZChhdmdDYWxzKX0ga2NhbC9kYXkgwrcgJHtsb3N0R2FpbmVkfSAoJHtmaXJzdC5kYXRlfSDihpIgJHtsYXN0LmRhdGV9KTxicj4KICAgIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS10ZXh0MykiPkhpdCBTYXZlIHRvIGFwcGx5IHRoaXMgbnVtYmVyLjwvc3Bhbj4KICBgOwp9CgovLyDilIDilIAgR2FybWluIE9BdXRoIDEuMGEg4pSA4pSACi8vIEdhcm1pbiB1c2VzIE9BdXRoIDEuMGEuIFNpbmNlIHRoaXMgcnVucyBjbGllbnQtc2lkZSB3ZSBkbyB0aGUgcmVxdWVzdC10b2tlbgovLyBzdGVwIHZpYSBhIENPUlMgcHJveHksIHRoZW4gcmVkaXJlY3QgdGhlIHVzZXIgdG8gR2FybWluJ3MgYXV0aCBwYWdlLgovLyBPbiByZXR1cm4gdGhlIHZlcmlmaWVyIGNvbWVzIGJhY2sgaW4gdGhlIFVSTCBhbmQgd2UgZXhjaGFuZ2UgZm9yIGFjY2VzcyB0b2tlbi4KCmNvbnN0IEdBUk1JTl9CQVNFICAgICAgPSAnaHR0cHM6Ly9jb25uZWN0YXBpLmdhcm1pbi5jb20nOwpjb25zdCBHQVJNSU5fUkVRX1VSTCAgID0gR0FSTUlOX0JBU0UgKyAnL29hdXRoLXNlcnZpY2Uvb2F1dGgvcmVxdWVzdF90b2tlbic7CmNvbnN0IEdBUk1JTl9BVVRIX1VSTCAgPSAnaHR0cHM6Ly9jb25uZWN0Lmdhcm1pbi5jb20vb2F1dGhDb25maXJtJzsKY29uc3QgR0FSTUlOX0FDQ0VTU19VUkw9IEdBUk1JTl9CQVNFICsgJy9vYXV0aC1zZXJ2aWNlL29hdXRoL2FjY2Vzc190b2tlbic7CmNvbnN0IEdBUk1JTl9BUElfQkFTRSAgPSBHQVJNSU5fQkFTRSArICcvYWN0aXZpdHlsaXN0LXNlcnZpY2UvYWN0aXZpdGllcy9zZWFyY2gvYWN0aXZpdGllcyc7CmNvbnN0IENPUlNfUFJPWFkgICAgICAgPSAnaHR0cHM6Ly9jb3JzcHJveHkuaW8vPyc7CgpmdW5jdGlvbiBiNjQoc3RyKSB7IHJldHVybiBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7IH0KZnVuY3Rpb24gcmZjMzk4NihzdHIpIHsgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgYyA9PiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpOyB9CgpmdW5jdGlvbiBnZW5lcmF0ZU5vbmNlKCkgewogIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7Cn0KCmZ1bmN0aW9uIG9hdXRoSGVhZGVyKG1ldGhvZCwgdXJsLCBwYXJhbXMsIGNvbnN1bWVyS2V5LCBjb25zdW1lclNlY3JldCwgdG9rZW5LZXk9JycsIHRva2VuU2VjcmV0PScnKSB7CiAgY29uc3QgdHMgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKS50b1N0cmluZygpOwogIGNvbnN0IG5vbmNlID0gZ2VuZXJhdGVOb25jZSgpOwogIGNvbnN0IGJhc2UgPSB7CiAgICBvYXV0aF9jb25zdW1lcl9rZXk6IGNvbnN1bWVyS2V5LAogICAgb2F1dGhfbm9uY2U6IG5vbmNlLAogICAgb2F1dGhfc2lnbmF0dXJlX21ldGhvZDogJ0hNQUMtU0hBMScsCiAgICBvYXV0aF90aW1lc3RhbXA6IHRzLAogICAgb2F1dGhfdG9rZW46IHRva2VuS2V5LAogICAgb2F1dGhfdmVyc2lvbjogJzEuMCcsCiAgICAuLi5wYXJhbXMKICB9OwogIGlmICghdG9rZW5LZXkpIGRlbGV0ZSBiYXNlLm9hdXRoX3Rva2VuOwoKICBjb25zdCBzb3J0ZWRLZXlzID0gT2JqZWN0LmtleXMoYmFzZSkuc29ydCgpOwogIGNvbnN0IHBhcmFtU3RyID0gc29ydGVkS2V5cy5tYXAoayA9PiBgJHtyZmMzOTg2KGspfT0ke3JmYzM5ODYoYmFzZVtrXSl9YCkuam9pbignJicpOwogIGNvbnN0IHNpZ0Jhc2UgPSBgJHttZXRob2R9JiR7cmZjMzk4Nih1cmwpfSYke3JmYzM5ODYocGFyYW1TdHIpfWA7CiAgY29uc3Qgc2lnS2V5ICA9IGAke3JmYzM5ODYoY29uc3VtZXJTZWNyZXQpfSYke3JmYzM5ODYodG9rZW5TZWNyZXQpfWA7CgogIC8vIEhNQUMtU0hBMSB2aWEgV2ViIENyeXB0bwogIHJldHVybiB7IHNpZ0Jhc2UsIHNpZ0tleSwgbm9uY2UsIHRzLCBiYXNlIH07Cn0KCmFzeW5jIGZ1bmN0aW9uIGhtYWNTaGExKGtleSwgZGF0YSkgewogIGNvbnN0IGVuYyA9IG5ldyBUZXh0RW5jb2RlcigpOwogIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KAogICAgJ3JhdycsIGVuYy5lbmNvZGUoa2V5KSwgeyBuYW1lOiAnSE1BQycsIGhhc2g6ICdTSEEtMScgfSwgZmFsc2UsIFsnc2lnbiddCiAgKTsKICBjb25zdCBzaWcgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oJ0hNQUMnLCBjcnlwdG9LZXksIGVuYy5lbmNvZGUoZGF0YSkpOwogIHJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkoc2lnKSkpOwp9Cgphc3luYyBmdW5jdGlvbiBidWlsZEF1dGhIZWFkZXIobWV0aG9kLCB1cmwsIGV4dHJhUGFyYW1zLCBjb25zdW1lcktleSwgY29uc3VtZXJTZWNyZXQsIHRva2VuS2V5PScnLCB0b2tlblNlY3JldD0nJykgewogIGNvbnN0IHsgc2lnQmFzZSwgc2lnS2V5LCBub25jZSwgdHMsIGJhc2UgfSA9IG9hdXRoSGVhZGVyKG1ldGhvZCwgdXJsLCBleHRyYVBhcmFtcywgY29uc3VtZXJLZXksIGNvbnN1bWVyU2VjcmV0LCB0b2tlbktleSwgdG9rZW5TZWNyZXQpOwogIGNvbnN0IHNpZyA9IGF3YWl0IGhtYWNTaGExKHNpZ0tleSwgc2lnQmFzZSk7CiAgY29uc3QgaGVhZGVyUGFyYW1zID0geyAuLi5iYXNlLCBvYXV0aF9zaWduYXR1cmU6IHNpZyB9OwogIGlmICghdG9rZW5LZXkpIGRlbGV0ZSBoZWFkZXJQYXJhbXMub2F1dGhfdG9rZW47CiAgY29uc3QgaGRyID0gJ09BdXRoICcgKyBPYmplY3Qua2V5cyhoZWFkZXJQYXJhbXMpLnNvcnQoKQogICAgLm1hcChrID0+IGAke3JmYzM5ODYoayl9PSIke3JmYzM5ODYoaGVhZGVyUGFyYW1zW2tdKX0iYCkKICAgIC5qb2luKCcsICcpOwogIHJldHVybiBoZHI7Cn0KCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0R2FybWluT0F1dGgoKSB7CiAgY29uc3Qga2V5ICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pbktleScpLnZhbHVlLnRyaW0oKTsKICBjb25zdCBzZWNyZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluU2VjcmV0JykudmFsdWUudHJpbSgpOwogIGlmICgha2V5IHx8ICFzZWNyZXQpIHsgc2hvd1RvYXN0KCfimqDvuI8gRW50ZXIgeW91ciBDb25zdW1lciBLZXkgYW5kIFNlY3JldCBmaXJzdCcpOyByZXR1cm47IH0KCiAgc2V0U3RvcmFnZSgnZ2FybWluQ3JlZHMnLCB7IGtleSwgc2VjcmV0IH0pOwogIHNob3dUb2FzdCgn8J+UhCBSZXF1ZXN0aW5nIHRva2VuIGZyb20gR2FybWlu4oCmJyk7CgogIHRyeSB7CiAgICBjb25zdCBjYWxsYmFja1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzBdKTsKICAgIGNvbnN0IGF1dGhIZWFkZXIgPSBhd2FpdCBidWlsZEF1dGhIZWFkZXIoJ1BPU1QnLCBHQVJNSU5fUkVRX1VSTCwgeyBvYXV0aF9jYWxsYmFjazogY2FsbGJhY2tVcmwgfSwga2V5LCBzZWNyZXQpOwoKICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKENPUlNfUFJPWFkgKyBlbmNvZGVVUklDb21wb25lbnQoR0FSTUlOX1JFUV9VUkwpLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYXV0aEhlYWRlciwgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0KICAgIH0pOwogICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7CiAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMobmV3IFVSTFNlYXJjaFBhcmFtcyh0ZXh0KSk7CgogICAgaWYgKCFwYXJhbXMub2F1dGhfdG9rZW4pIHRocm93IG5ldyBFcnJvcignTm8gcmVxdWVzdCB0b2tlbiByZWNlaXZlZC4gQ2hlY2sgeW91ciBDb25zdW1lciBLZXkvU2VjcmV0LicpOwoKICAgIHNldFN0b3JhZ2UoJ2dhcm1pblJlcVRva2VuJywgcGFyYW1zKTsKICAgIC8vIFJlZGlyZWN0IHRvIEdhcm1pbiBhdXRob3JpemUgcGFnZQogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtHQVJNSU5fQVVUSF9VUkx9P29hdXRoX3Rva2VuPSR7cGFyYW1zLm9hdXRoX3Rva2VufWA7CgogIH0gY2F0Y2ggKGVycikgewogICAgc2hvd1RvYXN0KCfinYwgJyArIGVyci5tZXNzYWdlKTsKICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU9BdXRoQ2FsbGJhY2soKSB7CiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsKICBjb25zdCB2ZXJpZmllciAgPSB1cmxQYXJhbXMuZ2V0KCdvYXV0aF92ZXJpZmllcicpOwogIGNvbnN0IHRva2VuICAgICA9IHVybFBhcmFtcy5nZXQoJ29hdXRoX3Rva2VuJyk7CiAgaWYgKCF2ZXJpZmllciB8fCAhdG9rZW4pIHJldHVybjsKCiAgLy8gQ2xlYW4gVVJMCiAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoVGl0bGUnKS50ZXh0Q29udGVudCA9ICdDb21wbGV0aW5nIGF1dGhvcml6YXRpb27igKYnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aE1zZycpLnRleHRDb250ZW50ID0gJ0V4Y2hhbmdpbmcgdG9rZW5zIHdpdGggR2FybWluLiBUaGlzIHRha2VzIGp1c3QgYSBtb21lbnQuJzsKCiAgY29uc3QgY3JlZHMgICAgPSBnZXRTdG9yYWdlKCdnYXJtaW5DcmVkcycsIHt9KTsKICBjb25zdCByZXFUb2tlbiA9IGdldFN0b3JhZ2UoJ2dhcm1pblJlcVRva2VuJywge30pOwoKICB0cnkgewogICAgY29uc3QgYXV0aEhlYWRlciA9IGF3YWl0IGJ1aWxkQXV0aEhlYWRlcigKICAgICAgJ1BPU1QnLCBHQVJNSU5fQUNDRVNTX1VSTCwKICAgICAgeyBvYXV0aF92ZXJpZmllcjogdmVyaWZpZXIgfSwKICAgICAgY3JlZHMua2V5LCBjcmVkcy5zZWNyZXQsCiAgICAgIHJlcVRva2VuLm9hdXRoX3Rva2VuLCByZXFUb2tlbi5vYXV0aF90b2tlbl9zZWNyZXQKICAgICk7CiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChDT1JTX1BST1hZICsgZW5jb2RlVVJJQ29tcG9uZW50KEdBUk1JTl9BQ0NFU1NfVVJMKSwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IGF1dGhIZWFkZXIsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9CiAgICB9KTsKICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXMudGV4dCgpOwogICAgY29uc3QgYWNjZXNzUGFyYW1zID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBVUkxTZWFyY2hQYXJhbXModGV4dCkpOwoKICAgIGlmICghYWNjZXNzUGFyYW1zLm9hdXRoX3Rva2VuKSB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIGV4Y2hhbmdlIGZhaWxlZC4gVHJ5IGNvbm5lY3RpbmcgYWdhaW4uJyk7CgogICAgc2V0U3RvcmFnZSgnZ2FybWluVG9rZW4nLCB7CiAgICAgIHRva2VuOiBhY2Nlc3NQYXJhbXMub2F1dGhfdG9rZW4sCiAgICAgIHNlY3JldDogYWNjZXNzUGFyYW1zLm9hdXRoX3Rva2VuX3NlY3JldCwKICAgICAgZGlzcGxheU5hbWU6IGFjY2Vzc1BhcmFtcy5kaXNwbGF5X25hbWUgfHwgJ0dhcm1pbiBVc2VyJwogICAgfSk7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoSWNvbicpLnRleHRDb250ZW50ID0gJ+KchSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhUaXRsZScpLnRleHRDb250ZW50ID0gJ0Nvbm5lY3RlZCEnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoTXNnJykudGV4dENvbnRlbnQgPSBgU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCBhcyAke2FjY2Vzc1BhcmFtcy5kaXNwbGF5X25hbWUgfHwgJ3lvdXIgR2FybWluIGFjY291bnQnfS4gRmV0Y2hpbmcgdG9kYXlcJ3MgYWN0aXZpdGllc+KApmA7CgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aE1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwogICAgICB1cGRhdGVHYXJtaW5TZXR0aW5nc1VJKCk7CiAgICAgIGZldGNoR2FybWluVG9kYXkoKTsKICAgIH0sIDIwMDApOwoKICB9IGNhdGNoIChlcnIpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aEljb24nKS50ZXh0Q29udGVudCA9ICfinYwnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoVGl0bGUnKS50ZXh0Q29udGVudCA9ICdDb25uZWN0aW9uIGZhaWxlZCc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhNc2cnKS50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlOwogIH0KfQoKZnVuY3Rpb24gdXBkYXRlR2FybWluU2V0dGluZ3NVSSgpIHsKICBjb25zdCB0b2sgPSBnZXRTdG9yYWdlKCdnYXJtaW5Ub2tlbicsIG51bGwpOwogIGNvbnN0IHN0YXR1c0VsICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5Db25uZWN0U3RhdHVzJyk7CiAgY29uc3Qgc2V0dXBFbCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pblNldHVwU3RlcHMnKTsKICBjb25zdCBwYW5lbEVsICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluQ29ubmVjdGVkUGFuZWwnKTsKICBpZiAodG9rKSB7CiAgICBzdGF0dXNFbC5jbGFzc05hbWUgPSAnY29ubmVjdC1zdGF0dXMgY29ubmVjdGVkJzsKICAgIHN0YXR1c0VsLnRleHRDb250ZW50ID0gJ/Cfn6IgQ29ubmVjdGVkJzsKICAgIHNldHVwRWwuc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7CiAgICBwYW5lbEVsLnN0eWxlLmRpc3BsYXkgID0gJ2Jsb2NrJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5Vc2VybmFtZScpLnRleHRDb250ZW50ID0gdG9rLmRpc3BsYXlOYW1lIHx8ICdHYXJtaW4gVXNlcic7CiAgfSBlbHNlIHsKICAgIHN0YXR1c0VsLmNsYXNzTmFtZSA9ICdjb25uZWN0LXN0YXR1cyBkaXNjb25uZWN0ZWQnOwogICAgc3RhdHVzRWwudGV4dENvbnRlbnQgPSAn4pqqIE5vdCBjb25uZWN0ZWQnOwogICAgc2V0dXBFbC5zdHlsZS5kaXNwbGF5ICA9ICdibG9jayc7CiAgICBwYW5lbEVsLnN0eWxlLmRpc3BsYXkgID0gJ25vbmUnOwogIH0KfQoKZnVuY3Rpb24gdG9nZ2xlQXV0b0FkanVzdChidG4pIHsKICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnb24nKTsKICBzZXRTdG9yYWdlKCdnYXJtaW5BdXRvQWRqdXN0JywgYnRuLmNsYXNzTGlzdC5jb250YWlucygnb24nKSk7Cn0KCmZ1bmN0aW9uIGRpc2Nvbm5lY3RHYXJtaW4oKSB7CiAgaWYgKCFjb25maXJtKCdEaXNjb25uZWN0IHlvdXIgR2FybWluIGFjY291bnQ/JykpIHJldHVybjsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2FybWluVG9rZW4nKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2FybWluQ3JlZHMnKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2FybWluUmVxVG9rZW4nKTsKICB1cGRhdGVHYXJtaW5TZXR0aW5nc1VJKCk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pbkNhcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIHNob3dUb2FzdCgnR2FybWluIGRpc2Nvbm5lY3RlZCcpOwp9CgovLyDilIDilIAgRmV0Y2ggdG9kYXkncyBHYXJtaW4gYWN0aXZpdGllcyDilIDilIAKYXN5bmMgZnVuY3Rpb24gZmV0Y2hHYXJtaW5Ub2RheSgpIHsKICBjb25zdCB0b2sgICA9IGdldFN0b3JhZ2UoJ2dhcm1pblRva2VuJywgbnVsbCk7CiAgY29uc3QgY3JlZHMgPSBnZXRTdG9yYWdlKCdnYXJtaW5DcmVkcycsIG51bGwpOwogIGlmICghdG9rIHx8ICFjcmVkcykgcmV0dXJuOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluQ2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5BY3Rpdml0eVN1YicpLnRleHRDb250ZW50ID0gJ1N5bmNpbmfigKYnOwoKICBjb25zdCB0b2RheSA9IG5vd0VTVCgpOwogIGNvbnN0IHN0YXJ0TG9jYWwgPSBkYXRlVG9LZXkodG9kYXkpOwogIGNvbnN0IGFwaVVybCA9IGAke0dBUk1JTl9BUElfQkFTRX0/c3RhcnREYXRlPSR7c3RhcnRMb2NhbH0mbGltaXQ9MTBgOwoKICB0cnkgewogICAgY29uc3QgYXV0aEhlYWRlciA9IGF3YWl0IGJ1aWxkQXV0aEhlYWRlcigKICAgICAgJ0dFVCcsIEdBUk1JTl9BUElfQkFTRSwKICAgICAgeyBzdGFydERhdGU6IHN0YXJ0TG9jYWwsIGxpbWl0OiAnMTAnIH0sCiAgICAgIGNyZWRzLmtleSwgY3JlZHMuc2VjcmV0LAogICAgICB0b2sudG9rZW4sIHRvay5zZWNyZXQKICAgICk7CiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChDT1JTX1BST1hZICsgZW5jb2RlVVJJQ29tcG9uZW50KGFwaVVybCksIHsKICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IGF1dGhIZWFkZXIsICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicgfQogICAgfSk7CiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBHYXJtaW4gQVBJIGVycm9yICR7cmVzLnN0YXR1c31gKTsKICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBhd2FpdCByZXMuanNvbigpOwoKICAgIC8vIFN1bSB1cCBydW5zIC8gY2FyZGlvIGZvciB0b2RheQogICAgbGV0IHRvdGFsQ2Fsb3JpZXMgPSAwLCB0b3RhbERpc3RhbmNlID0gMCwgdG90YWxEdXJhdGlvbiA9IDAsIGFjdGl2aXR5Q291bnQgPSAwOwogICAgY29uc3QgcnVuVHlwZXMgPSBbJ3J1bm5pbmcnLCd0cmFpbF9ydW5uaW5nJywndHJlYWRtaWxsX3J1bm5pbmcnLCd0cmFja19ydW5uaW5nJ107CgogICAgKEFycmF5LmlzQXJyYXkoYWN0aXZpdGllcykgPyBhY3Rpdml0aWVzIDogW10pLmZvckVhY2goYSA9PiB7CiAgICAgIGNvbnN0IHR5cGUgPSAoYS5hY3Rpdml0eVR5cGU/LnR5cGVLZXkgfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmIChydW5UeXBlcy5zb21lKHIgPT4gdHlwZS5pbmNsdWRlcyhyKSkpIHsKICAgICAgICB0b3RhbENhbG9yaWVzICs9IGEuY2Fsb3JpZXMgfHwgMDsKICAgICAgICB0b3RhbERpc3RhbmNlICs9IGEuZGlzdGFuY2UgfHwgMDsKICAgICAgICB0b3RhbER1cmF0aW9uICs9IGEuZHVyYXRpb24gfHwgMDsKICAgICAgICBhY3Rpdml0eUNvdW50Kys7CiAgICAgIH0KICAgIH0pOwoKICAgIHJlbmRlckdhcm1pbkNhcmQodG90YWxDYWxvcmllcywgdG90YWxEaXN0YW5jZSwgdG90YWxEdXJhdGlvbiwgYWN0aXZpdHlDb3VudCk7CiAgICBpZiAoZ2V0U3RvcmFnZSgnZ2FybWluQXV0b0FkanVzdCcsIHRydWUpKSB7CiAgICAgIGFkanVzdE1hY3Jvc0ZvckJ1cm4odG90YWxDYWxvcmllcyk7CiAgICB9CiAgICBzZXRTdG9yYWdlKCdnYXJtaW5Ub2RheScsIHsgY2Fsb3JpZXM6IHRvdGFsQ2Fsb3JpZXMsIGRpc3RhbmNlOiB0b3RhbERpc3RhbmNlLCBkdXJhdGlvbjogdG90YWxEdXJhdGlvbiwgZmV0Y2hlZDogRGF0ZS5ub3coKSB9KTsKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluQWN0aXZpdHlTdWInKS50ZXh0Q29udGVudCA9ICfimqDvuI8gU3luYyBmYWlsZWQg4oCUICcgKyBlcnIubWVzc2FnZTsKICB9Cn0KCmZ1bmN0aW9uIHJlbmRlckdhcm1pbkNhcmQoY2Fsb3JpZXMsIGRpc3RhbmNlLCBkdXJhdGlvbiwgY291bnQsIHNvdXJjZT0nZ2FybWluJykgewogIGNvbnN0IGttICAgID0gKGRpc3RhbmNlIC8gMTAwMCkudG9GaXhlZCgxKTsKICBjb25zdCBtaWxlcyA9IChkaXN0YW5jZSAvIDE2MDkuMzQpLnRvRml4ZWQoMSk7CiAgY29uc3QgbWlucyAgPSBNYXRoLnJvdW5kKGR1cmF0aW9uIC8gNjApOwogIGNvbnN0IGhycyAgID0gbWlucyA+PSA2MCA/IGAke01hdGguZmxvb3IobWlucy82MCl9aCAke21pbnMlNjB9bWAgOiBgJHttaW5zfW1gOwogIGNvbnN0IHNyY0xhYmVsID0gc291cmNlID09PSAnc3RyYXZhJyA/ICdTdHJhdmEnIDogJ0dhcm1pbiBDb25uZWN0JzsKICBjb25zdCBzcmNFbW9qaSA9IHNvdXJjZSA9PT0gJ3N0cmF2YScgPyAn8J+foCcgOiAn8J+UtSc7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5BY3Rpdml0eVRpdGxlJykudGV4dENvbnRlbnQgPSBjb3VudCA+IDAgPyBgJHtjb3VudH0gcnVuJHtjb3VudD4xPydzJzonJ30gdG9kYXlgIDogJ05vIHJ1bnMgdG9kYXknOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5BY3Rpdml0eVN1YicpLnRleHRDb250ZW50ICAgPSBjb3VudCA+IDAKICAgID8gYCR7c3JjRW1vaml9IFN5bmNlZCBmcm9tICR7c3JjTGFiZWx9YAogICAgOiBgJHtzcmNFbW9qaX0gJHtzcmNMYWJlbH0gwrcgUmVzdCBkYXkg4oCUIHN0YW5kYXJkIG1hY3JvcyBhcHBseWA7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5TdGF0c1JvdycpLmlubmVySFRNTCA9IFsKICAgIHsgdmFsOiBjYWxvcmllcyA+IDAgPyBjYWxvcmllcy50b0xvY2FsZVN0cmluZygpIDogJ+KAlCcsIGxibDogJ0NhbG9yaWVzJywgY29sb3I6ICcjZjU5ZTBiJyB9LAogICAgeyB2YWw6IHBhcnNlRmxvYXQobWlsZXMpID4gMCA/IG1pbGVzICsgJyBtaScgICAgOiAn4oCUJywgbGJsOiAnRGlzdGFuY2UnLCBjb2xvcjogJyMzYjgyZjYnIH0sCiAgICB7IHZhbDogbWlucyA+IDAgPyBocnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAn4oCUJywgbGJsOiAnRHVyYXRpb24nLCBjb2xvcjogJyMyMmM1NWUnIH0sCiAgXS5tYXAocyA9PiBgPGRpdiBjbGFzcz0iZ2FybWluLXN0YXQiPgogICAgPGRpdiBjbGFzcz0iZ2FybWluLXN0YXQtdmFsIiBzdHlsZT0iY29sb3I6JHtzLmNvbG9yfSI+JHtzLnZhbH08L2Rpdj4KICAgIDxkaXYgY2xhc3M9Imdhcm1pbi1zdGF0LWxibCI+JHtzLmxibH08L2Rpdj4KICA8L2Rpdj5gKS5qb2luKCcnKTsKCiAgLy8gU2hvdyBzaG9lIHJvdyBpZiB0aGVyZSdzIGEgcnVuIGFuZCBhdCBsZWFzdCBvbmUgYWN0aXZlIHNob2UKICBjb25zdCBzaG9lUm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5U2hvZVJvdycpOwogIGlmIChzaG9lUm93KSB7CiAgICBjb25zdCBoYXNSdW4gICAgPSBwYXJzZUZsb2F0KG1pbGVzKSA+IDA7CiAgICBjb25zdCBoYXNTaG9lcyAgPSBnZXRTaG9lcygpLmZpbHRlcihzID0+IHMuc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoID4gMDsKICAgIGlmIChoYXNSdW4gJiYgaGFzU2hvZXMpIHsKICAgICAgc2hvZVJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICBjb25zdCB0b2RheVJ1biAgPSBnZXRTaG9lUnVucygpLmZpbmQociA9PiByLmRhdGUgPT09IHRvZGF5S2V5KCkpOwogICAgICBjb25zdCBsYWJlbEVsICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXlTaG9lTGFiZWwnKTsKICAgICAgY29uc3QgYXNzaWduQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5U2hvZUFzc2lnbkJ0bicpOwogICAgICBpZiAodG9kYXlSdW4pIHsKICAgICAgICBjb25zdCBzaG9lID0gZ2V0U2hvZXMoKS5maW5kKHMgPT4gcy5pZCA9PT0gdG9kYXlSdW4uc2hvZUlkKTsKICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gYPCfkZ8gJHtzaG9lPy5uYW1lIHx8ICdTaG9lcyd9IMK3ICR7dG9kYXlSdW4ubWlsZXMudG9GaXhlZCgyKX0gbWkgbG9nZ2VkYDsKICAgICAgICBpZiAoYXNzaWduQnRuKSBhc3NpZ25CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gYPCfkZ8gV2hpY2ggc2hvZXMgZGlkIHlvdSB3ZWFyPyAoJHttaWxlc30gbWkpYDsKICAgICAgICBpZiAoYXNzaWduQnRuKSBhc3NpZ25CdG4uc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzaG9lUm93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBvcGVuVG9kYXlTaG9lQXNzaWduKCkgewogIGNvbnN0IGNhY2hlZCA9IGdldFN0b3JhZ2UoJ3N0cmF2YVRvZGF5JywgbnVsbCkgfHwgZ2V0U3RvcmFnZSgnZ2FybWluVG9kYXknLCBudWxsKTsKICBpZiAoIWNhY2hlZCB8fCAhY2FjaGVkLmRpc3RhbmNlKSB7IHNob3dUb2FzdCgn4pqg77iPIE5vIHJ1biBkYXRhIOKAlCBzeW5jIFN0cmF2YSBmaXJzdCcpOyByZXR1cm47IH0KICBwcm9tcHRTaG9lQXNzaWdubWVudCh7CiAgICBkYXRlOiAgICAgICB0b2RheUtleSgpLAogICAgbWlsZXM6ICAgICAgY2FjaGVkLmRpc3RhbmNlIC8gMTYwOS4zNCwKICAgIGR1cmF0aW9uOiAgIGNhY2hlZC5kdXJhdGlvbiB8fCAwLAogICAgY2Fsb3JpZXM6ICAgY2FjaGVkLmNhbG9yaWVzIHx8IDAsCiAgICBhY3Rpdml0eUlkOiBjYWNoZWQuYWN0aXZpdHlJZCB8fCBudWxsLAogIH0pOwp9CgpmdW5jdGlvbiBhZGp1c3RNYWNyb3NGb3JCdXJuKGJ1cm5DYWxvcmllcykgewogIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5NYWNyb0Jhbm5lcicpOwogIGNvbnN0IHRleHQgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5NYWNyb1RleHQnKTsKCiAgLy8gUGVyc2lzdCBidXJuIGNhbG9yaWVzIGtleWVkIGJ5IGRhdGUgc28gaXQgc3Vydml2ZXMgcGFnZSByZWxvYWQKICBjb25zdCBidXJuTG9nID0gZ2V0U3RvcmFnZSgnYnVybkxvZycsIHt9KTsKICBjb25zdCB0b2RheUsgID0gdG9kYXlLZXkoKTsKICBpZiAoYnVybkNhbG9yaWVzID4gMCkgewogICAgYnVybkxvZ1t0b2RheUtdID0gYnVybkNhbG9yaWVzOwogICAgc2V0U3RvcmFnZSgnYnVybkxvZycsIGJ1cm5Mb2cpOwogIH0KCiAgaWYgKGJ1cm5DYWxvcmllcyA8PSAwKSB7CiAgICBiYW5uZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIHNldFN0b3JhZ2UoJ2dhcm1pbkFkanVzdGVkTWFjcm9zJywgbnVsbCk7CiAgICByZW5kZXJSaW5ncygpOwogICAgcmV0dXJuOwogIH0KCiAgLy8gQWRkIH42MCUgb2YgYnVybiBiYWNrIGFzIGV4dHJhIGNhbG9yaWVzIChkb24ndCBlYXQgYmFjayAxMDAlIOKAlCBzdGlsbCB3YW50IGEgZGVmaWNpdCkKICBjb25zdCBleHRyYUNhbHMgID0gTWF0aC5yb3VuZChidXJuQ2Fsb3JpZXMgKiAwLjYpOwogIGNvbnN0IGV4dHJhQ2FyYnMgPSBNYXRoLnJvdW5kKGV4dHJhQ2FscyAqIDAuNjUgLyA0KTsgLy8gNjUlIGZyb20gY2FyYnMKCiAgY29uc3QgYmFzZSA9IGdldFN0b3JhZ2UoJ2FkYXB0aXZlTWFjcm9zJywgbnVsbCkgfHwgZ2V0U3RvcmFnZSgndXNlck1hY3JvcycsIG51bGwpIHx8IE1BQ1JPUzsKICBjb25zdCBhZGp1c3RlZCA9IHsKICAgIGNhbG9yaWVzOiBiYXNlLmNhbG9yaWVzICsgZXh0cmFDYWxzLAogICAgY2FyYnM6ICAgIGJhc2UuY2FyYnMgICAgKyBleHRyYUNhcmJzLAogICAgcHJvdGVpbjogIGJhc2UucHJvdGVpbiwKICAgIGZhdDogICAgICBiYXNlLmZhdCwKICB9OwoKICBzZXRTdG9yYWdlKCdnYXJtaW5BZGp1c3RlZE1hY3JvcycsIGFkanVzdGVkKTsKCiAgYmFubmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgdGV4dC50ZXh0Q29udGVudCA9IGDwn5+gIFJ1biBkZXRlY3RlZCEgKyR7ZXh0cmFDYWxzfSBrY2FsIOKGkiAke2FkanVzdGVkLmNhbG9yaWVzfSBrY2FsIHRhcmdldCwgJHthZGp1c3RlZC5jYXJic31nIGNhcmJzYDsKCiAgLy8gVXBkYXRlIHJpbmdzLCB0YXJnZXRzIHJvdywgYW5kIHdlZWtseSBiYWxhbmNlCiAgcmVuZGVyUmluZ3MoYWRqdXN0ZWQpOwogIHJlbmRlcldlZWtseUJhbGFuY2UoKTsKfQoKLy8g4pSA4pSAIFN0cmF2YSBPQXV0aCAyLjAg4pSA4pSACmNvbnN0IFNUUkFWQV9BVVRIX1VSTCAgID0gJ2h0dHBzOi8vd3d3LnN0cmF2YS5jb20vb2F1dGgvYXV0aG9yaXplJzsKY29uc3QgU1RSQVZBX1RPS0VOX1VSTCAgPSAnaHR0cHM6Ly93d3cuc3RyYXZhLmNvbS9vYXV0aC90b2tlbic7CmNvbnN0IFNUUkFWQV9BUElfQkFTRSAgID0gJ2h0dHBzOi8vd3d3LnN0cmF2YS5jb20vYXBpL3YzJzsKCmZ1bmN0aW9uIHN0YXJ0U3RyYXZhT0F1dGgoKSB7CiAgY29uc3QgY2xpZW50SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RyYXZhQ2xpZW50SWQnKS52YWx1ZS50cmltKCk7CiAgY29uc3Qgc2VjcmV0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RyYXZhQ2xpZW50U2VjcmV0JykudmFsdWUudHJpbSgpOwogIGlmICghY2xpZW50SWQgfHwgIXNlY3JldCkgeyBzaG93VG9hc3QoJ+KaoO+4jyBFbnRlciB5b3VyIENsaWVudCBJRCBhbmQgU2VjcmV0IGZpcnN0Jyk7IHJldHVybjsgfQogIHNldFN0b3JhZ2UoJ3N0cmF2YUNyZWRzJywgeyBjbGllbnRJZCwgc2VjcmV0IH0pOwoKICBjb25zdCByZWRpcmVjdFVyaSA9IGVuY29kZVVSSUNvbXBvbmVudCgnaHR0cHM6Ly9tYWNyby5qZXJlbXktMzljLndvcmtlcnMuZGV2Jyk7CiAgY29uc3Qgc2NvcGUgPSAncmVhZCxhY3Rpdml0eTpyZWFkJzsKICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke1NUUkFWQV9BVVRIX1VSTH0/Y2xpZW50X2lkPSR7Y2xpZW50SWR9JnJlZGlyZWN0X3VyaT0ke3JlZGlyZWN0VXJpfSZyZXNwb25zZV90eXBlPWNvZGUmc2NvcGU9JHtzY29wZX0mc3RhdGU9c3RyYXZhX29hdXRoYDsKfQoKYXN5bmMgZnVuY3Rpb24gaGFuZGxlU3RyYXZhQ2FsbGJhY2soKSB7CiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsKICBjb25zdCBjb2RlICA9IHVybFBhcmFtcy5nZXQoJ2NvZGUnKTsKICBjb25zdCBzdGF0ZSA9IHVybFBhcmFtcy5nZXQoJ3N0YXRlJyk7CiAgaWYgKCFjb2RlIHx8IHN0YXRlICE9PSAnc3RyYXZhX29hdXRoJykgcmV0dXJuOwoKICAvLyBDbGVhbiBVUkwgaW1tZWRpYXRlbHkKICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhNb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhJY29uJykudGV4dENvbnRlbnQgID0gJ/Cfn6AnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aFRpdGxlJykudGV4dENvbnRlbnQgPSAnQ29ubmVjdGluZyB0byBTdHJhdmHigKYnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aE1zZycpLnRleHRDb250ZW50ICAgPSAnRXhjaGFuZ2luZyBhdXRob3JpemF0aW9uIGNvZGUgZm9yIGFjY2VzcyB0b2tlbuKApic7CgogIGNvbnN0IGNyZWRzID0gZ2V0U3RvcmFnZSgnc3RyYXZhQ3JlZHMnLCB7fSk7CiAgdHJ5IHsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFNUUkFWQV9UT0tFTl9VUkwsIHsKICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgY2xpZW50X2lkOiAgICAgY3JlZHMuY2xpZW50SWQsCiAgICAgICAgY2xpZW50X3NlY3JldDogY3JlZHMuc2VjcmV0LAogICAgICAgIGNvZGUsCiAgICAgICAgZ3JhbnRfdHlwZTogICAgJ2F1dGhvcml6YXRpb25fY29kZScsCiAgICAgICAgcmVkaXJlY3RfdXJpOiAgJ2h0dHBzOi8vbWFjcm8uamVyZW15LTM5Yy53b3JrZXJzLmRldicKICAgICAgfSkKICAgIH0pOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICBpZiAoIWRhdGEuYWNjZXNzX3Rva2VuKSB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdUb2tlbiBleGNoYW5nZSBmYWlsZWQnKTsKCiAgICBzZXRTdG9yYWdlKCdzdHJhdmFUb2tlbicsIHsKICAgICAgYWNjZXNzVG9rZW46ICBkYXRhLmFjY2Vzc190b2tlbiwKICAgICAgcmVmcmVzaFRva2VuOiBkYXRhLnJlZnJlc2hfdG9rZW4sCiAgICAgIGV4cGlyZXNBdDogICAgZGF0YS5leHBpcmVzX2F0LAogICAgICBhdGhsZXRlOiAgICAgIGRhdGEuYXRobGV0ZSwKICAgIH0pOwoKICAgIGNvbnN0IG5hbWUgPSBgJHtkYXRhLmF0aGxldGU/LmZpcnN0bmFtZSB8fCAnJ30gJHtkYXRhLmF0aGxldGU/Lmxhc3RuYW1lIHx8ICcnfWAudHJpbSgpIHx8ICdTdHJhdmEgVXNlcic7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhJY29uJykudGV4dENvbnRlbnQgID0gJ+KchSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2F1dGhUaXRsZScpLnRleHRDb250ZW50ID0gJ1N0cmF2YSBDb25uZWN0ZWQhJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aE1zZycpLnRleHRDb250ZW50ICAgPSBgQ29ubmVjdGVkIGFzICR7bmFtZX0uIEZldGNoaW5nIHRvZGF5J3MgYWN0aXZpdGllc+KApmA7CgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aE1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwogICAgICB1cGRhdGVTdHJhdmFTZXR0aW5nc1VJKCk7CiAgICAgIGZldGNoU3RyYXZhVG9kYXkoKTsKICAgIH0sIDIwMDApOwoKICB9IGNhdGNoIChlcnIpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aEljb24nKS50ZXh0Q29udGVudCAgPSAn4p2MJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYXV0aFRpdGxlJykudGV4dENvbnRlbnQgPSAnQ29ubmVjdGlvbiBmYWlsZWQnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29hdXRoTXNnJykudGV4dENvbnRlbnQgICA9IGVyci5tZXNzYWdlOwogIH0KfQoKYXN5bmMgZnVuY3Rpb24gcmVmcmVzaFN0cmF2YVRva2VuSWZOZWVkZWQoKSB7CiAgY29uc3QgdG9rID0gZ2V0U3RvcmFnZSgnc3RyYXZhVG9rZW4nLCBudWxsKTsKICBpZiAoIXRvaykgcmV0dXJuIG51bGw7CgogIC8vIFRva2VuIHN0aWxsIHZhbGlkCiAgaWYgKERhdGUubm93KCkgLyAxMDAwIDwgdG9rLmV4cGlyZXNBdCAtIDMwMCkgcmV0dXJuIHRvay5hY2Nlc3NUb2tlbjsKCiAgLy8gTmVlZCB0byByZWZyZXNoCiAgY29uc3QgY3JlZHMgPSBnZXRTdG9yYWdlKCdzdHJhdmFDcmVkcycsIHt9KTsKICBpZiAoIWNyZWRzLmNsaWVudElkIHx8ICFjcmVkcy5zZWNyZXQpIHsKICAgIHNob3dUb2FzdCgn4pqg77iPIFN0cmF2YSBjcmVkZW50aWFscyBtaXNzaW5nIOKAlCByZWNvbm5lY3QgaW4gU2V0dGluZ3MnKTsKICAgIHJldHVybiB0b2suYWNjZXNzVG9rZW47IC8vIHRyeSB3aXRoIGV4aXN0aW5nIHRva2VuCiAgfQoKICB0cnkgewogICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goU1RSQVZBX1RPS0VOX1VSTCwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBjbGllbnRfaWQ6ICAgICBjcmVkcy5jbGllbnRJZCwKICAgICAgICBjbGllbnRfc2VjcmV0OiBjcmVkcy5zZWNyZXQsCiAgICAgICAgcmVmcmVzaF90b2tlbjogdG9rLnJlZnJlc2hUb2tlbiwKICAgICAgICBncmFudF90eXBlOiAgICAncmVmcmVzaF90b2tlbicKICAgICAgfSkKICAgIH0pOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICBpZiAoIWRhdGEuYWNjZXNzX3Rva2VuKSB7CiAgICAgIGNvbnNvbGUud2FybignU3RyYXZhIHJlZnJlc2ggcmVzcG9uc2U6JywgZGF0YSk7CiAgICAgIHNob3dUb2FzdCgn4pqg77iPIFN0cmF2YSB0b2tlbiByZWZyZXNoIGZhaWxlZCDigJQgdHJ5IHJlY29ubmVjdGluZyBpbiBTZXR0aW5ncycpOwogICAgICByZXR1cm4gdG9rLmFjY2Vzc1Rva2VuOwogICAgfQogICAgY29uc3QgdXBkYXRlZCA9IHsgLi4udG9rLCBhY2Nlc3NUb2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hUb2tlbjogZGF0YS5yZWZyZXNoX3Rva2VuLCBleHBpcmVzQXQ6IGRhdGEuZXhwaXJlc19hdCB9OwogICAgc2V0U3RvcmFnZSgnc3RyYXZhVG9rZW4nLCB1cGRhdGVkKTsKICAgIHJldHVybiBkYXRhLmFjY2Vzc190b2tlbjsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUud2FybignU3RyYXZhIHJlZnJlc2ggZXJyb3I6JywgZSk7CiAgICByZXR1cm4gdG9rLmFjY2Vzc1Rva2VuOwogIH0KfQoKYXN5bmMgZnVuY3Rpb24gZmV0Y2hTdHJhdmFUb2RheSgpIHsKICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IHJlZnJlc2hTdHJhdmFUb2tlbklmTmVlZGVkKCk7CiAgaWYgKCFhY2Nlc3NUb2tlbikgcmV0dXJuOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluQ2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5BY3Rpdml0eVN1YicpLnRleHRDb250ZW50ID0gJ1N5bmNpbmcgZnJvbSBTdHJhdmHigKYnOwoKICAvLyBHZXQgdG9kYXkncyBkYXRlIGluIEVTVCwgdGhlbiBidWlsZCBVVEMgdW5peCB0aW1lc3RhbXBzIGZvciBtaWRuaWdodCBFU1QgPSAwNTowMCBVVEMKICBjb25zdCBlc3REYXRlID0gdG9kYXlLZXkoKTsgLy8gWVlZWS1NTS1ERCBpbiBFU1QKICBjb25zdCBzdGFydE9mRGF5ID0gTWF0aC5mbG9vcihuZXcgRGF0ZShlc3REYXRlICsgJ1QwNTowMDowMFonKS5nZXRUaW1lKCkgLyAxMDAwKTsgLy8gbWlkbmlnaHQgRVNUID0gMDU6MDAgVVRDCiAgY29uc3QgZW5kT2ZEYXkgICA9IE1hdGguZmxvb3IobmV3IERhdGUoZXN0RGF0ZSArICdUMDQ6NTk6NTlaJykuZ2V0VGltZSgpIC8gMTAwMCkgKyA4NjQwMDsgLy8gMjM6NTk6NTkgRVNUCgogIHRyeSB7CiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgKICAgICAgYCR7U1RSQVZBX0FQSV9CQVNFfS9hdGhsZXRlL2FjdGl2aXRpZXM/YWZ0ZXI9JHtzdGFydE9mRGF5fSZiZWZvcmU9JHtlbmRPZkRheX0mcGVyX3BhZ2U9MzBgLAogICAgICB7IGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCB9IH0KICAgICk7CgogICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkgewogICAgICAvLyBUb2tlbiB0cnVseSBleHBpcmVkIGFuZCByZWZyZXNoIGZhaWxlZCDigJQgYXNrIHVzZXIgdG8gcmVjb25uZWN0CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5BY3Rpdml0eVN1YicpLnRleHRDb250ZW50ID0gJ+KaoO+4jyBTdHJhdmEgc2Vzc2lvbiBleHBpcmVkIOKAlCByZWNvbm5lY3QgaW4gU2V0dGluZ3MnOwogICAgICBzZXRTdG9yYWdlKCdzdHJhdmFUb2tlbicsIG51bGwpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIXJlcy5vaykgewogICAgICBjb25zdCBlcnJUZXh0ID0gYXdhaXQgcmVzLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7CiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RyYXZhIEFQSSAke3Jlcy5zdGF0dXN9OiAke2VyclRleHQuc2xpY2UoMCwxMjApfWApOwogICAgfQoKICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBhd2FpdCByZXMuanNvbigpOwoKICAgIGNvbnN0IHJ1blR5cGVzID0gWydSdW4nLCdWaXJ0dWFsUnVuJywnVHJhaWxSdW4nLCdUcmVhZG1pbGwnLCdXYWxrJywnSGlrZSddOwogICAgY29uc3QgdG9kYXlSdW5zID0gYWN0aXZpdGllcy5maWx0ZXIoYSA9PiB7CiAgICAgIGNvbnN0IHR5cGUgPSBhLnNwb3J0X3R5cGUgfHwgYS50eXBlIHx8ICcnOwogICAgICByZXR1cm4gcnVuVHlwZXMuc29tZSh0ID0+IHR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpKTsKICAgIH0pOwoKICAgIGxldCB0b3RhbENhbG9yaWVzID0gMCwgdG90YWxEaXN0YW5jZSA9IDAsIHRvdGFsRHVyYXRpb24gPSAwLCBjb3VudCA9IHRvZGF5UnVucy5sZW5ndGg7CgogICAgLy8gVGhlIGxpc3QgZW5kcG9pbnQgZG9lc24ndCByZXR1cm4gY2Fsb3JpZXMg4oCUIGZldGNoIGRldGFpbCBmb3IgZWFjaCBydW4KICAgIC8vIChTdHJhdmEgZGV0YWlsIGVuZHBvaW50IGluY2x1ZGVzIHRoZSBjYWxvcmllcyBmaWVsZCBzaG93biBpbiBhcHApCiAgICBmb3IgKGNvbnN0IGEgb2YgdG9kYXlSdW5zKSB7CiAgICAgIGxldCBjYWwgPSAwOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRldGFpbFJlcyA9IGF3YWl0IGZldGNoKAogICAgICAgICAgYCR7U1RSQVZBX0FQSV9CQVNFfS9hY3Rpdml0aWVzLyR7YS5pZH1gLAogICAgICAgICAgeyBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfSB9CiAgICAgICAgKTsKICAgICAgICBpZiAoZGV0YWlsUmVzLm9rKSB7CiAgICAgICAgICBjb25zdCBkZXRhaWwgPSBhd2FpdCBkZXRhaWxSZXMuanNvbigpOwogICAgICAgICAgY2FsID0gZGV0YWlsLmNhbG9yaWVzIHx8IDA7CiAgICAgICAgfQogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAvLyBGYWxsYmFjazogZXN0aW1hdGUgZnJvbSBraWxvam91bGVzIGlmIGRldGFpbCBmZXRjaCBmYWlscwogICAgICAgIGNhbCA9IGEua2lsb2pvdWxlcyA/IE1hdGgucm91bmQoYS5raWxvam91bGVzIC8gNC4xODQpIDogMDsKICAgICAgfQogICAgICB0b3RhbENhbG9yaWVzICs9IGNhbDsKICAgICAgdG90YWxEaXN0YW5jZSArPSBhLmRpc3RhbmNlIHx8IDA7CiAgICAgIHRvdGFsRHVyYXRpb24gKz0gYS5tb3ZpbmdfdGltZSB8fCAwOwogICAgfQoKICAgIHJlbmRlckdhcm1pbkNhcmQodG90YWxDYWxvcmllcywgdG90YWxEaXN0YW5jZSwgdG90YWxEdXJhdGlvbiwgY291bnQsICdzdHJhdmEnKTsKICAgIGlmIChnZXRTdG9yYWdlKCdzdHJhdmFBdXRvQWRqdXN0JywgdHJ1ZSkpIGFkanVzdE1hY3Jvc0ZvckJ1cm4odG90YWxDYWxvcmllcyk7CiAgICBzZXRTdG9yYWdlKCdzdHJhdmFUb2RheScsIHsgY2Fsb3JpZXM6IHRvdGFsQ2Fsb3JpZXMsIGRpc3RhbmNlOiB0b3RhbERpc3RhbmNlLCBkdXJhdGlvbjogdG90YWxEdXJhdGlvbiwgZmV0Y2hlZDogRGF0ZS5ub3coKSB9KTsKICAgIHJlbmRlclNob2VTdHJhdmFDYXJkKCk7CgogICAgLy8gUHJvbXB0IHNob2UgYXNzaWdubWVudCBhZnRlciBydW4gc3luY3MKICAgIGlmICh0b2RheVJ1bnMubGVuZ3RoID4gMCAmJiB0b3RhbERpc3RhbmNlID4gMCkgewogICAgICBvblN0cmF2YVJ1blN5bmNlZCh7CiAgICAgICAgZGF0ZTogICAgICAgdG9kYXlLZXkoKSwKICAgICAgICBtaWxlczogICAgICB0b3RhbERpc3RhbmNlIC8gMTYwOS4zNCwKICAgICAgICBkdXJhdGlvbjogICB0b3RhbER1cmF0aW9uLAogICAgICAgIGNhbG9yaWVzOiAgIHRvdGFsQ2Fsb3JpZXMsCiAgICAgICAgYWN0aXZpdHlJZDogU3RyaW5nKHRvZGF5UnVuc1swXS5pZCksCiAgICAgIH0pOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pbkFjdGl2aXR5U3ViJykudGV4dENvbnRlbnQgPSAn4pqg77iPIFN0cmF2YSBzeW5jIGZhaWxlZCDigJQgJyArIGVyci5tZXNzYWdlOwogIH0KfQoKZnVuY3Rpb24gdXBkYXRlU3RyYXZhU2V0dGluZ3NVSSgpIHsKICBjb25zdCB0b2sgPSBnZXRTdG9yYWdlKCdzdHJhdmFUb2tlbicsIG51bGwpOwogIGNvbnN0IHN0YXR1c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cmF2YUNvbm5lY3RTdGF0dXMnKTsKICBjb25zdCBzZXR1cEVsICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJhdmFTZXR1cFN0ZXBzJyk7CiAgY29uc3QgcGFuZWxFbCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RyYXZhQ29ubmVjdGVkUGFuZWwnKTsKCiAgaWYgKHRvaykgewogICAgc3RhdHVzRWwuY2xhc3NOYW1lICAgPSAnY29ubmVjdC1zdGF0dXMgY29ubmVjdGVkJzsKICAgIHN0YXR1c0VsLnRleHRDb250ZW50ID0gJ/Cfn6IgQ29ubmVjdGVkJzsKICAgIHNldHVwRWwuc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7CiAgICBwYW5lbEVsLnN0eWxlLmRpc3BsYXkgID0gJ2Jsb2NrJzsKICAgIC8vIFNob3cgdGhlIGFjdGl2aXR5IGNhcmQgaW1tZWRpYXRlbHkg4oCUIGRhdGEgZmlsbHMgaW4gYWZ0ZXIgYXN5bmMgZmV0Y2gKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5DYXJkJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBjb25zdCBhID0gdG9rLmF0aGxldGU7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RyYXZhVXNlcm5hbWUnKS50ZXh0Q29udGVudCA9CiAgICAgIGEgPyBgJHthLmZpcnN0bmFtZSB8fCAnJ30gJHthLmxhc3RuYW1lIHx8ICcnfWAudHJpbSgpIDogJ1N0cmF2YSBVc2VyJzsKICAgIGNvbnN0IGNyZWRzID0gZ2V0U3RvcmFnZSgnc3RyYXZhQ3JlZHMnLCB7fSk7CiAgICBpZiAoY3JlZHMuY2xpZW50SWQpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJhdmFDbGllbnRJZCcpLnZhbHVlID0gY3JlZHMuY2xpZW50SWQ7CiAgfSBlbHNlIHsKICAgIHN0YXR1c0VsLmNsYXNzTmFtZSAgID0gJ2Nvbm5lY3Qtc3RhdHVzIGRpc2Nvbm5lY3RlZCc7CiAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9ICfimqogTm90IGNvbm5lY3RlZCc7CiAgICBzZXR1cEVsLnN0eWxlLmRpc3BsYXkgID0gJ2Jsb2NrJzsKICAgIHBhbmVsRWwuc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7CiAgfQp9CgpmdW5jdGlvbiB0b2dnbGVTdHJhdmFBdXRvQWRqdXN0KGJ0bikgewogIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdvbicpOwogIHNldFN0b3JhZ2UoJ3N0cmF2YUF1dG9BZGp1c3QnLCBidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdvbicpKTsKfQoKZnVuY3Rpb24gZGlzY29ubmVjdFN0cmF2YSgpIHsKICBpZiAoIWNvbmZpcm0oJ0Rpc2Nvbm5lY3QgeW91ciBTdHJhdmEgYWNjb3VudD8nKSkgcmV0dXJuOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHJhdmFUb2tlbicpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHJhdmFDcmVkcycpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHJhdmFUb2RheScpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHJhdmFBZGp1c3RlZE1hY3JvcycpOwogIHVwZGF0ZVN0cmF2YVNldHRpbmdzVUkoKTsKICAvLyBIaWRlIGdhcm1pbiBjYXJkIG9ubHkgaWYgZ2FybWluIGFsc28gbm90IGNvbm5lY3RlZAogIGNvbnN0IGdhcm1pblRvayA9IGdldFN0b3JhZ2UoJ2dhcm1pblRva2VuJywgbnVsbCk7CiAgaWYgKCFnYXJtaW5Ub2spIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5DYXJkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICByZW5kZXJSaW5ncygpOwogIHNob3dUb2FzdCgnU3RyYXZhIGRpc2Nvbm5lY3RlZCcpOwp9CgovLyDilIDilIAgV2VpZ2h0IFRyYWNraW5nICYgVHJlbmQg4pSA4pSACmNvbnN0IEdPQUxfV0VJR0hUICAgID0gMTYzOwpjb25zdCBTVEFSVF9XRUlHSFQgICA9IDE3MDsKY29uc3QgR09BTF9EQVlTICAgICAgPSAzMDsKY29uc3QgR09BTF9XRUVLTFlfTEIgPSAoU1RBUlRfV0VJR0hUIC0gR09BTF9XRUlHSFQpIC8gKEdPQUxfREFZUyAvIDcpOyAvLyB+MS42MyBsYnMvd2sKCmZ1bmN0aW9uIG9wZW5XZWlnaHRNb2RhbCgpIHsKICBjb25zdCBsb2cgPSBnZXRTdG9yYWdlKCd3ZWlnaHRMb2cnLCB7fSk7CiAgY29uc3QgdG9kYXkgPSBsb2dbdG9kYXlLZXkoKV07CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlaWdodElucHV0JykudmFsdWUgPSB0b2RheSB8fCAnJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZ2h0TW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7Cn0KCmZ1bmN0aW9uIHNhdmVXZWlnaHQoKSB7CiAgY29uc3QgdmFsID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZ2h0SW5wdXQnKS52YWx1ZSk7CiAgaWYgKCF2YWwgfHwgdmFsIDwgNTAgfHwgdmFsID4gNTAwKSB7IHNob3dUb2FzdCgn4pqg77iPIEVudGVyIGEgdmFsaWQgd2VpZ2h0Jyk7IHJldHVybjsgfQogIGNvbnN0IGxvZyA9IGdldFN0b3JhZ2UoJ3dlaWdodExvZycsIHt9KTsKICBsb2dbdG9kYXlLZXkoKV0gPSB2YWw7CiAgc2V0U3RvcmFnZSgnd2VpZ2h0TG9nJywgbG9nKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZ2h0TW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgcmVuZGVyV2VpZ2h0VHJlbmQoKTsKICBjaGVja0FkYXB0aXZlTWFjcm9zKCk7CiAgc2hvd1RvYXN0KGDimpbvuI8gJHt2YWx9IGxicyBsb2dnZWQhYCk7Cn0KCmZ1bmN0aW9uIGdldFdlaWdodFRyZW5kKCkgewogIGNvbnN0IGxvZyA9IGdldFN0b3JhZ2UoJ3dlaWdodExvZycsIHt9KTsKICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMobG9nKQogICAgLm1hcCgoW2RhdGUsIHdlaWdodF0pID0+ICh7IGRhdGUsIHdlaWdodCB9KSkKICAgIC5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKQogICAgLnNsaWNlKC0zMCk7IC8vIGxhc3QgMzAgZGF5cwogIHJldHVybiBlbnRyaWVzOwp9CgpmdW5jdGlvbiBzbW9vdGhlZFdlaWdodChlbnRyaWVzKSB7CiAgLy8gMy1kYXkgcm9sbGluZyBhdmVyYWdlCiAgcmV0dXJuIGVudHJpZXMubWFwKChlLCBpKSA9PiB7CiAgICBjb25zdCBzbGljZSA9IGVudHJpZXMuc2xpY2UoTWF0aC5tYXgoMCwgaS0yKSwgaSsxKTsKICAgIGNvbnN0IGF2ZyA9IHNsaWNlLnJlZHVjZSgocywgeCkgPT4gcyArIHgud2VpZ2h0LCAwKSAvIHNsaWNlLmxlbmd0aDsKICAgIHJldHVybiB7IC4uLmUsIHNtb290aGVkOiBNYXRoLnJvdW5kKGF2ZyAqIDEwKSAvIDEwIH07CiAgfSk7Cn0KCmZ1bmN0aW9uIHJlbmRlcldlaWdodFRyZW5kKCkgewogIGNvbnN0IGVudHJpZXMgPSBnZXRXZWlnaHRUcmVuZCgpOwogIGNvbnN0IGNhcmQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlaWdodFRyZW5kQ2FyZCcpOwogIGNvbnN0IHN2ZyAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlaWdodFNwYXJrbGluZScpOwogIGNvbnN0IGJhZGdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWlnaHRCYWRnZXMnKTsKICBjb25zdCBzdGF0QmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZ2h0U3RhdEJsb2NrJyk7CgogIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkgewogICAgc3ZnLmlubmVySFRNTCA9ICc8dGV4dCB4PSIxNTAiIHk9IjM0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExIiBmaWxsPSIjNGQ1NDY4IiBmb250LWZhbWlseT0iUGx1cyBKYWthcnRhIFNhbnMsIHNhbnMtc2VyaWYiPkxvZyB5b3VyIHdlaWdodCB0byBzZWUgeW91ciB0cmVuZDwvdGV4dD4nOwogICAgYmFkZ2VzLmlubmVySFRNTCA9ICcnOwogICAgc3RhdEJsb2NrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXR1cm47CiAgfQoKICAvLyBMYXRlc3Qgd2VpZ2h0CiAgY29uc3QgbGF0ZXN0ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWlnaHRUcmVuZFZhbCcpLnRleHRDb250ZW50ID0gbGF0ZXN0LndlaWdodDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZ2h0VHJlbmRTdWJ0aXRsZScpLnRleHRDb250ZW50ID0gYCR7ZW50cmllcy5sZW5ndGh9IGRheSR7ZW50cmllcy5sZW5ndGg+MT8ncyc6Jyd9IHRyYWNrZWQgwrcgR29hbDogJHtHT0FMX1dFSUdIVH0gbGJzYDsKICBzdGF0QmxvY2suc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogIC8vIFNwYXJrbGluZQogIGNvbnN0IHNtb290aGVkID0gc21vb3RoZWRXZWlnaHQoZW50cmllcyk7CiAgY29uc3Qgd2VpZ2h0cyAgPSBzbW9vdGhlZC5tYXAoZSA9PiBlLnNtb290aGVkKTsKICBjb25zdCBtaW5XID0gTWF0aC5taW4oLi4ud2VpZ2h0cykgLSAxOwogIGNvbnN0IG1heFcgPSBNYXRoLm1heCguLi53ZWlnaHRzKSArIDE7CiAgY29uc3QgVyA9IDMwMCwgSCA9IDYwOwogIGNvbnN0IHRvWCA9IChpKSA9PiBlbnRyaWVzLmxlbmd0aCA9PT0gMSA/IFcvMiA6IChpIC8gKGVudHJpZXMubGVuZ3RoIC0gMSkpICogVzsKICBjb25zdCB0b1kgPSAodykgPT4gSCAtICgodyAtIG1pblcpIC8gKG1heFcgLSBtaW5XKSkgKiAoSCAtIDgpIC0gNDsKCiAgY29uc3QgcG9pbnRzID0gc21vb3RoZWQubWFwKChlLCBpKSA9PiBgJHt0b1goaSkudG9GaXhlZCgxKX0sJHt0b1koZS5zbW9vdGhlZCkudG9GaXhlZCgxKX1gKS5qb2luKCcgJyk7CiAgY29uc3QgZmlyc3RQdCA9IGAke3RvWCgwKS50b0ZpeGVkKDEpfSwke3RvWShzbW9vdGhlZFswXS5zbW9vdGhlZCkudG9GaXhlZCgxKX1gOwogIGNvbnN0IGxhc3RQdCAgPSBgJHt0b1goc21vb3RoZWQubGVuZ3RoLTEpLnRvRml4ZWQoMSl9LCR7dG9ZKHNtb290aGVkW3Ntb290aGVkLmxlbmd0aC0xXS5zbW9vdGhlZCkudG9GaXhlZCgxKX1gOwoKICAvLyBHb2FsIGxpbmUKICBjb25zdCBnb2FsWSA9IHRvWShHT0FMX1dFSUdIVCk7CgogIHN2Zy5pbm5lckhUTUwgPSBgCiAgICA8ZGVmcz4KICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJ3R3JhZCIgeDE9IjAiIHkxPSIwIiB4Mj0iMCIgeTI9IjEiPgogICAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMyMmM1NWUiIHN0b3Atb3BhY2l0eT0iMC4xOCIvPgogICAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzIyYzU1ZSIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICAke2dvYWxZID49IDAgJiYgZ29hbFkgPD0gSCA/IGA8bGluZSB4MT0iMCIgeTE9IiR7Z29hbFkudG9GaXhlZCgxKX0iIHgyPSIke1d9IiB5Mj0iJHtnb2FsWS50b0ZpeGVkKDEpfSIgc3Ryb2tlPSIjM2I4MmY2IiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1kYXNoYXJyYXk9IjQsMyIgb3BhY2l0eT0iMC41Ii8+CiAgICA8dGV4dCB4PSIke1ctMn0iIHk9IiR7KGdvYWxZLTMpLnRvRml4ZWQoMSl9IiB0ZXh0LWFuY2hvcj0iZW5kIiBmb250LXNpemU9IjkiIGZpbGw9IiMzYjgyZjYiIGZvbnQtZmFtaWx5PSJQbHVzIEpha2FydGEgU2FucyxzYW5zLXNlcmlmIiBvcGFjaXR5PSIwLjgiPkdvYWw8L3RleHQ+YCA6ICcnfQogICAgPHBvbHlsaW5lIHBvaW50cz0iJHtwb2ludHN9IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMmM1NWUiIHN0cm9rZS13aWR0aD0iMi41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICAgIDxjaXJjbGUgY3g9IiR7bGFzdFB0LnNwbGl0KCcsJylbMF19IiBjeT0iJHtsYXN0UHQuc3BsaXQoJywnKVsxXX0iIHI9IjMuNSIgZmlsbD0iIzIyYzU1ZSIvPgogIGA7CgogIC8vIFByb2dyZXNzIGJhZGdlcwogIGNvbnN0IHRvdGFsTG9zdCAgPSBTVEFSVF9XRUlHSFQgLSBsYXRlc3Qud2VpZ2h0OwogIGNvbnN0IHJlbWFpbmluZyAgPSBsYXRlc3Qud2VpZ2h0IC0gR09BTF9XRUlHSFQ7CiAgY29uc3QgZGF5c0luICAgICA9IGVudHJpZXMubGVuZ3RoOwogIGNvbnN0IGV4cGVjdGVkTG9zdCA9IChkYXlzSW4gLyBHT0FMX0RBWVMpICogKFNUQVJUX1dFSUdIVCAtIEdPQUxfV0VJR0hUKTsKICBjb25zdCBkaWZmICAgICAgID0gdG90YWxMb3N0IC0gZXhwZWN0ZWRMb3N0OwoKICBsZXQgc3RhdHVzQ2xhc3MgPSAnbmV1dHJhbCcsIHN0YXR1c1RleHQgPSAnS2VlcCBsb2dnaW5nJzsKICBpZiAoZW50cmllcy5sZW5ndGggPj0gNSkgewogICAgaWYgKGRpZmYgPj0gLTAuMyAmJiBkaWZmIDw9IDAuNSkgICB7IHN0YXR1c0NsYXNzID0gJ29uLXRyYWNrJzsgc3RhdHVzVGV4dCA9ICfinIUgT24gdHJhY2snOyB9CiAgICBlbHNlIGlmIChkaWZmIDwgLTAuMykgICAgICAgICAgICAgIHsgc3RhdHVzQ2xhc3MgPSAndG9vLXNsb3cnOyBzdGF0dXNUZXh0ID0gJ+KaoO+4jyBCZWhpbmQgcGFjZSc7IH0KICAgIGVsc2UgaWYgKGRpZmYgPiAwLjUpICAgICAgICAgICAgICAgeyBzdGF0dXNDbGFzcyA9ICd0b28tZmFzdCc7IHN0YXR1c1RleHQgPSAn4pqhIEFoZWFkIG9mIHBhY2UnOyB9CiAgfQoKICBiYWRnZXMuaW5uZXJIVE1MID0gWwogICAgcmVtYWluaW5nID4gMCA/IGA8c3BhbiBjbGFzcz0id2VpZ2h0LWJhZGdlIG5ldXRyYWwiPvCfk4kgJHtyZW1haW5pbmcudG9GaXhlZCgxKX0gbGJzIHRvIGdvPC9zcGFuPmAgOiBgPHNwYW4gY2xhc3M9IndlaWdodC1iYWRnZSBvbi10cmFjayI+8J+OiSBHb2FsIHJlYWNoZWQhPC9zcGFuPmAsCiAgICB0b3RhbExvc3QgPiAwID8gYDxzcGFuIGNsYXNzPSJ3ZWlnaHQtYmFkZ2Ugb24tdHJhY2siPuKIkiR7dG90YWxMb3N0LnRvRml4ZWQoMSl9IGxicyBsb3N0PC9zcGFuPmAgOiAnJywKICAgIGVudHJpZXMubGVuZ3RoID49IDMgPyBgPHNwYW4gY2xhc3M9IndlaWdodC1iYWRnZSAke3N0YXR1c0NsYXNzfSI+JHtzdGF0dXNUZXh0fTwvc3Bhbj5gIDogJycsCiAgXS5maWx0ZXIoQm9vbGVhbikuam9pbignJyk7Cn0KCi8vIOKUgOKUgCBBZGFwdGl2ZSBNYWNybyBBZGp1c3RtZW50IOKUgOKUgApmdW5jdGlvbiBjaGVja0FkYXB0aXZlTWFjcm9zKCkgewogIGNvbnN0IGVudHJpZXMgPSBnZXRXZWlnaHRUcmVuZCgpOwogIGlmIChlbnRyaWVzLmxlbmd0aCA8IDcpIHJldHVybjsgLy8gTmVlZCBhdCBsZWFzdCBhIHdlZWsgb2YgZGF0YQoKICAvLyBHZXQgbGFzdCA3IGRheXMgYXZlcmFnZQogIGNvbnN0IGxhc3Q3ID0gZW50cmllcy5zbGljZSgtNyk7CiAgY29uc3QgYXZnV2VpZ2h0ID0gbGFzdDcucmVkdWNlKChzLCBlKSA9PiBzICsgZS53ZWlnaHQsIDApIC8gbGFzdDcubGVuZ3RoOwoKICAvLyBHZXQgcHJldmlvdXMgNyBkYXlzIGF2ZyAoaWYgYXZhaWxhYmxlKQogIGlmIChlbnRyaWVzLmxlbmd0aCA8IDE0KSByZXR1cm47CiAgY29uc3QgcHJldjcgPSBlbnRyaWVzLnNsaWNlKC0xNCwgLTcpOwogIGNvbnN0IHByZXZBdmcgPSBwcmV2Ny5yZWR1Y2UoKHMsIGUpID0+IHMgKyBlLndlaWdodCwgMCkgLyBwcmV2Ny5sZW5ndGg7CgogIGNvbnN0IHdlZWtseUNoYW5nZSA9IGF2Z1dlaWdodCAtIHByZXZBdmc7IC8vIG5lZ2F0aXZlID0gbG9zaW5nCiAgY29uc3QgdGFyZ2V0Q2hhbmdlID0gLUdPQUxfV0VFS0xZX0xCOyAgICAgLy8gd2Ugd2FudCB+LTEuNjMgbGJzL3drCgogIGNvbnN0IGRpZmYgPSB3ZWVrbHlDaGFuZ2UgLSB0YXJnZXRDaGFuZ2U7IC8vIHBvc2l0aXZlID0gbG9zaW5nIHRvbyBzbG93LCBuZWdhdGl2ZSA9IHRvbyBmYXN0CgogIGxldCBuZXdDYWxvcmllcyA9IE1BQ1JPUy5jYWxvcmllczsKICBsZXQgbXNnID0gJyc7CgogIGlmIChNYXRoLmFicyhkaWZmKSA8IDAuMykgewogICAgbXNnID0gYOKchSBQZXJmZWN0IHBhY2Ug4oCUIGxvc2luZyAke01hdGguYWJzKHdlZWtseUNoYW5nZSkudG9GaXhlZCgxKX0gbGJzL3drLiBNYWNyb3MgdW5jaGFuZ2VkLmA7CiAgfSBlbHNlIGlmIChkaWZmID4gMC4zKSB7CiAgICAvLyBMb3NpbmcgdG9vIHNsb3dseSDigJQgY3V0IG1vcmUKICAgIGNvbnN0IGN1dCA9IE1hdGgucm91bmQoZGlmZiAqIDUwMCk7CiAgICBuZXdDYWxvcmllcyA9IE1hdGgubWF4KDE4MDAsIE1BQ1JPUy5jYWxvcmllcyAtIGN1dCk7CiAgICBtc2cgPSBg4pqg77iPIExvc2luZyAke01hdGguYWJzKHdlZWtseUNoYW5nZSkudG9GaXhlZCgxKX0gbGJzL3drIOKAlCBiZWxvdyB0YXJnZXQuIFJlZHVjaW5nIGNhbG9yaWVzIGJ5ICR7TUFDUk9TLmNhbG9yaWVzIC0gbmV3Q2Fsb3JpZXN9IHRvICR7bmV3Q2Fsb3JpZXN9IGtjYWwuYDsKICB9IGVsc2UgewogICAgLy8gTG9zaW5nIHRvbyBmYXN0IOKAlCBhZGQgYmFjawogICAgY29uc3QgYWRkID0gTWF0aC5yb3VuZChNYXRoLmFicyhkaWZmKSAqIDUwMCk7CiAgICBuZXdDYWxvcmllcyA9IE1hdGgubWluKDI4MDAsIE1BQ1JPUy5jYWxvcmllcyArIGFkZCk7CiAgICBtc2cgPSBg4pqhIExvc2luZyAke01hdGguYWJzKHdlZWtseUNoYW5nZSkudG9GaXhlZCgxKX0gbGJzL3drIOKAlCBhaGVhZCBvZiB0YXJnZXQuIEFkZGluZyAke25ld0NhbG9yaWVzIC0gTUFDUk9TLmNhbG9yaWVzfSBjYWxvcmllcyB0byAke25ld0NhbG9yaWVzfSBrY2FsIHRvIHByb3RlY3QgbXVzY2xlLmA7CiAgfQoKICAvLyBVcGRhdGUgYWRhcHRpdmUgdGFyZ2V0cwogIGNvbnN0IGFkanVzdGVkUHJvdGVpbiA9IE1BQ1JPUy5wcm90ZWluOyAvLyBhbHdheXMga2VlcCBwcm90ZWluIGhpZ2gKICBjb25zdCBhZGp1c3RlZENhcmJzICAgPSBNYXRoLnJvdW5kKChuZXdDYWxvcmllcyAtIGFkanVzdGVkUHJvdGVpbiAqIDQgLSBNQUNST1MuZmF0ICogOSkgLyA0KTsKICBjb25zdCBhZGFwdGl2ZSA9IHsgY2Fsb3JpZXM6IG5ld0NhbG9yaWVzLCBwcm90ZWluOiBhZGp1c3RlZFByb3RlaW4sIGNhcmJzOiBNYXRoLm1heCgxMDAsIGFkanVzdGVkQ2FyYnMpLCBmYXQ6IE1BQ1JPUy5mYXQgfTsKICBzZXRTdG9yYWdlKCdhZGFwdGl2ZU1hY3JvcycsIGFkYXB0aXZlKTsKCiAgY29uc3QgYmFubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkYXB0aXZlTWFjcm9CYW5uZXInKTsKICBjb25zdCB0ZXh0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRhcHRpdmVNYWNyb1RleHQnKTsKICBiYW5uZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICB0ZXh0LnRleHRDb250ZW50ID0gbXNnOwoKICByZW5kZXJSaW5ncygpOwp9CgovLyByZW5kZXJSaW5ncyDigJQgY2hlY2tzIGFkYXB0aXZlIG1hY3JvcywgR2FybWluL1N0cmF2YSBhZGp1c3RtZW50cywgYW5kIHJpbmdNb2RlCmZ1bmN0aW9uIHJlbmRlclJpbmdzKG92ZXJyaWRlTWFjcm9zKSB7CiAgY29uc3QgYWRhcHRpdmUgID0gZ2V0U3RvcmFnZSgnYWRhcHRpdmVNYWNyb3MnLCBudWxsKTsKICBjb25zdCBnYXJtaW5BZGogPSBnZXRTdG9yYWdlKCdnYXJtaW5BZGp1c3RlZE1hY3JvcycsIG51bGwpOwogIGNvbnN0IHRhcmdldHMgICA9IG92ZXJyaWRlTWFjcm9zIHx8IGdhcm1pbkFkaiB8fCBhZGFwdGl2ZSB8fCBNQUNST1M7CiAgY29uc3QgbWFjcm9Mb2cgID0gZ2V0U3RvcmFnZSgnbWFjcm9Mb2cnLCB7fSk7CiAgY29uc3QgZGF5RGF0YSAgID0gbWFjcm9Mb2dbZ2V0U2VsZWN0ZWREYXRlS2V5KCldIHx8IHsgY2Fsb3JpZXM6MCwgcHJvdGVpbjowLCBjYXJiczowLCBmYXQ6MCB9OwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaW5nc1JvdycpLmlubmVySFRNTCA9CiAgICBtYWtlU1ZHUmluZyhkYXlEYXRhLmNhbG9yaWVzLCB0YXJnZXRzLmNhbG9yaWVzLCAnI2Y1OWUwYicsICdDYWxvcmllcycsICdrY2FsJywgcmluZ01vZGUpICsKICAgIG1ha2VTVkdSaW5nKGRheURhdGEucHJvdGVpbiwgIHRhcmdldHMucHJvdGVpbiwgICcjMjJjNTVlJywgJ1Byb3RlaW4nLCAgJ2cnLCAgICByaW5nTW9kZSkgKwogICAgbWFrZVNWR1JpbmcoZGF5RGF0YS5jYXJicywgICAgdGFyZ2V0cy5jYXJicywgICAgJyMzYjgyZjYnLCAnQ2FyYnMnLCAgICAnZycsICAgIHJpbmdNb2RlKSArCiAgICBtYWtlU1ZHUmluZyhkYXlEYXRhLmZhdCwgICAgICB0YXJnZXRzLmZhdCwgICAgICAnI2VmNDQ0NCcsICdGYXQnLCAgICAgICdnJywgICAgcmluZ01vZGUpOwoKICAvLyBVcGRhdGUgdGhlIG1hY3JvIHRhcmdldHMgcm93CiAgY29uc3QgdENhbCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFyZ2V0Q2Fsb3JpZXMnKTsKICBjb25zdCB0UHJvICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXRQcm90ZWluJyk7CiAgY29uc3QgdENhcmIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFyZ2V0Q2FyYnMnKTsKICBjb25zdCB0RmF0ICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXRGYXQnKTsKICBjb25zdCB0U3JjICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXRTb3VyY2UnKTsKICBpZiAodENhbCkgdENhbC50ZXh0Q29udGVudCAgPSB0YXJnZXRzLmNhbG9yaWVzOwogIGlmICh0UHJvKSB0UHJvLnRleHRDb250ZW50ICA9IHRhcmdldHMucHJvdGVpbiArICdnJzsKICBpZiAodENhcmIpIHRDYXJiLnRleHRDb250ZW50ID0gdGFyZ2V0cy5jYXJicyArICdnJzsKICBpZiAodEZhdCkgdEZhdC50ZXh0Q29udGVudCAgPSB0YXJnZXRzLmZhdCArICdnJzsKICBpZiAodFNyYykgewogICAgaWYgKGdhcm1pbkFkaiB8fCBvdmVycmlkZU1hY3JvcykgewogICAgICBjb25zdCBoYXNTdHJhdmEgPSAhIWdldFN0b3JhZ2UoJ3N0cmF2YVRva2VuJywgbnVsbCk7CiAgICAgIHRTcmMudGV4dENvbnRlbnQgPSBoYXNTdHJhdmEgPyAn8J+foCBTdHJhdmEnIDogJ/CflLUgR2FybWluJzsKICAgICAgdFNyYy5zdHlsZS5jb2xvciA9IGhhc1N0cmF2YSA/ICcjZjk3MzE2JyA6ICcjM2I4MmY2JzsKICAgIH0gZWxzZSBpZiAoYWRhcHRpdmUpIHsKICAgICAgdFNyYy50ZXh0Q29udGVudCA9ICfwn6egIEFkYXB0aXZlJzsKICAgICAgdFNyYy5zdHlsZS5jb2xvciA9ICcjOGI1Y2Y2JzsKICAgIH0gZWxzZSB7CiAgICAgIHRTcmMudGV4dENvbnRlbnQgPSAnQmFzZSc7CiAgICAgIHRTcmMuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dDMpJzsKICAgIH0KICB9Cn0KCi8vIOKUgOKUgCBDb3B5IFllc3RlcmRheSdzIE1lYWxzIOKUgOKUgApmdW5jdGlvbiBjaGVja0NvcHlZZXN0ZXJkYXkoKSB7CiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHlZZXN0ZXJkYXlCdG4nKTsKICBpZiAoIWJ0bikgcmV0dXJuOwogIGNvbnN0IGFsbCA9IGdldFN0b3JhZ2UoJ2Zvb2RFbnRyaWVzJywge30pOwogIGNvbnN0IHlFbnRyaWVzID0gYWxsW2dldFllc3RlcmRheUtleSgpXSB8fCBbXTsKICBidG4uc3R5bGUuZGlzcGxheSA9IHlFbnRyaWVzLmxlbmd0aCA+IDAgPyAnZmxleCcgOiAnbm9uZSc7CiAgaWYgKHlFbnRyaWVzLmxlbmd0aCA+IDApIHsKICAgIGJ0bi50ZXh0Q29udGVudCA9IGDwn5OLIENvcHkgWWVzdGVyZGF5J3MgJHt5RW50cmllcy5sZW5ndGh9IG1lYWwke3lFbnRyaWVzLmxlbmd0aD4xPydzJzonJ31gOwogIH0KfQoKZnVuY3Rpb24gY29weVllc3RlcmRheU1lYWxzKCkgewogIGNvbnN0IGFsbCA9IGdldFN0b3JhZ2UoJ2Zvb2RFbnRyaWVzJywge30pOwogIC8vICJ5ZXN0ZXJkYXkiIHJlbGF0aXZlIHRvIHNlbGVjdGVkIGRheQogIGNvbnN0IHNlbERhdGUgPSBuZXcgRGF0ZShnZXRTZWxlY3RlZERhdGVLZXkoKSArICdUMTI6MDA6MDAnKTsKICBzZWxEYXRlLnNldERhdGUoc2VsRGF0ZS5nZXREYXRlKCkgLSAxKTsKICBjb25zdCBwcmV2S2V5ID0gZGF0ZVRvS2V5KHNlbERhdGUpOwogIGNvbnN0IHlFbnRyaWVzID0gKGFsbFtwcmV2S2V5XSB8fCBbXSkubWFwKGUgPT4gKHsKICAgIC4uLmUsCiAgICBpZDogICBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKSwKICAgIHRpbWU6IG5vd0VTVCgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IGhvdXI6JzItZGlnaXQnLCBtaW51dGU6JzItZGlnaXQnLCB0aW1lWm9uZTonQW1lcmljYS9OZXdfWW9yaycgfSksCiAgfSkpOwogIGlmICh5RW50cmllcy5sZW5ndGggPT09IDApIHsgc2hvd1RvYXN0KCdObyBtZWFscyBsb2dnZWQgdGhlIHByZXZpb3VzIGRheScpOyByZXR1cm47IH0KCiAgY29uc3QgdG9kYXlFbnRyaWVzID0gZ2V0Rm9vZEVudHJpZXMoKTsKICBzZXRGb29kRW50cmllcyhbLi4udG9kYXlFbnRyaWVzLCAuLi55RW50cmllc10pOwogIHJlbmRlclJpbmdzKCk7CiAgcmVuZGVyRm9vZExvZygpOwogIHJlbmRlcldlZWtseUJhbGFuY2UoKTsKICBzaG93VG9hc3QoYPCfk4sgQ29waWVkICR7eUVudHJpZXMubGVuZ3RofSBtZWFscyFgKTsKfQoKLy8g4pSA4pSAIERhaWx5IE1vdGl2YXRpb25hbCBRdW90ZSAoQ2xhdWRlIEFJKSDilIDilIAKYXN5bmMgZnVuY3Rpb24gbG9hZERhaWx5UXVvdGUoKSB7CiAgY29uc3QgUVVPVEVfS0VZID0gJ2RhaWx5UXVvdGUnOwogIGNvbnN0IHRvZGF5ID0gdG9kYXlLZXkoKTsKCiAgLy8gVXNlIGNhY2hlZCBxdW90ZSBpZiBhbHJlYWR5IGdlbmVyYXRlZCB0b2RheQogIGNvbnN0IGNhY2hlZCA9IGdldFN0b3JhZ2UoUVVPVEVfS0VZLCBudWxsKTsKICBpZiAoY2FjaGVkICYmIGNhY2hlZC5kYXRlID09PSB0b2RheSkgewogICAgcmVuZGVyUXVvdGUoY2FjaGVkLnF1b3RlLCBjYWNoZWQuYXV0aG9yKTsKICAgIHJldHVybjsKICB9CgogIC8vIENsZWFyIHN0YWxlIGNhY2hlIGZyb20gYSBwcmV2aW91cyBkYXkKICBpZiAoY2FjaGVkICYmIGNhY2hlZC5kYXRlICE9PSB0b2RheSkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oUVVPVEVfS0VZKTsKICB9CgogIGNvbnN0IHRleHRFbCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhaWx5UXVvdGVUZXh0Jyk7CiAgY29uc3QgYXV0aG9yRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFpbHlRdW90ZUF1dGhvcicpOwogIHRleHRFbC50ZXh0Q29udGVudCA9ICdHZW5lcmF0aW5nIHRvZGF5XCdzIG1vdGl2YXRpb27igKYnOwogIHRleHRFbC5jbGFzc05hbWUgPSAncXVvdGUtdGV4dCBxdW90ZS1sb2FkaW5nJzsKICBhdXRob3JFbC50ZXh0Q29udGVudCA9ICcnOwoKICBjb25zdCBwcm9tcHQgPSBgWW91IGFyZSBhIHBlcnNvbmFsIGNvYWNoIGZvciBKZXJlbXksIGEgNTIteWVhci1vbGQgbWFuIHdvcmtpbmcgaGFyZCB0byBnbyBmcm9tIDE3MCBsYnMgdG8gMTYzIGxicyBpbiAzMCBkYXlzLiBIZSBmb2xsb3dzIGEgUHVzaC9QdWxsL0xlZ3MgbGlmdGluZyBwcm9ncmFtIDN4IHBlciB3ZWVrLCBydW5zIHJlZ3VsYXJseSwgYW5kIHRyYWNrcyBtYWNyb3MgYXQgMiwyMDAga2NhbC9kYXkgd2l0aCAxOTBnIHByb3RlaW4uCgpHZW5lcmF0ZSBPTkUgc2hvcnQsIHBvd2VyZnVsIG1vdGl2YXRpb25hbCBxdW90ZSBmb3IgdG9kYXkgKCR7bm93RVNUKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHt3ZWVrZGF5Oidsb25nJywgbW9udGg6J2xvbmcnLCBkYXk6J251bWVyaWMnLCB0aW1lWm9uZTonQW1lcmljYS9OZXdfWW9yayd9KX0pLiBUaGUgcXVvdGUgc2hvdWxkIGZlZWwgcGVyc29uYWwgdG8gaGlzIGpvdXJuZXkg4oCUIHRvdWNoaW5nIG9uIG9uZSBvciBtb3JlIG9mOiBzdHJlbmd0aCB0cmFpbmluZyBhdCA1Miwgc3RheWluZyBkaXNjaXBsaW5lZCB3aXRoIG51dHJpdGlvbiwgd2VpZ2h0IGxvc3MsIGNvbnNpc3RlbmN5LCBvciB0aGUgbWVudGFsIGdhbWUgb2YgZml0bmVzcy4KClRoZSBxdW90ZSBjYW4gYmUgb3JpZ2luYWwgb3IgYXR0cmlidXRlZCB0byBhIHJlYWwgcGVyc29uLiBLZWVwIGl0IHVuZGVyIDMwIHdvcmRzLgoKUmVzcG9uZCB3aXRoIE9OTFkgdmFsaWQgSlNPTiwgbm8gbWFya2Rvd246CnsicXVvdGUiOiAiVGhlIHF1b3RlIHRleHQgaGVyZS4iLCAiYXV0aG9yIjogIuKAlCBBdXRob3IgTmFtZSAob3IgbGVhdmUgZW1wdHkgc3RyaW5nIGlmIG9yaWdpbmFsKSJ9YDsKCiAgLy8gTGFyZ2UgcG9vbCBvZiBmYWxsYmFjayBxdW90ZXMg4oCUIHJvdGF0ZWQgYnkgZGF0ZSBzbyBpdCBjaGFuZ2VzIGRhaWx5IGV2ZW4gb2ZmbGluZQogIGNvbnN0IGZhbGxiYWNrcyA9IFsKICAgIHsgcXVvdGU6ICJUaGUgb25seSBiYWQgd29ya291dCBpcyB0aGUgb25lIHRoYXQgZGlkbid0IGhhcHBlbi4gU2hvdyB1cCwgZXZlcnkgc2luZ2xlIGRheS4iLCBhdXRob3I6ICIiIH0sCiAgICB7IHF1b3RlOiAiRGlzY2lwbGluZSBpcyBjaG9vc2luZyBiZXR3ZWVuIHdoYXQgeW91IHdhbnQgbm93IGFuZCB3aGF0IHlvdSB3YW50IG1vc3QuIiwgYXV0aG9yOiAi4oCUIEFicmFoYW0gTGluY29sbiIgfSwKICAgIHsgcXVvdGU6ICJBdCA1MiwgeW91J3JlIG5vdCBzbG93aW5nIGRvd24uIFlvdSdyZSByZWZpbmluZy4gRXZlcnkgcmVwIGNvdW50cyBkb3VibGUuIiwgYXV0aG9yOiAiIiB9LAogICAgeyBxdW90ZTogIllvdXIgYm9keSBjYW4gc3RhbmQgYWxtb3N0IGFueXRoaW5nLiBJdCdzIHlvdXIgbWluZCB5b3UgaGF2ZSB0byBjb252aW5jZS4iLCBhdXRob3I6ICIiIH0sCiAgICB7IHF1b3RlOiAiU3VjY2VzcyBpcyB0aGUgc3VtIG9mIHNtYWxsIGVmZm9ydHMgcmVwZWF0ZWQgZGF5IGluIGFuZCBkYXkgb3V0LiIsIGF1dGhvcjogIuKAlCBSb2JlcnQgQ29sbGllciIgfSwKICAgIHsgcXVvdGU6ICJUaGUgZ3JvdW5kd29yayBmb3IgYWxsIGhhcHBpbmVzcyBpcyBnb29kIGhlYWx0aC4gTG9nIHlvdXIgbWFjcm9zLCBsaWZ0IGhlYXZ5LCByZXBlYXQuIiwgYXV0aG9yOiAiIiB9LAogICAgeyBxdW90ZTogIkl0IG5ldmVyIGdldHMgZWFzaWVyLiBZb3UganVzdCBnZXQgc3Ryb25nZXIuIiwgYXV0aG9yOiAiIiB9LAogICAgeyBxdW90ZTogIlRha2UgY2FyZSBvZiB5b3VyIGJvZHkuIEl0J3MgdGhlIG9ubHkgcGxhY2UgeW91IGhhdmUgdG8gbGl2ZS4iLCBhdXRob3I6ICLigJQgSmltIFJvaG4iIH0sCiAgICB7IHF1b3RlOiAiTW90aXZhdGlvbiBnZXRzIHlvdSBzdGFydGVkLiBIYWJpdCBrZWVwcyB5b3UgZ29pbmcuIEJ1aWxkIHRoZSBoYWJpdC4iLCBhdXRob3I6ICIiIH0sCiAgICB7IHF1b3RlOiAiWW91IGRvbid0IGhhdmUgdG8gYmUgZXh0cmVtZS4gSnVzdCBiZSBjb25zaXN0ZW50LiIsIGF1dGhvcjogIiIgfSwKICAgIHsgcXVvdGU6ICJFdmVyeSByZXAgaXMgYSB2b3RlIGZvciB0aGUgcGVyc29uIHlvdSdyZSBiZWNvbWluZy4iLCBhdXRob3I6ICIiIH0sCiAgICB7IHF1b3RlOiAiU3RyZW5ndGggZG9lcyBub3QgY29tZSBmcm9tIHRoZSBib2R5LiBJdCBjb21lcyBmcm9tIHRoZSB3aWxsLiIsIGF1dGhvcjogIiIgfSwKICAgIHsgcXVvdGU6ICJUaGUgcGFpbiB5b3UgZmVlbCB0b2RheSB3aWxsIGJlIHRoZSBzdHJlbmd0aCB5b3UgZmVlbCB0b21vcnJvdy4iLCBhdXRob3I6ICIiIH0sCiAgICB7IHF1b3RlOiAiRml0bmVzcyBpcyBub3QgYWJvdXQgYmVpbmcgYmV0dGVyIHRoYW4gc29tZW9uZSBlbHNlLiBJdCdzIGFib3V0IGJlaW5nIGJldHRlciB0aGFuIHlvdSB1c2VkIHRvIGJlLiIsIGF1dGhvcjogIiIgfSwKICAgIHsgcXVvdGU6ICJBdCA1MiwgZXZlcnkgcG91bmQgeW91IGxvc2UgaXMgYSBnaWZ0IHRvIHRoZSBuZXh0IDMwIHllYXJzLiIsIGF1dGhvcjogIiIgfSwKICBdOwoKICB0cnkgewogICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAneC1hcGkta2V5JzogQU5USFJPUElDX0tFWSwKICAgICAgICAnYW50aHJvcGljLXZlcnNpb24nOiAnMjAyMy0wNi0wMScsCiAgICAgICAgJ2FudGhyb3BpYy1kYW5nZXJvdXMtZGlyZWN0LWJyb3dzZXItYWNjZXNzJzogJ3RydWUnLAogICAgICB9LAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgbW9kZWw6ICdjbGF1ZGUtaGFpa3UtNC01LTIwMjUxMDAxJywKICAgICAgICBtYXhfdG9rZW5zOiAyMDAsCiAgICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1dCiAgICAgIH0pCiAgICB9KTsKCiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdBUEkgZXJyb3IgJyArIHJlcy5zdGF0dXMpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICBjb25zdCByYXcgID0gZGF0YS5jb250ZW50LmZpbmQoYiA9PiBiLnR5cGUgPT09ICd0ZXh0Jyk/LnRleHQgfHwgJyc7CiAgICBjb25zdCBjbGVhbiA9IHJhdy5yZXBsYWNlKC9gYGBqc29ufGBgYC9nLCAnJykudHJpbSgpOwogICAgY29uc3QganNvbk1hdGNoID0gY2xlYW4ubWF0Y2goL1x7W1xzXFNdKlx9Lyk7CiAgICBpZiAoIWpzb25NYXRjaCkgdGhyb3cgbmV3IEVycm9yKCdObyBKU09OJyk7CiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7CgogICAgY29uc3QgZW50cnkgPSB7IGRhdGU6IHRvZGF5LCBxdW90ZTogcGFyc2VkLnF1b3RlLCBhdXRob3I6IHBhcnNlZC5hdXRob3IgfHwgJycgfTsKICAgIHNldFN0b3JhZ2UoUVVPVEVfS0VZLCBlbnRyeSk7CiAgICByZW5kZXJRdW90ZShlbnRyeS5xdW90ZSwgZW50cnkuYXV0aG9yKTsKCiAgfSBjYXRjaCAoZSkgewogICAgLy8gUGljayBmYWxsYmFjayBieSBkYXktb2YteWVhciBzbyBpdCBjaGFuZ2VzIGRhaWx5CiAgICBjb25zdCBkID0gbm93RVNUKCk7CiAgICBjb25zdCBkYXlPZlllYXIgPSBNYXRoLmZsb29yKChkIC0gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCAwLCAwKSkgLyA4NjQwMDAwMCk7CiAgICBjb25zdCBmYiA9IGZhbGxiYWNrc1tkYXlPZlllYXIgJSBmYWxsYmFja3MubGVuZ3RoXTsKICAgIHNldFN0b3JhZ2UoUVVPVEVfS0VZLCB7IGRhdGU6IHRvZGF5LCBxdW90ZTogZmIucXVvdGUsIGF1dGhvcjogZmIuYXV0aG9yIH0pOwogICAgcmVuZGVyUXVvdGUoZmIucXVvdGUsIGZiLmF1dGhvcik7CiAgfQp9CgpmdW5jdGlvbiByZW5kZXJRdW90ZShxdW90ZSwgYXV0aG9yKSB7CiAgY29uc3QgdGV4dEVsICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFpbHlRdW90ZVRleHQnKTsKICBjb25zdCBhdXRob3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWlseVF1b3RlQXV0aG9yJyk7CiAgdGV4dEVsLnRleHRDb250ZW50ID0gYCIke3F1b3RlfSJgOwogIHRleHRFbC5jbGFzc05hbWUgICA9ICdxdW90ZS10ZXh0IHF1b3RlLWFuaW1hdGUnOwogIGF1dGhvckVsLnRleHRDb250ZW50ID0gYXV0aG9yIHx8ICcnOwp9CgovLyDilIDilIAgV2Vla2x5IENhbG9yaWUgQmFsYW5jZSDilIDilIAKZnVuY3Rpb24gcmVuZGVyV2Vla2x5QmFsYW5jZSgpIHsKICBjb25zdCBncmlkICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWVrQmFsYW5jZUdyaWQnKTsKICBjb25zdCBzdW1Sb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vla2x5U3VtbWFyeVJvdycpOwogIGNvbnN0IHJhbmdlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vla1JhbmdlTGFiZWwnKTsKICBpZiAoIWdyaWQgfHwgIXN1bVJvdykgcmV0dXJuOwoKICAvLyBCdWlsZCBNb27igJNTdW4gdXNpbmcgcHVyZSBtcyBhcml0aG1ldGljIOKAlCBubyBzZXREYXRlLCBubyB0aW1lem9uZSBtdXRhdGlvbiBpc3N1ZXMKICBjb25zdCB0b2RheVN0ciAgID0gdG9kYXlLZXkoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnWVlZWS1NTS1ERCcgaW4gRVNUCiAgY29uc3QgdG9kYXlBbmNob3IgPSBuZXcgRGF0ZSh0b2RheVN0ciArICdUMTI6MDA6MDAnKTsgICAgICAgLy8gbm9vbiBsb2NhbCDigJQgc3RhYmxlIGFuY2hvcgogIGNvbnN0IERBWV9NUyAgICAgPSAyNCAqIDYwICogNjAgKiAxMDAwOwogIGNvbnN0IGRvdyAgICAgICAgPSB0b2RheUFuY2hvci5nZXREYXkoKTsgICAgICAgICAgICAgICAgICAgIC8vIDA9U3VuCiAgY29uc3QgZGlmZlRvTW9uICA9IChkb3cgPT09IDAgPyAtNiA6IDEgLSBkb3cpOyAgICAgICAgICAgICAvLyBzdGVwcyBiYWNrIHRvIE1vbmRheQogIGNvbnN0IG1vbk1zICAgICAgPSB0b2RheUFuY2hvci5nZXRUaW1lKCkgKyBkaWZmVG9Nb24gKiBEQVlfTVM7CiAgY29uc3Qgd2Vla0RheXMgICA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDcgfSwgKF8sIGkpID0+IG5ldyBEYXRlKG1vbk1zICsgaSAqIERBWV9NUykpOwoKICBjb25zdCBtYWNyb0xvZyAgID0gZ2V0U3RvcmFnZSgnbWFjcm9Mb2cnLCB7fSk7CiAgY29uc3QgYnVybkxvZyAgICA9IGdldFN0b3JhZ2UoJ2J1cm5Mb2cnLCB7fSk7CiAgY29uc3Qgc2hvZVJ1bnMgICA9IGdldFNob2VSdW5zKCk7IC8vIHJ1bnMgbG9nZ2VkIHZpYSBzaG9lIHRyYWNrZXIgKG1heSBoYXZlIGNhbG9yaWUgZGF0YSkKICAvLyBVc2UgdXNlclRERUUsIGZhbGxiYWNrIHRvIGFkYXB0aXZlIGNhbG9yaWVzLCBmYWxsYmFjayB0byBoYXJkY29kZWQgVERFRQogIGNvbnN0IGFkYXB0aXZlICAgPSBnZXRTdG9yYWdlKCdhZGFwdGl2ZU1hY3JvcycsIG51bGwpOwogIGNvbnN0IHVzZXJNYWNyb3MgPSBnZXRTdG9yYWdlKCd1c2VyTWFjcm9zJywgbnVsbCk7CiAgY29uc3QgYmFzZVRERUUgICA9IGdldFN0b3JhZ2UoJ3VzZXJUREVFJywgbnVsbCkgfHwgKGFkYXB0aXZlIHx8IHVzZXJNYWNyb3MgfHwgeyBjYWxvcmllczogVERFRSB9KS5jYWxvcmllczsKCiAgY29uc3QgREFZX05BTUVTID0gWydNb24nLCdUdWUnLCdXZWQnLCdUaHUnLCdGcmknLCdTYXQnLCdTdW4nXTsKCiAgY29uc3QgZGF5cyA9IHdlZWtEYXlzLm1hcCgoZCwgaSkgPT4gewogICAgY29uc3Qga2V5ICAgICA9IGRhdGVUb0tleShkKTsKICAgIGNvbnN0IGxvZyAgICAgPSBtYWNyb0xvZ1trZXldOwogICAgY29uc3QgaGFzRGF0YSA9ICEhbG9nICYmIGxvZy5jYWxvcmllcyA+IDA7CiAgICBjb25zdCBpc1RvZGF5ID0ga2V5ID09PSB0b2RheVN0cjsKICAgIGNvbnN0IGlzUGFzdCAgPSBrZXkgPD0gdG9kYXlTdHI7CgogICAgLy8gQnVybiBjYWxvcmllczogcHJlZmVyIGV4cGxpY2l0IGJ1cm5Mb2cgKFN0cmF2YS9HYXJtaW4pLCB0aGVuIGVzdGltYXRlIGZyb20gc2hvZVJ1bnMKICAgIGxldCBkYXlCdXJuID0gYnVybkxvZ1trZXldIHx8IDA7CiAgICBpZiAoIWRheUJ1cm4pIHsKICAgICAgLy8gRXN0aW1hdGUgZnJvbSBzaG9lIHJ1bnM6IH4xMDAgY2FsL21pbGUgKGNvbnNlcnZhdGl2ZSkKICAgICAgY29uc3QgZGF5UnVucyA9IHNob2VSdW5zLmZpbHRlcihyID0+IHIuZGF0ZSA9PT0ga2V5KTsKICAgICAgZGF5QnVybiA9IGRheVJ1bnMucmVkdWNlKChzLCByKSA9PiB7CiAgICAgICAgaWYgKHIuY2Fsb3JpZXMgJiYgci5jYWxvcmllcyA+IDApIHJldHVybiBzICsgci5jYWxvcmllczsgIC8vIFN0cmF2YS9HYXJtaW4gZXhhY3QKICAgICAgICByZXR1cm4gcyArIE1hdGgucm91bmQoKHIubWlsZXMgfHwgMCkgKiAxMDApOyAgICAgICAgICAgICAgLy8gZXN0aW1hdGUgaWYgbm8gY2FsIGRhdGEKICAgICAgfSwgMCk7CiAgICB9CgogICAgY29uc3QgdHJ1ZU1haW50ID0gYmFzZVRERUUgKyBkYXlCdXJuOwogICAgY29uc3QgYmFsYW5jZSAgID0gaGFzRGF0YSA/IChsb2cuY2Fsb3JpZXMgLSB0cnVlTWFpbnQpIDogbnVsbDsKICAgIHJldHVybiB7IG5hbWU6IERBWV9OQU1FU1tpXSwga2V5LCBiYWxhbmNlLCBoYXNEYXRhLCBpc1RvZGF5LCBpc1Bhc3QsIGRheUJ1cm4gfTsKICB9KTsKCiAgLy8gTWF4IGFic29sdXRlIGJhbGFuY2UgZm9yIHNjYWxpbmcgYmFycwogIGNvbnN0IG1heEFicyA9IE1hdGgubWF4KDUwMCwgLi4uZGF5cy5maWx0ZXIoZCA9PiBkLmJhbGFuY2UgIT09IG51bGwpLm1hcChkID0+IE1hdGguYWJzKGQuYmFsYW5jZSkpKTsKCiAgLy8gUmFuZ2UgbGFiZWwKICBjb25zdCBmbXQgPSBkID0+IGAke2QuZ2V0TW9udGgoKSsxfS8ke2QuZ2V0RGF0ZSgpfWA7CiAgaWYgKHJhbmdlRWwpIHJhbmdlRWwudGV4dENvbnRlbnQgPSBgJHtmbXQod2Vla0RheXNbMF0pfSDigJMgJHtmbXQod2Vla0RheXNbNl0pfWA7CgogIC8vIFJlbmRlciBiYXIgY2hhcnQKICBncmlkLmlubmVySFRNTCA9IGRheXMubWFwKGQgPT4gewogICAgY29uc3QgYmFsID0gZC5iYWxhbmNlOwogICAgY29uc3QgaXNTdXJwbHVzID0gYmFsID4gMDsKICAgIGNvbnN0IGhhc1ZhbCA9IGJhbCAhPT0gbnVsbDsKICAgIGNvbnN0IHR5cGUgPSAhaGFzVmFsID8gJ25vbmUnIDogaXNTdXJwbHVzID8gJ3N1cnBsdXMnIDogJ2RlZmljaXQnOwogICAgY29uc3QgYmFySCA9IGhhc1ZhbCA/IE1hdGgubWF4KDQsIE1hdGgucm91bmQoKE1hdGguYWJzKGJhbCkgLyBtYXhBYnMpICogNTIpKSA6IDM7CiAgICBjb25zdCBsYWJlbCA9ICFoYXNWYWwKICAgICAgPyAoZC5pc1Bhc3QgPyAn4oCUJyA6ICcnKQogICAgICA6IGlzU3VycGx1cwogICAgICAgID8gYCske01hdGguYWJzKGJhbCkgPj0gMTAwMCA/IChNYXRoLmFicyhiYWwpLzEwMDApLnRvRml4ZWQoMSkrJ2snIDogTWF0aC5yb3VuZChNYXRoLmFicyhiYWwpKX1gCiAgICAgICAgOiBgLSR7TWF0aC5hYnMoYmFsKSA+PSAxMDAwID8gKE1hdGguYWJzKGJhbCkvMTAwMCkudG9GaXhlZCgxKSsnaycgOiBNYXRoLnJvdW5kKE1hdGguYWJzKGJhbCkpfWA7CiAgICBjb25zdCBydW5Eb3QgPSBkLmRheUJ1cm4gPiAwID8gYDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTo4cHg7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDoycHgiPvCfj4M8L2Rpdj5gIDogJyc7CgogICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSJ3YmQke2QuaXNUb2RheSA/ICcgd2JkLXRvZGF5JyA6ICcnfSI+CiAgICAgIDxkaXYgY2xhc3M9IndiZC1uYW1lIj4ke2QubmFtZX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0id2JkLWJhci13cmFwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3YmQtYmFyICR7dHlwZX0iIHN0eWxlPSJoZWlnaHQ6JHtiYXJIfXB4Ij48L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9IndiZC12YWwgJHt0eXBlfSI+JHtsYWJlbH08L2Rpdj4KICAgICAgJHtydW5Eb3R9CiAgICA8L2Rpdj5gOwogIH0pLmpvaW4oJycpOwoKICAvLyBXZWVrbHkgdG90YWxzCiAgY29uc3QgbG9nZ2VkRGF5cyAgID0gZGF5cy5maWx0ZXIoZCA9PiBkLmJhbGFuY2UgIT09IG51bGwpOwogIGNvbnN0IHdlZWtseU5ldCAgICA9IGxvZ2dlZERheXMucmVkdWNlKChzLCBkKSA9PiBzICsgZC5iYWxhbmNlLCAwKTsKICBjb25zdCB3ZWVrbHlCdXJuICAgPSBkYXlzLnJlZHVjZSgocywgZCkgPT4gcyArIChkLmRheUJ1cm4gfHwgMCksIDApOwogIGNvbnN0IHdlaWdodEltcGFjdCA9IHdlZWtseU5ldCAvIDM1MDA7IC8vIGxicyAobmVnID0gbG9zcykKICBjb25zdCBkYXlzTG9nZ2VkICAgPSBsb2dnZWREYXlzLmxlbmd0aDsKCiAgY29uc3QgbmV0Q29sb3IgPSB3ZWVrbHlOZXQgPCAwID8gJ3ZhcigtLWdyZWVuKScgOiB3ZWVrbHlOZXQgPiAwID8gJ3ZhcigtLXJlZCknIDogJ3ZhcigtLXRleHQpJzsKICBjb25zdCB3dENvbG9yICA9IHdlaWdodEltcGFjdCA8IDAgPyAndmFyKC0tZ3JlZW4pJyA6IHdlaWdodEltcGFjdCA+IDAgPyAndmFyKC0tcmVkKScgOiAndmFyKC0tdGV4dCknOwogIGNvbnN0IHd0U2lnbiAgID0gd2VpZ2h0SW1wYWN0IDwgMCA/ICfiiJInIDogd2VpZ2h0SW1wYWN0ID4gMCA/ICcrJyA6ICcnOwogIGNvbnN0IG5ldFNpZ24gID0gd2Vla2x5TmV0ICA8IDAgPyAn4oiSJyA6IHdlZWtseU5ldCAgPiAwID8gJysnIDogJyc7CgogIGNvbnN0IGJ1cm5UaWxlID0gd2Vla2x5QnVybiA+IDAKICAgID8gYDxkaXYgY2xhc3M9IndlZWtseS1zdGF0Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC12YWwiIHN0eWxlPSJjb2xvcjojZjk3MzE2Ij4ke3dlZWtseUJ1cm4udG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC1sYmwiPlJ1biBDYWxzIEJ1cm5lZDwvZGl2PgogICAgICA8L2Rpdj5gCiAgICA6ICcnOwoKICBzdW1Sb3cuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC12YWwiIHN0eWxlPSJjb2xvcjoke25ldENvbG9yfSI+JHtuZXRTaWdufSR7TWF0aC5hYnMoTWF0aC5yb3VuZCh3ZWVrbHlOZXQpKS50b0xvY2FsZVN0cmluZygpfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC1sYmwiPk5ldCB2cyBNYWludGVuYW5jZTwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdCI+CiAgICAgIDxkaXYgY2xhc3M9IndlZWtseS1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiR7d3RDb2xvcn0iPiR7d3RTaWdufSR7TWF0aC5hYnMod2VpZ2h0SW1wYWN0KS50b0ZpeGVkKDIpfSBsYnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQtbGJsIj5FeHBlY3RlZCBDaGFuZ2U8L2Rpdj4KICAgIDwvZGl2PgogICAgJHtidXJuVGlsZX0KICAgIDxkaXYgY2xhc3M9IndlZWtseS1zdGF0Ij4KICAgICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQtdmFsIj4ke2RheXNMb2dnZWR9Lzc8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQtbGJsIj5EYXlzIExvZ2dlZDwvZGl2PgogICAgPC9kaXY+YDsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vIOKUgOKUgCBVU0RBIEZvb2REYXRhIENlbnRyYWwgU2VhcmNoIOKUgOKUgAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKY29uc3QgVVNEQV9BUElfS0VZID0gJ0RFTU9fS0VZJzsgLy8gZnJlZSB0aWVyOiAzMCByZXEvaHIsIDUwL2RheQpjb25zdCBBTlRIUk9QSUNfS0VZID0gJ3NrLWFudC1hcGkwMy1pM0JkTlNSQi1iZGNacFlCT2toRFdLTlVoTWJ5LXduSkJqcE0yelRKY2x1UmJ0RlJ6Z3I2MU9vTTlvM1VtbC1JVUxTRDBKZkh3Wjl2M1hPUVd3djVtZy15ZWUzYUFBQSc7Cgphc3luYyBmdW5jdGlvbiBzZWFyY2hVU0RBKHF1ZXJ5LCBtYXhSZXN1bHRzID0gOCkgewogIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5uYWwudXNkYS5nb3YvZmRjL3YxL2Zvb2RzL3NlYXJjaD9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JnBhZ2VTaXplPSR7bWF4UmVzdWx0c30mYXBpX2tleT0ke1VTREFfQVBJX0tFWX1gOwogIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7CiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignVVNEQSBBUEkgZXJyb3InKTsKICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICByZXR1cm4gKGRhdGEuZm9vZHMgfHwgW10pLm1hcChmID0+IHsKICAgIGNvbnN0IG51dHIgPSBuID0+IChmLmZvb2ROdXRyaWVudHMgfHwgW10pLmZpbmQoeCA9PiB4Lm51dHJpZW50SWQgPT09IG4gfHwgeC5udXRyaWVudE51bWJlciA9PT0gU3RyaW5nKG4pKTsKICAgIHJldHVybiB7CiAgICAgIGZkY0lkOiAgICBmLmZkY0lkLAogICAgICBuYW1lOiAgICAgZi5kZXNjcmlwdGlvbiwKICAgICAgYnJhbmQ6ICAgIGYuYnJhbmRPd25lciB8fCBmLmJyYW5kTmFtZSB8fCAnJywKICAgICAgY2Fsb3JpZXM6IE1hdGgucm91bmQobnV0cigxMDA4KT8udmFsdWUgfHwgbnV0cignMjA4Jyk/LnZhbHVlIHx8IDApLAogICAgICBwcm90ZWluOiAgTWF0aC5yb3VuZCgobnV0cigxMDAzKT8udmFsdWUgfHwgbnV0cignMjAzJyk/LnZhbHVlIHx8IDApICogMTApIC8gMTAsCiAgICAgIGNhcmJzOiAgICBNYXRoLnJvdW5kKChudXRyKDEwMDUpPy52YWx1ZSB8fCBudXRyKCcyMDUnKT8udmFsdWUgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgZmF0OiAgICAgIE1hdGgucm91bmQoKG51dHIoMTAwNCk/LnZhbHVlIHx8IG51dHIoJzIwNCcpPy52YWx1ZSB8fCAwKSAqIDEwKSAvIDEwLAogICAgICBzZXJ2aW5nU2l6ZTogZi5zZXJ2aW5nU2l6ZSB8fCAxMDAsCiAgICAgIHNlcnZpbmdVbml0OiBmLnNlcnZpbmdTaXplVW5pdCB8fCAnZycsCiAgICB9OwogIH0pLmZpbHRlcihmID0+IGYuY2Fsb3JpZXMgPiAwKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vIOKUgOKUgCBSZXN0YXVyYW50IEZvb2QgU2VhcmNoIChVU0RBIEJyYW5kZWQgREIpIOKUgOKUgAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKYXN5bmMgZnVuY3Rpb24gcnVuUmVzdGF1cmFudFNlYXJjaCgpIHsKICBjb25zdCBxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnRTZWFyY2hJbnB1dCcpLnZhbHVlLnRyaW0oKTsKICBpZiAoIXEpIHJldHVybjsKICBjb25zdCBsb2FkRWwgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnRMb2FkaW5nJyk7CiAgY29uc3QgcmVzRWwgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50UmVzdWx0cycpOwogIGxvYWRFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICByZXNFbC5pbm5lckhUTUwgPSAnJzsKICB0cnkgewogICAgLy8gVXNlIFVTREEgYnJhbmRlZCBmb29kcyAoZGF0YVR5cGU9QnJhbmRlZCBjYXRjaGVzIHJlc3RhdXJhbnQgaXRlbXMpCiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkubmFsLnVzZGEuZ292L2ZkYy92MS9mb29kcy9zZWFyY2g/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocSl9JmRhdGFUeXBlPUJyYW5kZWQmcGFnZVNpemU9MTImYXBpX2tleT0ke1VTREFfQVBJX0tFWX1gOwogICAgY29uc3QgcmVzICA9IGF3YWl0IGZldGNoKHVybCk7CiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgIGNvbnN0IGZvb2RzID0gKGRhdGEuZm9vZHMgfHwgW10pLm1hcChmID0+IHsKICAgICAgY29uc3QgbnV0ciA9IG4gPT4gKGYuZm9vZE51dHJpZW50cyB8fCBbXSkuZmluZCh4ID0+IHgubnV0cmllbnRJZCA9PT0gbiB8fCB4Lm51dHJpZW50TnVtYmVyID09PSBTdHJpbmcobikpOwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICAgICBmLmRlc2NyaXB0aW9uLAogICAgICAgIGJyYW5kOiAgICBmLmJyYW5kT3duZXIgfHwgZi5icmFuZE5hbWUgfHwgJycsCiAgICAgICAgY2Fsb3JpZXM6IE1hdGgucm91bmQobnV0cigxMDA4KT8udmFsdWUgfHwgbnV0cignMjA4Jyk/LnZhbHVlIHx8IDApLAogICAgICAgIHByb3RlaW46ICBNYXRoLnJvdW5kKChudXRyKDEwMDMpPy52YWx1ZSB8fCBudXRyKCcyMDMnKT8udmFsdWUgfHwgMCkgKiAxMCkgLyAxMCwKICAgICAgICBjYXJiczogICAgTWF0aC5yb3VuZCgobnV0cigxMDA1KT8udmFsdWUgfHwgbnV0cignMjA1Jyk/LnZhbHVlIHx8IDApICogMTApIC8gMTAsCiAgICAgICAgZmF0OiAgICAgIE1hdGgucm91bmQoKG51dHIoMTAwNCk/LnZhbHVlIHx8IG51dHIoJzIwNCcpPy52YWx1ZSB8fCAwKSAqIDEwKSAvIDEwLAogICAgICAgIHNlcnZpbmdTaXplOiBmLnNlcnZpbmdTaXplIHx8IDEwMCwKICAgICAgICBzZXJ2aW5nVW5pdDogZi5zZXJ2aW5nU2l6ZVVuaXQgfHwgJ2cnLAogICAgICB9OwogICAgfSkuZmlsdGVyKGYgPT4gZi5jYWxvcmllcyA+IDApOwoKICAgIGxvYWRFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgaWYgKGZvb2RzLmxlbmd0aCA9PT0gMCkgewogICAgICByZXNFbC5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6dmFyKC0tdGV4dDMpO3BhZGRpbmc6MjBweDtmb250LXNpemU6MTNweCI+Tm8gcmVzdWx0cyBmb3VuZC4gVHJ5IGEgZGlmZmVyZW50IHNlYXJjaC48L2Rpdj4nOwogICAgICByZXR1cm47CiAgICB9CiAgICByZXNFbC5pbm5lckhUTUwgPSBmb29kcy5tYXAoKGYsIGkpID0+IGAKICAgICAgPGRpdiBjbGFzcz0iZGItcmVzdWx0IiBvbmNsaWNrPSJvcGVuRm9vZERldGFpbCgke0pTT04uc3RyaW5naWZ5KGYpLnJlcGxhY2UoLyIvZywgJyZxdW90OycpfSwgJ2xvZycpIj4KICAgICAgICA8ZGl2IGNsYXNzPSJkYi1yZXN1bHQtaW5mbyI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJkYi1yZXN1bHQtbmFtZSI+JHtmLm5hbWV9PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJkYi1yZXN1bHQtbWV0YSI+JHtmLmJyYW5kID8gZi5icmFuZCArICcgwrcgJyA6ICcnfSR7Zi5wcm90ZWlufWcgUCDCtyAke2YuY2FyYnN9ZyBDIMK3ICR7Zi5mYXR9ZyBGIMK3IHBlciAke2Yuc2VydmluZ1NpemV9JHtmLnNlcnZpbmdVbml0fTwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImRiLXJlc3VsdC1rY2FsIj4ke2YuY2Fsb3JpZXN9PGJyPjxzcGFuIHN0eWxlPSJmb250LXNpemU6OXB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiPmtjYWw8L3NwYW4+PC9kaXY+CiAgICAgIDwvZGl2PmApLmpvaW4oJycpOwogIH0gY2F0Y2goZSkgewogICAgbG9hZEVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXNFbC5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0iY29sb3I6dmFyKC0tcmVkKTtmb250LXNpemU6MTJweDtwYWRkaW5nOjEwcHgiPlNlYXJjaCBmYWlsZWQuIENoZWNrIHlvdXIgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluLjwvZGl2Pic7CiAgfQp9CgpmdW5jdGlvbiBxdWlja1Jlc3RhdXJhbnQoYnRuKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnRTZWFyY2hJbnB1dCcpLnZhbHVlID0gYnRuLnRleHRDb250ZW50LnJlcGxhY2UoL15bXiBdKyAvLCcnKTsKICBydW5SZXN0YXVyYW50U2VhcmNoKCk7Cn0KCi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAovLyDilIDilIAgU2hhcmVkIEZvb2QgRGV0YWlsIE1vZGFsIOKUgOKUgAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKbGV0IGZkRm9vZCA9IG51bGwsIGZkU2VydmluZ3MgPSAxLCBmZE1vZGUgPSAnbG9nJywgZmRSZWNpcGVDYWxsYmFjayA9IG51bGw7CgpmdW5jdGlvbiBvcGVuRm9vZERldGFpbChmb29kLCBtb2RlLCByZWNpcGVDYWxsYmFjaykgewogIGZkRm9vZCA9IGZvb2Q7IGZkU2VydmluZ3MgPSAxOyBmZE1vZGUgPSBtb2RlOyBmZFJlY2lwZUNhbGxiYWNrID0gcmVjaXBlQ2FsbGJhY2sgfHwgbnVsbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmRUaXRsZScpLnRleHRDb250ZW50ID0gbW9kZSA9PT0gJ3JlY2lwZScgPyAn4p6VIEFkZCB0byBSZWNpcGUnIDogJ/Cfjb3vuI8gTG9nIEZvb2QnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZFNlcnZpbmdzVmFsJykudGV4dENvbnRlbnQgPSAnMSc7CgogIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmRGb29kQ2FyZCcpOwogIGNhcmQuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0iZm9vZC1uYW1lIj4ke2Zvb2QubmFtZX08L2Rpdj4KICAgICR7Zm9vZC5icmFuZCA/IGA8ZGl2IGNsYXNzPSJmb29kLWJyYW5kIj4ke2Zvb2QuYnJhbmR9PC9kaXY+YCA6ICcnfQogICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyb3MiIGlkPSJmZE1hY3Jvc0dyaWQiPjwvZGl2PmA7CiAgcmVuZGVyRmRNYWNyb3MoKTsKCiAgY29uc3QgYnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZEFjdGlvbkJ0bnMnKTsKICBpZiAobW9kZSA9PT0gJ3JlY2lwZScpIHsKICAgIGJ0bnMuaW5uZXJIVE1MID0gYDxidXR0b24gY2xhc3M9ImJ0bi1ncmVlbiIgb25jbGljaz0iYWRkSW5ncmVkaWVudFRvUmVjaXBlKCkiPuKelSBBZGQgdG8gUmVjaXBlPC9idXR0b24+YDsKICB9IGVsc2UgewogICAgYnRucy5pbm5lckhUTUwgPSBgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJsb2dGZEZvb2QoKSI+TE9HIFRISVMgRk9PRCDinJM8L2J1dHRvbj5gOwogIH0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vZERldGFpbE1vZGFsJykuY2xhc3NMaXN0LmFkZCgnb3BlbicpOwp9CgpmdW5jdGlvbiByZW5kZXJGZE1hY3JvcygpIHsKICBjb25zdCBzID0gZmRTZXJ2aW5nczsKICBjb25zdCBmID0gZmRGb29kOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZE1hY3Jvc0dyaWQnKS5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAiPjxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC12YWwiPiR7TWF0aC5yb3VuZChmLmNhbG9yaWVzKnMpfTwvZGl2PjxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC1sYmwiPmtjYWw8L2Rpdj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcCI+PGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLXZhbCI+JHsoZi5wcm90ZWluKnMpLnRvRml4ZWQoMSl9ZzwvZGl2PjxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcC1sYmwiPlByb3RlaW48L2Rpdj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvb2QtbWFjcm8tY2hpcCI+PGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwLXZhbCI+JHsoZi5jYXJicypzKS50b0ZpeGVkKDEpfWc8L2Rpdj48ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtbGJsIj5DYXJiczwvZGl2PjwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9vZC1tYWNyby1jaGlwIj48ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtdmFsIj4keyhmLmZhdCpzKS50b0ZpeGVkKDEpfWc8L2Rpdj48ZGl2IGNsYXNzPSJmb29kLW1hY3JvLWNoaXAtbGJsIj5GYXQ8L2Rpdj48L2Rpdj5gOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZFNlcnZpbmdzVmFsJykudGV4dENvbnRlbnQgPSBmZFNlcnZpbmdzICUgMSA9PT0gMCA/IGZkU2VydmluZ3MgOiBmZFNlcnZpbmdzLnRvRml4ZWQoMSk7Cn0KCmZ1bmN0aW9uIGFkanVzdEZkU2VydmluZ3MoZGVsdGEpIHsKICBmZFNlcnZpbmdzID0gTWF0aC5tYXgoMC41LCBmZFNlcnZpbmdzICsgZGVsdGEpOwogIHJlbmRlckZkTWFjcm9zKCk7Cn0KCmZ1bmN0aW9uIGxvZ0ZkRm9vZCgpIHsKICBpZiAoIWZkRm9vZCkgcmV0dXJuOwogIGNvbnN0IHMgPSBmZFNlcnZpbmdzOwogIGFkZEZvb2RFbnRyeSh7CiAgICBuYW1lOiAgICAgZmRGb29kLm5hbWUgKyAocyAhPT0gMSA/IGAgKMOXJHtzfSlgIDogJycpLAogICAgY2Fsb3JpZXM6IE1hdGgucm91bmQoZmRGb29kLmNhbG9yaWVzICogcyksCiAgICBwcm90ZWluOiAgTWF0aC5yb3VuZChmZEZvb2QucHJvdGVpbiAgKiBzICogMTApIC8gMTAsCiAgICBjYXJiczogICAgTWF0aC5yb3VuZChmZEZvb2QuY2FyYnMgICAgKiBzICogMTApIC8gMTAsCiAgICBmYXQ6ICAgICAgTWF0aC5yb3VuZChmZEZvb2QuZmF0ICAgICAgKiBzICogMTApIC8gMTAsCiAgICBpY29uOiAn8J+Nve+4jycsCiAgfSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb2REZXRhaWxNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTsKfQoKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCi8vIOKUgOKUgCBSZWNpcGUgQnVpbGRlciDilIDilIAKLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCmxldCBjdXJyZW50UmVjaXBlSW5ncmVkaWVudHMgPSBbXTsKCmZ1bmN0aW9uIG9wZW5OZXdSZWNpcGVNb2RhbCgpIHsKICBjdXJyZW50UmVjaXBlSW5ncmVkaWVudHMgPSBbXTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjaXBlTmFtZUlucHV0JykudmFsdWUgPSAnJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjaXBlSW5nU2VhcmNoSW5wdXQnKS52YWx1ZSA9ICcnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVJbmdSZXN1bHRzJykuaW5uZXJIVE1MID0gJyc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2lwZUluZ0xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIHJlbmRlclJlY2lwZUluZ0xpc3QoKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3UmVjaXBlTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFJlY2lwZUluZ3JlZGllbnQoKSB7CiAgY29uc3QgcSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVJbmdTZWFyY2hJbnB1dCcpLnZhbHVlLnRyaW0oKTsKICBpZiAoIXEpIHJldHVybjsKICBjb25zdCBsb2FkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjaXBlSW5nTG9hZGluZycpOwogIGNvbnN0IHJlc0VsICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVJbmdSZXN1bHRzJyk7CiAgbG9hZEVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIHJlc0VsLmlubmVySFRNTCA9ICcnOwogIHRyeSB7CiAgICBjb25zdCBmb29kcyA9IGF3YWl0IHNlYXJjaFVTREEocSwgNik7CiAgICBsb2FkRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGlmIChmb29kcy5sZW5ndGggPT09IDApIHsgcmVzRWwuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQzKTtwYWRkaW5nOjhweCI+Tm8gcmVzdWx0cy4gVHJ5IGEgZGlmZmVyZW50IHRlcm0uPC9kaXY+JzsgcmV0dXJuOyB9CiAgICByZXNFbC5pbm5lckhUTUwgPSBmb29kcy5tYXAoKGYsaSkgPT4gYAogICAgICA8ZGl2IGNsYXNzPSJkYi1yZXN1bHQiIG9uY2xpY2s9J2FkZEluZ1RvQ3VycmVudFJlY2lwZSgke0pTT04uc3RyaW5naWZ5KGYpfSknPgogICAgICAgIDxkaXYgY2xhc3M9ImRiLXJlc3VsdC1pbmZvIj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImRiLXJlc3VsdC1uYW1lIj4ke2YubmFtZX08L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImRiLXJlc3VsdC1tZXRhIj4ke2YuY2Fsb3JpZXN9IGtjYWwgwrcgJHtmLnByb3RlaW59ZyBQIMK3IHBlciAke2Yuc2VydmluZ1NpemV9JHtmLnNlcnZpbmdVbml0fTwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxOHB4O2NvbG9yOnZhcigtLWdyZWVuKSI+KzwvZGl2PgogICAgICA8L2Rpdj5gKS5qb2luKCcnKTsKICB9IGNhdGNoKGUpIHsKICAgIGxvYWRFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgcmVzRWwuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9ImNvbG9yOnZhcigtLXJlZCk7Zm9udC1zaXplOjEycHgiPlNlYXJjaCBmYWlsZWQuPC9kaXY+JzsKICB9Cn0KCmZ1bmN0aW9uIGFkZEluZ1RvQ3VycmVudFJlY2lwZShmb29kKSB7CiAgY3VycmVudFJlY2lwZUluZ3JlZGllbnRzLnB1c2goeyAuLi5mb29kLCBxdHk6IDEgfSk7CiAgcmVuZGVyUmVjaXBlSW5nTGlzdCgpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVJbmdSZXN1bHRzJykuaW5uZXJIVE1MID0gJyc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2lwZUluZ1NlYXJjaElucHV0JykudmFsdWUgPSAnJzsKICBzaG93VG9hc3QoYOKchSAke2Zvb2QubmFtZS5zbGljZSgwLDMwKX0gYWRkZWRgKTsKfQoKZnVuY3Rpb24gdXBkYXRlSW5nUXR5KGksIHZhbCkgewogIGN1cnJlbnRSZWNpcGVJbmdyZWRpZW50c1tpXS5xdHkgPSBwYXJzZUZsb2F0KHZhbCkgfHwgMTsKICByZW5kZXJSZWNpcGVJbmdMaXN0KCk7Cn0KCmZ1bmN0aW9uIHJlbW92ZUluZ3JlZGllbnQoaSkgewogIGN1cnJlbnRSZWNpcGVJbmdyZWRpZW50cy5zcGxpY2UoaSwgMSk7CiAgcmVuZGVyUmVjaXBlSW5nTGlzdCgpOwp9CgpmdW5jdGlvbiByZW5kZXJSZWNpcGVJbmdMaXN0KCkgewogIGNvbnN0IGxpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVJbmdyZWRpZW50c0xpc3QnKTsKICBjb25zdCB0b3RhbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2lwZVRvdGFsQmFyJyk7CiAgaWYgKGN1cnJlbnRSZWNpcGVJbmdyZWRpZW50cy5sZW5ndGggPT09IDApIHsKICAgIGxpc3RFbC5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtc3R5bGU6aXRhbGljIj5ObyBpbmdyZWRpZW50cyB5ZXQg4oCUIHNlYXJjaCBhYm92ZTwvZGl2Pic7CiAgICB0b3RhbEVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IHRvdGFscyA9IGN1cnJlbnRSZWNpcGVJbmdyZWRpZW50cy5yZWR1Y2UoKGEsIGluZykgPT4gKHsKICAgIGNhbG9yaWVzOiBhLmNhbG9yaWVzICsgaW5nLmNhbG9yaWVzICogaW5nLnF0eSwKICAgIHByb3RlaW46ICBhLnByb3RlaW4gICsgaW5nLnByb3RlaW4gICogaW5nLnF0eSwKICAgIGNhcmJzOiAgICBhLmNhcmJzICAgICsgaW5nLmNhcmJzICAgICogaW5nLnF0eSwKICAgIGZhdDogICAgICBhLmZhdCAgICAgICsgaW5nLmZhdCAgICAgICogaW5nLnF0eSwKICB9KSwgeyBjYWxvcmllczowLCBwcm90ZWluOjAsIGNhcmJzOjAsIGZhdDowIH0pOwoKICBsaXN0RWwuaW5uZXJIVE1MID0gY3VycmVudFJlY2lwZUluZ3JlZGllbnRzLm1hcCgoaW5nLCBpKSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJyZWNpcGUtaW5ncmVkaWVudC1yb3ciPgogICAgICA8ZGl2IGNsYXNzPSJyZWNpcGUtaW5nLW5hbWUiPiR7aW5nLm5hbWUubGVuZ3RoID4gMzIgPyBpbmcubmFtZS5zbGljZSgwLDMyKSsn4oCmJyA6IGluZy5uYW1lfTwvZGl2PgogICAgICA8aW5wdXQgY2xhc3M9ImluZy1xdHktaW5wdXQiIHR5cGU9Im51bWJlciIgdmFsdWU9IiR7aW5nLnF0eX0iIG1pbj0iMC4yNSIgc3RlcD0iMC4yNSIKICAgICAgICBvbmNoYW5nZT0idXBkYXRlSW5nUXR5KCR7aX0sIHRoaXMudmFsdWUpIiB0aXRsZT0iU2VydmluZ3MiIC8+CiAgICAgIDxkaXYgY2xhc3M9InJlY2lwZS1pbmctbWFjcm9zIj4ke01hdGgucm91bmQoaW5nLmNhbG9yaWVzKmluZy5xdHkpfSBrY2FsPC9kaXY+CiAgICAgIDxidXR0b24gb25jbGljaz0icmVtb3ZlSW5ncmVkaWVudCgke2l9KSIgc3R5bGU9ImJhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtjb2xvcjp2YXIoLS1yZWQpO2ZvbnQtc2l6ZToxNnB4O2N1cnNvcjpwb2ludGVyO2ZsZXgtc2hyaW5rOjAiPuKclTwvYnV0dG9uPgogICAgPC9kaXY+YCkuam9pbignJyk7CgogIHRvdGFsRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICB0b3RhbEVsLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ3NwYWNlLWJldHdlZW4nOwogIHRvdGFsRWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOwogIHRvdGFsRWwuaW5uZXJIVE1MID0gYAogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKSI+VE9UQUw8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InJlY2lwZS10b3RhbC1tYWNyb3MiPiR7TWF0aC5yb3VuZCh0b3RhbHMuY2Fsb3JpZXMpfSBrY2FsIMK3ICR7dG90YWxzLnByb3RlaW4udG9GaXhlZCgxKX1nIFAgwrcgJHt0b3RhbHMuY2FyYnMudG9GaXhlZCgxKX1nIEMgwrcgJHt0b3RhbHMuZmF0LnRvRml4ZWQoMSl9ZyBGPC9kaXY+YDsKfQoKZnVuY3Rpb24gc2F2ZVJlY2lwZSgpIHsKICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2lwZU5hbWVJbnB1dCcpLnZhbHVlLnRyaW0oKTsKICBpZiAoIW5hbWUpIHsgc2hvd1RvYXN0KCfimqDvuI8gRW50ZXIgYSByZWNpcGUgbmFtZScpOyByZXR1cm47IH0KICBpZiAoY3VycmVudFJlY2lwZUluZ3JlZGllbnRzLmxlbmd0aCA9PT0gMCkgeyBzaG93VG9hc3QoJ+KaoO+4jyBBZGQgYXQgbGVhc3Qgb25lIGluZ3JlZGllbnQnKTsgcmV0dXJuOyB9CgogIGNvbnN0IHRvdGFscyA9IGN1cnJlbnRSZWNpcGVJbmdyZWRpZW50cy5yZWR1Y2UoKGEsIGluZykgPT4gKHsKICAgIGNhbG9yaWVzOiBhLmNhbG9yaWVzICsgaW5nLmNhbG9yaWVzICogaW5nLnF0eSwKICAgIHByb3RlaW46ICBhLnByb3RlaW4gICsgaW5nLnByb3RlaW4gICogaW5nLnF0eSwKICAgIGNhcmJzOiAgICBhLmNhcmJzICAgICsgaW5nLmNhcmJzICAgICogaW5nLnF0eSwKICAgIGZhdDogICAgICBhLmZhdCAgICAgICsgaW5nLmZhdCAgICAgICogaW5nLnF0eSwKICB9KSwgeyBjYWxvcmllczowLCBwcm90ZWluOjAsIGNhcmJzOjAsIGZhdDowIH0pOwoKICBjb25zdCByZWNpcGUgPSB7CiAgICBpZDogICAgICAgICAgRGF0ZS5ub3coKSwKICAgIG5hbWUsCiAgICBpbmdyZWRpZW50czogY3VycmVudFJlY2lwZUluZ3JlZGllbnRzLm1hcChpID0+ICh7IC4uLmkgfSkpLAogICAgdG90YWxzOiAgICAgIHsgY2Fsb3JpZXM6IE1hdGgucm91bmQodG90YWxzLmNhbG9yaWVzKSwgcHJvdGVpbjogTWF0aC5yb3VuZCh0b3RhbHMucHJvdGVpbioxMCkvMTAsIGNhcmJzOiBNYXRoLnJvdW5kKHRvdGFscy5jYXJicyoxMCkvMTAsIGZhdDogTWF0aC5yb3VuZCh0b3RhbHMuZmF0KjEwKS8xMCB9LAogICAgY3JlYXRlZDogICAgIHRvZGF5S2V5KCksCiAgfTsKICBjb25zdCByZWNpcGVzID0gZ2V0U3RvcmFnZSgnc2F2ZWRSZWNpcGVzJywgW10pOwogIHJlY2lwZXMucHVzaChyZWNpcGUpOwogIHNldFN0b3JhZ2UoJ3NhdmVkUmVjaXBlcycsIHJlY2lwZXMpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdSZWNpcGVNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTsKICByZW5kZXJSZWNpcGVMaXN0KCk7CiAgc2hvd1RvYXN0KGDwn5OWICIke25hbWV9IiBzYXZlZCFgKTsKfQoKZnVuY3Rpb24gZGVsZXRlUmVjaXBlKGlkKSB7CiAgaWYgKCFjb25maXJtKCdEZWxldGUgdGhpcyByZWNpcGU/JykpIHJldHVybjsKICBjb25zdCByZWNpcGVzID0gZ2V0U3RvcmFnZSgnc2F2ZWRSZWNpcGVzJywgW10pLmZpbHRlcihyID0+IHIuaWQgIT09IGlkKTsKICBzZXRTdG9yYWdlKCdzYXZlZFJlY2lwZXMnLCByZWNpcGVzKTsKICByZW5kZXJSZWNpcGVMaXN0KCk7CiAgc2hvd1RvYXN0KCfwn5eR77iPIFJlY2lwZSBkZWxldGVkJyk7Cn0KCmZ1bmN0aW9uIGxvZ1JlY2lwZShpZCkgewogIGNvbnN0IHJlY2lwZSA9IGdldFN0b3JhZ2UoJ3NhdmVkUmVjaXBlcycsIFtdKS5maW5kKHIgPT4gci5pZCA9PT0gaWQpOwogIGlmICghcmVjaXBlKSByZXR1cm47CiAgYWRkRm9vZEVudHJ5KHsgbmFtZTogcmVjaXBlLm5hbWUsIC4uLnJlY2lwZS50b3RhbHMsIGljb246ICfwn5OWJyB9KTsKICBzaG93VG9hc3QoYOKchSAke3JlY2lwZS5uYW1lfSBsb2dnZWQhYCk7Cn0KCmZ1bmN0aW9uIHJlbmRlclJlY2lwZUxpc3QoKSB7CiAgY29uc3QgcmVjaXBlcyA9IGdldFN0b3JhZ2UoJ3NhdmVkUmVjaXBlcycsIFtdKTsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGVMaXN0Jyk7CiAgaWYgKCFlbCkgcmV0dXJuOwogIGlmIChyZWNpcGVzLmxlbmd0aCA9PT0gMCkgewogICAgZWwuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj5ObyByZWNpcGVzIHlldC48YnI+VGFwICIrIENyZWF0ZSBOZXcgUmVjaXBlIiB0byBidWlsZCB5b3VyIGZpcnN0IG9uZS48L2Rpdj4nOwogICAgcmV0dXJuOwogIH0KICBlbC5pbm5lckhUTUwgPSByZWNpcGVzLm1hcChyID0+IGAKICAgIDxkaXYgY2xhc3M9InJlY2lwZS1jYXJkIj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7bWFyZ2luLWJvdHRvbTo4cHgiPgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJyZWNpcGUtbmFtZSI+8J+TliAke3IubmFtZX08L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InJlY2lwZS1tZXRhIj4ke3IuaW5ncmVkaWVudHMubGVuZ3RofSBpbmdyZWRpZW50cyDCtyBDcmVhdGVkICR7ci5jcmVhdGVkfTwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTBweCAxMnB4O21hcmdpbi1ib3R0b206MTBweCI+CiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQpO21hcmdpbi1ib3R0b206NnB4Ij5OdXRyaXRpb24gKGZ1bGwgcmVjaXBlKTwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDtmbGV4LXdyYXA6d3JhcCI+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLWFtYmVyKSI+JHtyLnRvdGFscy5jYWxvcmllc30ga2NhbDwvc3Bhbj4KICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS1ncmVlbik7Zm9udC13ZWlnaHQ6NjAwIj4ke3IudG90YWxzLnByb3RlaW59ZyBQPC9zcGFuPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLWJsdWUpO2ZvbnQtd2VpZ2h0OjYwMCI+JHtyLnRvdGFscy5jYXJic31nIEM8L3NwYW4+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tcmVkKTtmb250LXdlaWdodDo2MDAiPiR7ci50b3RhbHMuZmF0fWcgRjwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweCI+CiAgICAgICAgJHtyLmluZ3JlZGllbnRzLm1hcChpbmcgPT4gYDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjtmb250LXNpemU6MTJweDtwYWRkaW5nOjRweCAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlcikiPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLXRleHQyKSI+JHtpbmcubmFtZS5zbGljZSgwLDQwKX08L3NwYW4+CiAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjYwMCI+w5cke2luZy5xdHl9IMK3ICR7TWF0aC5yb3VuZChpbmcuY2Fsb3JpZXMqaW5nLnF0eSl9IGtjYWw8L3NwYW4+CiAgICAgICAgPC9kaXY+YCkuam9pbignJyl9CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjhweCI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXJlY2lwZS1sb2ciIG9uY2xpY2s9ImxvZ1JlY2lwZSgke3IuaWR9KSI+4pyFIExvZyBUaGlzIE1lYWw8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tcmVjaXBlLWRlbGV0ZSIgb25jbGljaz0iZGVsZXRlUmVjaXBlKCR7ci5pZH0pIj7wn5eR77iPIERlbGV0ZTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PmApLmpvaW4oJycpOwp9CgovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKLy8g4pSA4pSAIE1vbnRobHkgVHJlbmQgQ2hhcnRzIOKUgOKUgAovLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKbGV0IGN1cnJlbnRUcmVuZE1ldHJpYyA9ICdjYWxvcmllcyc7CgpmdW5jdGlvbiBzZXRUcmVuZE1ldHJpYyhtZXRyaWMsIGJ0bikgewogIGN1cnJlbnRUcmVuZE1ldHJpYyA9IG1ldHJpYzsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcnQtdGFiJykuZm9yRWFjaChiID0+IGIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICByZW5kZXJUcmVuZENoYXJ0KCk7Cn0KCmZ1bmN0aW9uIHJlbmRlclRyZW5kQ2hhcnQoKSB7CiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoQ2hhcnRDb250YWluZXInKTsKICBjb25zdCBzdW1tYXJ5Um93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyZW5kU3VtbWFyeVJvdycpOwogIGlmICghY29udGFpbmVyKSByZXR1cm47CgogIGNvbnN0IG1ldHJpYyA9IGN1cnJlbnRUcmVuZE1ldHJpYzsKICBjb25zdCBpc1dlaWdodCA9IG1ldHJpYyA9PT0gJ3dlaWdodCc7CgogIC8vIEdldCBsYXN0IDMwIGRheXMgb2YgZGF0YQogIGNvbnN0IHRvZGF5ID0gbm93RVNUKCk7CiAgY29uc3QgZGF5cyA9IFtdOwogIGZvciAobGV0IGkgPSAyOTsgaSA+PSAwOyBpLS0pIHsKICAgIGNvbnN0IGQgPSBub3dFU1QoKTsKICAgIGQuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgLSBpKTsKICAgIGNvbnN0IGtleSA9IGRhdGVUb0tleShkKTsKICAgIGRheXMucHVzaCh7IGtleSwgbGFiZWw6IGQuZ2V0RGF0ZSgpLCBtb250aDogZC5nZXRNb250aCgpIH0pOwogIH0KCiAgbGV0IHZhbHVlczsKICBpZiAoaXNXZWlnaHQpIHsKICAgIGNvbnN0IHdlaWdodExvZyA9IGdldFN0b3JhZ2UoJ3dlaWdodExvZycsIHt9KTsKICAgIHZhbHVlcyA9IGRheXMubWFwKGQgPT4gKHsgLi4uZCwgdmFsOiB3ZWlnaHRMb2dbZC5rZXldIHx8IG51bGwgfSkpOwogIH0gZWxzZSB7CiAgICBjb25zdCBtYWNyb0xvZyA9IGdldFN0b3JhZ2UoJ21hY3JvTG9nJywge30pOwogICAgdmFsdWVzID0gZGF5cy5tYXAoZCA9PiB7CiAgICAgIGNvbnN0IGxvZyA9IG1hY3JvTG9nW2Qua2V5XTsKICAgICAgcmV0dXJuIHsgLi4uZCwgdmFsOiBsb2cgPyAobG9nW21ldHJpY10gfHwgMCkgOiBudWxsIH07CiAgICB9KTsKICB9CgogIGNvbnN0IGxvZ2dlZCA9IHZhbHVlcy5maWx0ZXIodiA9PiB2LnZhbCAhPT0gbnVsbCk7CiAgaWYgKGxvZ2dlZC5sZW5ndGggPT09IDApIHsKICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiIHN0eWxlPSJwYWRkaW5nOjMwcHggMCI+Tm8gZGF0YSBsb2dnZWQgeWV0IGZvciB0aGlzIG1ldHJpYy48L2Rpdj4nOwogICAgc3VtbWFyeVJvdy5pbm5lckhUTUwgPSAnJzsKICAgIHJldHVybjsKICB9CgogIGNvbnN0IG1heFZhbCA9IE1hdGgubWF4KC4uLmxvZ2dlZC5tYXAodiA9PiB2LnZhbCkpOwogIGNvbnN0IG1pblZhbCA9IE1hdGgubWluKC4uLmxvZ2dlZC5tYXAodiA9PiB2LnZhbCkpOwogIGNvbnN0IGF2Z1ZhbCA9IGxvZ2dlZC5yZWR1Y2UoKHMsIHYpID0+IHMgKyB2LnZhbCwgMCkgLyBsb2dnZWQubGVuZ3RoOwoKICBjb25zdCBjb2xvcnMgPSB7IGNhbG9yaWVzOicjZjU5ZTBiJywgcHJvdGVpbjonIzIyYzU1ZScsIGNhcmJzOicjM2I4MmY2JywgZmF0OicjZWY0NDQ0Jywgd2VpZ2h0OicjOGI1Y2Y2JyB9OwogIGNvbnN0IGNvbG9yID0gY29sb3JzW21ldHJpY107CiAgY29uc3QgdGFyZ2V0ID0gaXNXZWlnaHQgPyBudWxsIDogKE1BQ1JPU1ttZXRyaWNdIHx8IG51bGwpOwoKICAvLyBCYXIgY2hhcnQKICBjb25zdCBiYXJzID0gdmFsdWVzLm1hcChkID0+IHsKICAgIGNvbnN0IGhhc1ZhbCA9IGQudmFsICE9PSBudWxsOwogICAgY29uc3QgcGN0ID0gaGFzVmFsID8gTWF0aC5tYXgoNCwgTWF0aC5yb3VuZCgoZC52YWwgLyAobWF4VmFsICogMS4xKSkgKiAxMDApKSA6IDI7CiAgICBjb25zdCBpc1RvZGF5ID0gZC5rZXkgPT09IHRvZGF5S2V5KCk7CiAgICBjb25zdCBvdmVyVGFyZ2V0ID0gdGFyZ2V0ICYmIGhhc1ZhbCAmJiBkLnZhbCA+IHRhcmdldCAqIDEuMDU7CiAgICBjb25zdCBiYXJDb2xvciA9IG92ZXJUYXJnZXQgPyAnI2VmNDQ0NCcgOiAoaXNUb2RheSA/IGNvbG9yIDogY29sb3IgKyAnY2MnKTsKICAgIC8vIE1vbnRoIGJvdW5kYXJ5IGxhYmVscwogICAgY29uc3Qgc2hvd0xhYmVsID0gZC5sYWJlbCA9PT0gMSB8fCBkLmxhYmVsICUgNyA9PT0gMTsKICAgIHJldHVybiBgPGRpdiBjbGFzcz0ibW9udGgtYmFyLXdyYXAiPgogICAgICA8ZGl2IGNsYXNzPSJtb250aC1iYXIiIHN0eWxlPSJoZWlnaHQ6JHtwY3R9JTtiYWNrZ3JvdW5kOiR7YmFyQ29sb3J9OyR7aXNUb2RheSA/ICdvdXRsaW5lOjJweCBzb2xpZCAjM2I4MmY2O2JvcmRlci1yYWRpdXM6NXB4IDVweCAwIDAnIDogJyd9Ij48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibW9udGgtYmFyLWxibCI+JHtzaG93TGFiZWwgPyBkLmxhYmVsIDogJyd9PC9kaXY+CiAgICA8L2Rpdj5gOwogIH0pLmpvaW4oJycpOwoKICBjb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9Im1vbnRoLWJhci1jaGFydCI+JHtiYXJzfTwvZGl2PmA7CgogIC8vIFN1bW1hcnkgc3RhdHMKICBjb25zdCB1bml0ID0gaXNXZWlnaHQgPyAnbGJzJyA6IChtZXRyaWMgPT09ICdjYWxvcmllcycgPyAna2NhbCcgOiAnZycpOwogIGNvbnN0IHRyZW5kID0gbG9nZ2VkLmxlbmd0aCA+PSA3CiAgICA/IChsb2dnZWRbbG9nZ2VkLmxlbmd0aC0xXS52YWwgLSBsb2dnZWRbMF0udmFsKS50b0ZpeGVkKDEpCiAgICA6IG51bGw7CiAgY29uc3QgdHJlbmRTdHIgPSB0cmVuZCA9PT0gbnVsbCA/ICfigJQnIDogKHRyZW5kID4gMCA/IGArJHt0cmVuZH1gIDogdHJlbmQpOwoKICBzdW1tYXJ5Um93LmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9IndlZWtseS1zdGF0IiBzdHlsZT0iYm9yZGVyLWNvbG9yOiR7Y29sb3J9MzAiPgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC12YWwiIHN0eWxlPSJjb2xvcjoke2NvbG9yfSI+JHtNYXRoLnJvdW5kKGF2Z1ZhbCl9PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9IndlZWtseS1zdGF0LWxibCI+MzAtRGF5IEF2ZyAoJHt1bml0fSk8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC12YWwiPiR7TWF0aC5yb3VuZChtYXhWYWwpfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC1sYmwiPlBlYWs8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0id2Vla2x5LXN0YXQiPgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC12YWwiIHN0eWxlPSJjb2xvcjoke3BhcnNlRmxvYXQodHJlbmRTdHIpIDwgMCAmJiBpc1dlaWdodCA/ICd2YXIoLS1ncmVlbiknIDogcGFyc2VGbG9hdCh0cmVuZFN0cikgPiAwICYmICFpc1dlaWdodCA/ICd2YXIoLS1yZWQpJyA6ICd2YXIoLS10ZXh0KSd9Ij4ke3RyZW5kU3RyfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC1sYmwiPjMwLURheSBUcmVuZDwvZGl2PgogICAgPC9kaXY+CiAgICAke3RhcmdldCA/IGA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdCI+CiAgICAgIDxkaXYgY2xhc3M9IndlZWtseS1zdGF0LXZhbCIgc3R5bGU9ImNvbG9yOiR7TWF0aC5hYnMoYXZnVmFsLXRhcmdldCkvdGFyZ2V0IDwgMC4wNSA/ICd2YXIoLS1ncmVlbiknIDogJ3ZhcigtLWFtYmVyKSd9Ij4ke01hdGgucm91bmQoKGF2Z1ZhbC90YXJnZXQpKjEwMCl9JTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ3ZWVrbHktc3RhdC1sYmwiPnZzIFRhcmdldDwvZGl2PgogICAgPC9kaXY+YCA6ICcnfWA7Cn0KCi8vIOKUgOKUgCBEYXRhIEJhY2t1cCAmIFJlc3RvcmUg4pSA4pSACmNvbnN0IEJBQ0tVUF9LRVlTID0gWwogICdsaWZ0UFJzJywKICAnbWFjcm9Mb2cnLCAnZm9vZEVudHJpZXMnLCAnd2VpZ2h0TG9nJywKICAnc2F2ZWRGb29kcycsICdzYXZlZFJlY2lwZXMnLCAnbGlmdExvZycsICdsaWZ0TG9nMicsCiAgJ2FkYXB0aXZlTWFjcm9zJywgJ2dhcm1pbkFkanVzdGVkTWFjcm9zJywgJ2RhaWx5UXVvdGUnLAogICdnYXJtaW5Ub2tlbicsICdnYXJtaW5DcmVkcycsICdnYXJtaW5Ub2RheScsCiAgJ3N0cmF2YVRva2VuJywgJ3N0cmF2YUNyZWRzJywgJ3N0cmF2YVRvZGF5JywKICAnZ2FybWluQXV0b0FkanVzdCcsICdzdHJhdmFBdXRvQWRqdXN0JywKICAnc2hvZUdhcmFnZScsICdzaG9lUnVucycsCl07CgpmdW5jdGlvbiBleHBvcnREYXRhKCkgewogIGNvbnN0IGJhY2t1cCA9IHsgX3ZlcnNpb246IDEsIF9leHBvcnRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBkYXRhOiB7fSB9OwogIEJBQ0tVUF9LRVlTLmZvckVhY2goa2V5ID0+IHsKICAgIGNvbnN0IHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7CiAgICBpZiAodmFsICE9PSBudWxsKSBiYWNrdXAuZGF0YVtrZXldID0gdmFsOyAvLyBzdG9yZSByYXcgc3RyaW5ncyB0byBhdm9pZCBkb3VibGUtcGFyc2UKICB9KTsKICBjb25zdCBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJhY2t1cCwgbnVsbCwgMildLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTsKICBjb25zdCB1cmwgID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICBjb25zdCBhICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogIGNvbnN0IGRhdGUgPSBkYXRlVG9LZXkobm93RVNUKCkpOwogIGEuaHJlZiAgICAgPSB1cmw7CiAgYS5kb3dubG9hZCA9IGBqZXJlbXltYWNyby1iYWNrdXAtJHtkYXRlfS5qc29uYDsKICBhLmNsaWNrKCk7CiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogIHNob3dUb2FzdCgn4pyFIEJhY2t1cCBkb3dubG9hZGVkIScpOwp9CgpmdW5jdGlvbiBpbXBvcnREYXRhKGlucHV0KSB7CiAgY29uc3QgZmlsZSA9IGlucHV0LmZpbGVzWzBdOwogIGlmICghZmlsZSkgcmV0dXJuOwogIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgdHJ5IHsKICAgICAgY29uc3QgYmFja3VwID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpOwogICAgICBpZiAoIWJhY2t1cC5kYXRhKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYmFja3VwIGZpbGUnKTsKICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgT2JqZWN0LmVudHJpZXMoYmFja3VwLmRhdGEpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbCk7CiAgICAgICAgY291bnQrKzsKICAgICAgfSk7CiAgICAgIC8vIFJlLXJlbmRlciBldmVyeXRoaW5nCiAgICAgIHJlbmRlclJpbmdzKCk7CiAgICAgIHJlbmRlcldlZWtTdHJpcCgpOwogICAgICByZW5kZXJGb29kTG9nKCk7CiAgICAgIHJlbmRlcldlaWdodFRyZW5kKCk7CiAgICAgIGNoZWNrQ29weVllc3RlcmRheSgpOwogICAgICBjaGVja0FkYXB0aXZlTWFjcm9zKCk7CiAgICAgIHJlbmRlcldlZWtseUJhbGFuY2UoKTsKICAgICAgcmVuZGVyUmVjaXBlTGlzdCgpOwoKICAgICAgY29uc3Qgc3RhdHVzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1wb3J0U3RhdHVzJyk7CiAgICAgIHN0YXR1c0VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9IGDinIUgUmVzdG9yZWQgJHtjb3VudH0gZGF0YSBlbnRyaWVzIHN1Y2Nlc3NmdWxseSFgOwogICAgICBzaG93VG9hc3QoJ+KchSBEYXRhIHJlc3RvcmVkISBBbGwgeW91ciBsb2dzIGFyZSBiYWNrLicpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsgc3RhdHVzRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSwgNTAwMCk7CiAgICB9IGNhdGNoKGVycikgewogICAgICBzaG93VG9hc3QoJ+KdjCBJbnZhbGlkIGJhY2t1cCBmaWxlIOKAlCBwbGVhc2UgdXNlIGEgZmlsZSBleHBvcnRlZCBmcm9tIHRoaXMgYXBwLicpOwogICAgfQogICAgaW5wdXQudmFsdWUgPSAnJzsgLy8gcmVzZXQgc28gc2FtZSBmaWxlIGNhbiBiZSByZS1pbXBvcnRlZAogIH07CiAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7Cn0KCi8vIOKUgOKUgCBTSE9FIFRSQUNLRVIg4pSA4pSACgpjb25zdCBTSE9FX0NPTE9SUyA9IFsnI2Y5NzMxNicsJyMyMmM1NWUnLCcjM2I4MmY2JywnIzhiNWNmNicsJyNlZjQ0NDQnLCcjMDZiNmQ0JywnI2Y1OWUwYicsJyNlYzQ4OTknXTsKZnVuY3Rpb24gZ2V0U2hvZXMoKSAgICB7IHJldHVybiBnZXRTdG9yYWdlKCdzaG9lR2FyYWdlJywgW10pOyB9CmZ1bmN0aW9uIHNldFNob2VzKHMpICAgeyBzZXRTdG9yYWdlKCdzaG9lR2FyYWdlJywgcyk7IH0KZnVuY3Rpb24gZ2V0U2hvZVJ1bnMoKSB7IHJldHVybiBnZXRTdG9yYWdlKCdzaG9lUnVucycsIFtdKTsgfQpmdW5jdGlvbiBzZXRTaG9lUnVucyhyKXsgc2V0U3RvcmFnZSgnc2hvZVJ1bnMnLCByKTsgfQovLyBQaG90b3Mgc3RvcmVkIHNlcGFyYXRlbHkgdG8gYXZvaWQgcXVvdGEgaXNzdWVzIHdpdGggZW1iZWRkZWQgYmFzZTY0Ci8vIENhY2hlIHNob2UgcGhvdG9zIGluIG1lbW9yeSDigJQgcmVzZXQgYW55IHRpbWUgcGhvdG9zIGFyZSBzYXZlZApsZXQgX3Nob2VQaG90b0NhY2hlID0gbnVsbDsKZnVuY3Rpb24gX2ludmFsaWRhdGVTaG9lUGhvdG9DYWNoZSgpIHsgX3Nob2VQaG90b0NhY2hlID0gbnVsbDsgfQpmdW5jdGlvbiBnZXRTaG9lUGhvdG8oc2hvZUlkKSB7CiAgaWYgKCFfc2hvZVBob3RvQ2FjaGUpIF9zaG9lUGhvdG9DYWNoZSA9IGdldFN0b3JhZ2UoJ3Nob2VQaG90b3MnLCB7fSk7CiAgcmV0dXJuIF9zaG9lUGhvdG9DYWNoZVtzaG9lSWRdIHx8IG51bGw7Cn0KLy8gTWlncmF0aW9uOiBpZiBvbGQgc2hvZXMgaGF2ZSBwaG90b0RhdGEgZW1iZWRkZWQsIG1vdmUgaXQgb3V0CmZ1bmN0aW9uIG1pZ3JhdGVTaG9lUGhvdG9zKCkgewogIGNvbnN0IHNob2VzICA9IGdldFNob2VzKCk7CiAgY29uc3QgcGhvdG9zID0gZ2V0U3RvcmFnZSgnc2hvZVBob3RvcycsIHt9KTsKICBsZXQgY2hhbmdlZCAgPSBmYWxzZTsKICBzaG9lcy5mb3JFYWNoKHMgPT4gewogICAgaWYgKHMucGhvdG9EYXRhKSB7CiAgICAgIHBob3Rvc1tzLmlkXSA9IHMucGhvdG9EYXRhOwogICAgICBkZWxldGUgcy5waG90b0RhdGE7CiAgICAgIHMuaGFzUGhvdG8gPSB0cnVlOwogICAgICBjaGFuZ2VkID0gdHJ1ZTsKICAgIH0KICB9KTsKICBpZiAoY2hhbmdlZCkgewogICAgX2ludmFsaWRhdGVTaG9lUGhvdG9DYWNoZSgpOwogICAgc2V0U3RvcmFnZSgnc2hvZVBob3RvcycsIHBob3Rvcyk7CiAgICBzZXRTdG9yYWdlKCdzaG9lR2FyYWdlJywgc2hvZXMpOwogIH0KfQoKZnVuY3Rpb24gc2hvZUN1cnJlbnRNaWxlcyhzaG9lSWQsIHJ1bnMpIHsKICBjb25zdCBzaG9lID0gZ2V0U2hvZXMoKS5maW5kKHMgPT4gcy5pZCA9PT0gc2hvZUlkKTsKICBjb25zdCBydW5NaWxlcyA9IChydW5zIHx8IGdldFNob2VSdW5zKCkpLmZpbHRlcihyID0+IHIuc2hvZUlkID09PSBzaG9lSWQpLnJlZHVjZSgocyxyKSA9PiBzKyhyLm1pbGVzfHwwKSwgMCk7CiAgcmV0dXJuIHJ1bk1pbGVzICsgKHNob2U/LnN0YXJ0TWlsZXMgfHwgMCkgKyAoc2hvZT8ubWlsZWFnZU9mZnNldCB8fCAwKTsKfQpmdW5jdGlvbiBsYXN0UnVuRGF0ZShzaG9lSWQsIHJ1bnMpIHsKICBjb25zdCBzciA9IChydW5zIHx8IGdldFNob2VSdW5zKCkpLmZpbHRlcihyID0+IHIuc2hvZUlkID09PSBzaG9lSWQpOwogIHJldHVybiBzci5sZW5ndGggPyBzci5tYXAociA9PiByLmRhdGUpLnNvcnQoKS5yZXZlcnNlKClbMF0gOiAnJzsKfQpmdW5jdGlvbiBzaG9lQXZnUGFjZShzaG9lSWQsIHJ1bnMpIHsKICBjb25zdCBzciA9IChydW5zIHx8IGdldFNob2VSdW5zKCkpLmZpbHRlcihyID0+IHIuc2hvZUlkID09PSBzaG9lSWQgJiYgci5taWxlcyA+IDAgJiYgci5kdXJhdGlvbiA+IDApOwogIGlmICghc3IubGVuZ3RoKSByZXR1cm4gbnVsbDsKICByZXR1cm4gc3IucmVkdWNlKChzLHIpID0+IHMrci5kdXJhdGlvbi82MCwgMCkgLyBzci5yZWR1Y2UoKHMscikgPT4gcytyLm1pbGVzLCAwKTsKfQpmdW5jdGlvbiBmb3JtYXRQYWNlKG1pblBlck1pbGUpIHsKICBpZiAoIW1pblBlck1pbGUpIHJldHVybiAn4oCUJzsKICBjb25zdCBtID0gTWF0aC5mbG9vcihtaW5QZXJNaWxlKTsKICBjb25zdCBzID0gTWF0aC5yb3VuZCgobWluUGVyTWlsZSAtIG0pICogNjApOwogIHJldHVybiBgJHttfToke1N0cmluZyhzKS5wYWRTdGFydCgyLCcwJyl9L21pYDsKfQoKZnVuY3Rpb24gcmVuZGVyU2hvZVN0cmF2YUNhcmQoKSB7CiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lU3RyYXZhQ2FyZCcpOwogIGlmICghY2FyZCkgcmV0dXJuOwogIGNvbnN0IGNhY2hlZCAgID0gZ2V0U3RvcmFnZSgnc3RyYXZhVG9kYXknLCBudWxsKSB8fCBnZXRTdG9yYWdlKCdnYXJtaW5Ub2RheScsIG51bGwpOwogIGNvbnN0IGlzU3RyYXZhID0gISFnZXRTdG9yYWdlKCdzdHJhdmFUb2tlbicsIG51bGwpOwogIGNvbnN0IGlzR2FybWluID0gISFnZXRTdG9yYWdlKCdnYXJtaW5Ub2tlbicsIG51bGwpOwogIGlmICghY2FjaGVkIHx8ICghaXNTdHJhdmEgJiYgIWlzR2FybWluKSkgeyBjYXJkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IHJldHVybjsgfQoKICBjb25zdCBtaWxlcyAgPSAoKGNhY2hlZC5kaXN0YW5jZSB8fCAwKSAvIDE2MDkuMzQpLnRvRml4ZWQoMik7CiAgY29uc3Qgc291cmNlID0gaXNTdHJhdmEgPyAn8J+foCBTeW5jZWQgZnJvbSBTdHJhdmEnIDogJ/CflLUgU3luY2VkIGZyb20gR2FybWluJzsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VTdHJhdmFNaWxlcycpLnRleHRDb250ZW50ID0gcGFyc2VGbG9hdChtaWxlcykgPiAwID8gYCR7bWlsZXN9IG1pYCA6ICcwIG1pJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVN0cmF2YVN1YicpLnRleHRDb250ZW50ICAgPSBzb3VyY2U7CiAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwp9CgpmdW5jdGlvbiByZW5kZXJTaG9lUGFnZSgpIHsKICByZW5kZXJTaG9lU3RyYXZhQ2FyZCgpOwogIGNvbnN0IHNob2VzICA9IGdldFNob2VzKCk7CiAgY29uc3QgcnVucyAgID0gZ2V0U2hvZVJ1bnMoKTsKICBjb25zdCBsaXN0RWwgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VMaXN0Jyk7CiAgY29uc3QgZW1wdHlFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lRW1wdHlTdGF0ZScpOwogIGNvbnN0IHN1bW1FbCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZUdhcmFnZVN1bW1hcnknKTsKICBjb25zdCB3YXJuRWwgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VSZXRpcmVXYXJuaW5nJyk7CiAgaWYgKCFsaXN0RWwpIHJldHVybjsKCiAgY29uc3QgdG90YWxNaWxlcyA9IHJ1bnMucmVkdWNlKChzLCByKSA9PiBzICsgKHIubWlsZXMgfHwgMCksIDApOwogIHN1bW1FbC50ZXh0Q29udGVudCA9IGAke3Nob2VzLmxlbmd0aH0gcGFpciR7c2hvZXMubGVuZ3RoICE9PSAxID8gJ3MnIDogJyd9IMK3ICR7dG90YWxNaWxlcy50b0ZpeGVkKDEpfSB0b3RhbCBtaWxlcyBsb2dnZWRgOwoKICAvLyBHYXJhZ2UgY291bnQgYmFkZ2UKICBjb25zdCBjb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VHYXJhZ2VDb3VudCcpOwogIGlmIChjb3VudEVsKSBjb3VudEVsLnRleHRDb250ZW50ID0gc2hvZXMubGVuZ3RoID8gYCR7c2hvZXMuZmlsdGVyKHM9PnMuc3RhdHVzPT09J2FjdGl2ZScpLmxlbmd0aH0gYWN0aXZlIMK3ICR7c2hvZXMuZmlsdGVyKHM9PnMuc3RhdHVzPT09J3JldGlyZWQnKS5sZW5ndGh9IHJldGlyZWRgIDogJyc7CgogIC8vIFJldGlyZW1lbnQgd2FybmluZ3MKICBjb25zdCB3YXJuaW5ncyA9IHNob2VzLmZpbHRlcihzID0+IHsKICAgIGNvbnN0IG1pID0gc2hvZUN1cnJlbnRNaWxlcyhzLmlkLCBydW5zKTsKICAgIHJldHVybiBzLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgbWkgPj0gKHMucmV0aXJlTWlsZXMgfHwgNDAwKSAqIDAuOTsKICB9KTsKICBpZiAod2FybmluZ3MubGVuZ3RoKSB7CiAgICB3YXJuRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB3YXJuRWwuaW5uZXJIVE1MID0gd2FybmluZ3MubWFwKHMgPT4gewogICAgICBjb25zdCBtaSA9IHNob2VDdXJyZW50TWlsZXMocy5pZCwgcnVucyk7CiAgICAgIHJldHVybiBg4pqg77iPIDxzdHJvbmc+JHtzLm5hbWV9PC9zdHJvbmc+IGlzIGF0ICR7bWkudG9GaXhlZCgwKX0gbWkgKCR7TWF0aC5yb3VuZChtaSAvIChzLnJldGlyZU1pbGVzIHx8IDQwMCkgKiAxMDApfSUgb2YgJHtzLnJldGlyZU1pbGVzIHx8IDQwMH0gbWkgbGltaXQpYDsKICAgIH0pLmpvaW4oJzxicj4nKTsKICB9IGVsc2UgeyB3YXJuRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfQoKICBpZiAoIXNob2VzLmxlbmd0aCkgewogICAgbGlzdEVsLmlubmVySFRNTCA9ICcnOwogICAgZW1wdHlFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJldHVybjsKICB9CiAgZW1wdHlFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICBjb25zdCBzb3J0ZWQgPSBbLi4uc2hvZXNdLnNvcnQoKGEsIGIpID0+IHsKICAgIGlmIChhLnN0YXR1cyAhPT0gYi5zdGF0dXMpIHJldHVybiBhLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAtMSA6IDE7CiAgICByZXR1cm4gbGFzdFJ1bkRhdGUoYi5pZCwgcnVucykubG9jYWxlQ29tcGFyZShsYXN0UnVuRGF0ZShhLmlkLCBydW5zKSk7CiAgfSk7CgogIGxpc3RFbC5pbm5lckhUTUwgPSBzb3J0ZWQubWFwKHNob2UgPT4gewogICAgY29uc3QgbWlsZXMgICAgID0gc2hvZUN1cnJlbnRNaWxlcyhzaG9lLmlkLCBydW5zKTsKICAgIGNvbnN0IHJldGlyZU1pICA9IHNob2UucmV0aXJlTWlsZXMgfHwgNDAwOwogICAgY29uc3QgcGN0ICAgICAgID0gTWF0aC5taW4obWlsZXMgLyByZXRpcmVNaSwgMSk7CiAgICBjb25zdCBzaG9lUnVucyAgPSBydW5zLmZpbHRlcihyID0+IHIuc2hvZUlkID09PSBzaG9lLmlkKTsKICAgIGNvbnN0IGF2Z1BhY2UgICA9IHNob2VBdmdQYWNlKHNob2UuaWQsIHJ1bnMpOwogICAgY29uc3QgbGFzdERhdGUgID0gbGFzdFJ1bkRhdGUoc2hvZS5pZCwgcnVucyk7CiAgICBjb25zdCBjb2xvciAgICAgPSBzaG9lLmNvbG9yIHx8IFNIT0VfQ09MT1JTW3BhcnNlSW50KHNob2UuaWQpICUgU0hPRV9DT0xPUlMubGVuZ3RoXSB8fCAnI2Y5NzMxNic7CiAgICBjb25zdCBiYXJDb2xvciAgPSBwY3QgPiAwLjkgPyAnI2VmNDQ0NCcgOiBwY3QgPiAwLjcgPyAnI2Y1OWUwYicgOiAnIzIyYzU1ZSc7CiAgICBjb25zdCBtaUxlZnQgICAgPSBNYXRoLm1heCgwLCByZXRpcmVNaSAtIG1pbGVzKTsKICAgIGNvbnN0IHBob3RvU3JjICA9IHNob2UuaGFzUGhvdG8gPyBnZXRTaG9lUGhvdG8oc2hvZS5pZCkgOiBudWxsOwoKICAgIC8vIFBob3RvIG9yIGNvbG91ciBhdmF0YXIKICAgIGNvbnN0IHBob3RvSHRtbCA9IHBob3RvU3JjCiAgICAgID8gYDxpbWcgc3JjPSIke3Bob3RvU3JjfSIgc3R5bGU9IndpZHRoOjcycHg7aGVpZ2h0OjcycHg7Ym9yZGVyLXJhZGl1czoxNHB4O29iamVjdC1maXQ6Y292ZXI7ZmxleC1zaHJpbms6MDtjdXJzb3I6cG9pbnRlciIgb25jbGljaz0ib3BlblNob2VEZXRhaWwoJyR7c2hvZS5pZH0nKSIgLz5gCiAgICAgIDogYDxkaXYgc3R5bGU9IndpZHRoOjcycHg7aGVpZ2h0OjcycHg7Ym9yZGVyLXJhZGl1czoxNHB4O2JhY2tncm91bmQ6JHtjb2xvcn0yMjtib3JkZXI6MnB4IHNvbGlkICR7Y29sb3J9NTU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZTozNHB4O2ZsZXgtc2hyaW5rOjA7Y3Vyc29yOnBvaW50ZXIiIG9uY2xpY2s9Im9wZW5TaG9lRGV0YWlsKCcke3Nob2UuaWR9JykiPvCfkZ88L2Rpdj5gOwoKICAgIHJldHVybiBgPGRpdiBjbGFzcz0ic2hvZS1jYXJkJHtzaG9lLnN0YXR1cyA9PT0gJ3JldGlyZWQnID8gJyByZXRpcmVkJyA6ICcnfSI+CiAgICAgIDxkaXYgY2xhc3M9InNob2UtY2FyZC1hY2NlbnQiIHN0eWxlPSJiYWNrZ3JvdW5kOiR7Y29sb3J9Ij48L2Rpdj4KCiAgICAgIDwhLS0gSGVhZGVyIHJvdzogcGhvdG8gKyBpbmZvICsgYWN0aW9ucyAtLT4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7Z2FwOjEycHg7cGFkZGluZy1sZWZ0OjhweDttYXJnaW4tYm90dG9tOjEycHgiPgogICAgICAgICR7cGhvdG9IdG1sfQogICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttaW4td2lkdGg6MCI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo4cHg7ZmxleC13cmFwOndyYXA7bWFyZ2luLWJvdHRvbToycHgiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzaG9lLW5hbWUiIHN0eWxlPSJjdXJzb3I6cG9pbnRlciIgb25jbGljaz0ib3BlblNob2VEZXRhaWwoJyR7c2hvZS5pZH0nKSI+JHtlc2Moc2hvZS5uYW1lKX08L2Rpdj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNob2Utc3RhdHVzLWJhZGdlICR7c2hvZS5zdGF0dXMgPT09ICdyZXRpcmVkJyA/ICdzaG9lLXN0YXR1cy1yZXRpcmVkJyA6ICdzaG9lLXN0YXR1cy1hY3RpdmUnfSI+JHtzaG9lLnN0YXR1cyA9PT0gJ3JldGlyZWQnID8gJ1JldGlyZWQnIDogJ0FjdGl2ZSd9PC9zcGFuPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzaG9lLWJyYW5kIj4ke3Nob2UuYnJhbmQgfHwgJyd9JHtzaG9lLmNvbG9yID8gJyDCtyAnICsgc2hvZS5jb2xvciA6ICcnfTwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDMpO21hcmdpbi10b3A6NHB4Ij5MYXN0IHJ1bjogJHtsYXN0RGF0ZSA/IG5ldyBEYXRlKGxhc3REYXRlICsgJ1QxMjowMDowMCcpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOidzaG9ydCcsIGRheTonbnVtZXJpYycgfSkgOiAnTmV2ZXInfTwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gQWN0aW9uIGJ1dHRvbnMgLS0+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6NnB4O2ZsZXgtc2hyaW5rOjAiPgogICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJldmVudC5zdG9wUHJvcGFnYXRpb24oKTtvcGVuRWRpdFNob2UoJyR7c2hvZS5pZH0nKSIgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MTBweDtjb2xvcjp2YXIoLS10ZXh0Mik7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NXB4IDEwcHg7Y3Vyc29yOnBvaW50ZXI7d2hpdGUtc3BhY2U6bm93cmFwIj7inI/vuI8gRWRpdDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJldmVudC5zdG9wUHJvcGFnYXRpb24oKTtvcGVuU2hvZURldGFpbCgnJHtzaG9lLmlkfScpIiBzdHlsZT0iYmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxMHB4O2NvbG9yOiM2MGE1ZmE7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NXB4IDEwcHg7Y3Vyc29yOnBvaW50ZXI7d2hpdGUtc3BhY2U6bm93cmFwIj7wn5OLIFJ1bnM8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7ZGVsZXRlU2hvZSgnJHtzaG9lLmlkfScpIiBzdHlsZT0iYmFja2dyb3VuZDojMmQwZjBmO2JvcmRlcjoxLjVweCBzb2xpZCAjN2YxZDFkO2JvcmRlci1yYWRpdXM6MTBweDtjb2xvcjojZjg3MTcxO2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjVweCAxMHB4O2N1cnNvcjpwb2ludGVyO3doaXRlLXNwYWNlOm5vd3JhcCI+8J+Xke+4jyBEZWxldGU8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8IS0tIE1pbGVhZ2UgYmFyIC0tPgogICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nLWxlZnQ6OHB4Ij4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206NXB4Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxOHB4O2ZvbnQtd2VpZ2h0OjgwMDtjb2xvcjp2YXIoLS10ZXh0KSI+JHttaWxlcy50b0ZpeGVkKDEpfSA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQzKSI+bWk8L3NwYW4+PC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwIj4ke01hdGgucm91bmQocGN0ICogMTAwKX0lIMK3ICR7bWlMZWZ0LnRvRml4ZWQoMCl9IG1pIGxlZnQgb2YgJHtyZXRpcmVNaX08L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzaG9lLW1pbGVhZ2UtYmFyLXRyYWNrIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9InNob2UtbWlsZWFnZS1iYXItZmlsbCIgc3R5bGU9IndpZHRoOiR7cGN0ICogMTAwfSU7YmFja2dyb3VuZDoke2JhckNvbG9yfSI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPCEtLSBTdGF0cyBncmlkIC0tPgogICAgICA8ZGl2IGNsYXNzPSJzaG9lLXN0YXRzLWdyaWQiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6OHB4Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJzaG9lLXN0YXQiPjxkaXYgY2xhc3M9InNob2Utc3RhdC12YWwiPiR7c2hvZVJ1bnMubGVuZ3RofTwvZGl2PjxkaXYgY2xhc3M9InNob2Utc3RhdC1sYmwiPlJ1bnM8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzaG9lLXN0YXQiPjxkaXYgY2xhc3M9InNob2Utc3RhdC12YWwiPiR7YXZnUGFjZSA/IGZvcm1hdFBhY2UoYXZnUGFjZSkgOiAn4oCUJ308L2Rpdj48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtbGJsIj5BdmcgUGFjZTwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNob2Utc3RhdCI+PGRpdiBjbGFzcz0ic2hvZS1zdGF0LXZhbCI+JHtzaG9lUnVucy5sZW5ndGggPyAoc2hvZVJ1bnMucmVkdWNlKChzLCByKSA9PiBzICsgKHIubWlsZXMgfHwgMCksIDApIC8gc2hvZVJ1bnMubGVuZ3RoKS50b0ZpeGVkKDEpIDogJ+KAlCd9PC9kaXY+PGRpdiBjbGFzcz0ic2hvZS1zdGF0LWxibCI+QXZnIE1pbGVzPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2hvZS1zdGF0Ij48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtdmFsIj4ke21pTGVmdC50b0ZpeGVkKDApfTwvZGl2PjxkaXYgY2xhc3M9InNob2Utc3RhdC1sYmwiPk1pIExlZnQ8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj5gOwogIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiBvcGVuQWRkU2hvZU1vZGFsKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U2hvZUlkJykudmFsdWUgPSAnJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkU2hvZVRpdGxlJykudGV4dENvbnRlbnQgPSAn8J+RnyBBZGQgTmV3IFNob2UnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lTmFtZUlucHV0JykudmFsdWUgPSAnJzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZUJyYW5kSW5wdXQnKS52YWx1ZSA9ICcnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lU3RhcnRNaWxlcycpLnZhbHVlID0gJzAnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lUmV0aXJlTWlsZXMnKS52YWx1ZSA9ICc0MDAnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQ29sb3JJbnB1dCcpLnZhbHVlID0gJyc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VTdGF0dXNJbnB1dCcpLnZhbHVlID0gJ2FjdGl2ZSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VQaG90b0ltZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VQaG90b1BsYWNlaG9sZGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VBSVN0YXR1cycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgd2luZG93Ll9zaG9lUGhvdG9EYXRhID0gbnVsbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkU2hvZU1vZGFsJykuY2xhc3NMaXN0LmFkZCgnb3BlbicpOwp9CgpmdW5jdGlvbiBvcGVuRWRpdFNob2Uoc2hvZUlkKSB7CiAgY29uc3Qgc2hvZSA9IGdldFNob2VzKCkuZmluZChzID0+IHMuaWQ9PT1zaG9lSWQpOwogIGlmICghc2hvZSkgcmV0dXJuOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U2hvZUlkJykudmFsdWUgPSBzaG9lSWQ7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFNob2VUaXRsZScpLnRleHRDb250ZW50ID0gJ+Kcj++4jyBFZGl0IFNob2UnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lTmFtZUlucHV0JykudmFsdWUgPSBzaG9lLm5hbWV8fCcnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQnJhbmRJbnB1dCcpLnZhbHVlID0gc2hvZS5icmFuZHx8Jyc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VTdGFydE1pbGVzJykudmFsdWUgPSBzaG9lLnN0YXJ0TWlsZXN8fDA7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VSZXRpcmVNaWxlcycpLnZhbHVlID0gc2hvZS5yZXRpcmVNaWxlc3x8NDAwOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQ29sb3JJbnB1dCcpLnZhbHVlID0gc2hvZS5jb2xvcnx8Jyc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VTdGF0dXNJbnB1dCcpLnZhbHVlID0gc2hvZS5zdGF0dXN8fCdhY3RpdmUnOwogIGNvbnN0IGV4aXN0aW5nUGhvdG8gPSBnZXRTaG9lUGhvdG8oc2hvZUlkKTsKICBpZiAoZXhpc3RpbmdQaG90bykgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VQaG90b0ltZycpLnNyYyA9IGV4aXN0aW5nUGhvdG87CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvSW1nJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvUGxhY2Vob2xkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvSW1nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lUGhvdG9QbGFjZWhvbGRlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIH0KICB3aW5kb3cuX3Nob2VQaG90b0RhdGEgPSBleGlzdGluZ1Bob3RvOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQUlTdGF0dXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRTaG9lTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7Cn0KCmZ1bmN0aW9uIHNhdmVTaG9lKCkgewogIHRyeSB7CiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VOYW1lSW5wdXQnKS52YWx1ZS50cmltKCk7CiAgICBpZiAoIW5hbWUpIHsgc2hvd1RvYXN0KCfimqDvuI8gRW50ZXIgYSBzaG9lIG5hbWUnKTsgcmV0dXJuOyB9CiAgICBjb25zdCBlZGl0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNob2VJZCcpLnZhbHVlOwogICAgY29uc3Qgc2hvZXMgID0gZ2V0U2hvZXMoKTsKICAgIGNvbnN0IHNob2VJZCA9IGVkaXRJZCB8fCBTdHJpbmcoRGF0ZS5ub3coKSk7CgogICAgLy8gQnVpbGQgc2hvZSByZWNvcmQgV0lUSE9VVCBwaG90byBlbWJlZGRlZCDigJQgcGhvdG9zIHN0b3JlZCBzZXBhcmF0ZWx5CiAgICBjb25zdCBzaG9lRGF0YSA9IHsKICAgICAgaWQ6ICAgICAgICAgIHNob2VJZCwKICAgICAgbmFtZSwKICAgICAgYnJhbmQ6ICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQnJhbmRJbnB1dCcpLnZhbHVlLnRyaW0oKSwKICAgICAgc3RhcnRNaWxlczogIHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VTdGFydE1pbGVzJykudmFsdWUpfHwwLAogICAgICByZXRpcmVNaWxlczogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVJldGlyZU1pbGVzJykudmFsdWUpfHw0MDAsCiAgICAgIGNvbG9yOiAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZUNvbG9ySW5wdXQnKS52YWx1ZS50cmltKCkgfHwgU0hPRV9DT0xPUlNbc2hvZXMubGVuZ3RoJVNIT0VfQ09MT1JTLmxlbmd0aF0sCiAgICAgIHN0YXR1czogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVN0YXR1c0lucHV0JykudmFsdWUsCiAgICAgIGhhc1Bob3RvOiAgICAhIXdpbmRvdy5fc2hvZVBob3RvRGF0YSwKICAgICAgYWRkZWREYXRlOiAgIGVkaXRJZCA/IChzaG9lcy5maW5kKHM9PnMuaWQ9PT1lZGl0SWQpPy5hZGRlZERhdGV8fHRvZGF5S2V5KCkpIDogdG9kYXlLZXkoKSwKICAgIH07CgogICAgLy8gU2F2ZSBwaG90byBzZXBhcmF0ZWx5IHNvIGEgcXVvdGEgZXJyb3IgdGhlcmUgZG9lc24ndCBraWxsIHRoZSBzaG9lIHJlY29yZAogICAgaWYgKHdpbmRvdy5fc2hvZVBob3RvRGF0YSkgewogICAgICBjb25zdCBwaG90b3MgPSBnZXRTdG9yYWdlKCdzaG9lUGhvdG9zJywge30pOwogICAgICBwaG90b3Nbc2hvZUlkXSA9IHdpbmRvdy5fc2hvZVBob3RvRGF0YTsKICAgICAgX2ludmFsaWRhdGVTaG9lUGhvdG9DYWNoZSgpOwogICAgICBjb25zdCBwaG90b1NhdmVkID0gc2V0U3RvcmFnZSgnc2hvZVBob3RvcycsIHBob3Rvcyk7CiAgICAgIGlmICghcGhvdG9TYXZlZCkgewogICAgICAgIHNob2VEYXRhLmhhc1Bob3RvID0gZmFsc2U7CiAgICAgICAgc2hvd1RvYXN0KCfimqDvuI8gUGhvdG8gdG9vIGxhcmdlIHRvIHNhdmUg4oCUIHNob2Ugc2F2ZWQgd2l0aG91dCBwaG90bycpOwogICAgICB9CiAgICB9CgogICAgaWYgKGVkaXRJZCkgewogICAgICBjb25zdCBpZHggPSBzaG9lcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBlZGl0SWQpOwogICAgICBpZiAoaWR4ICE9PSAtMSkgc2hvZXNbaWR4XSA9IHNob2VEYXRhOwogICAgICBlbHNlIHNob2VzLnB1c2goc2hvZURhdGEpOwogICAgfSBlbHNlIHsKICAgICAgc2hvZXMucHVzaChzaG9lRGF0YSk7CiAgICB9CgogICAgY29uc3Qgc2F2ZWQgPSBzZXRTdG9yYWdlKCdzaG9lR2FyYWdlJywgc2hvZXMpOwogICAgaWYgKCFzYXZlZCkgewogICAgICBzaG93VG9hc3QoJ+KaoO+4jyBTdG9yYWdlIGZ1bGwg4oCUIGNvdWxkIG5vdCBzYXZlIHNob2UuIFRyeSBkZWxldGluZyBvbGQgZGF0YS4nKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRTaG9lTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgICByZW5kZXJTaG9lUGFnZSgpOwogICAgc2hvd1RvYXN0KGVkaXRJZCA/IGDinIUgJHtuYW1lfSB1cGRhdGVkIWAgOiBg8J+RnyAke25hbWV9IGFkZGVkIHRvIHlvdXIgZ2FyYWdlIWApOwogIH0gY2F0Y2goZSkgewogICAgY29uc29sZS5lcnJvcignc2F2ZVNob2UgZXJyb3I6JywgZSk7CiAgICBzaG93VG9hc3QoJ+KaoO+4jyBFcnJvciBzYXZpbmcgc2hvZTogJyArIGUubWVzc2FnZSk7CiAgfQp9Cgphc3luYyBmdW5jdGlvbiBoYW5kbGVTaG9lUGhvdG8oaW5wdXQpIHsKICBjb25zdCBmaWxlID0gaW5wdXQuZmlsZXNbMF07CiAgaWYgKCFmaWxlKSByZXR1cm47CiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICByZWFkZXIub25sb2FkID0gYXN5bmMgKGUpID0+IHsKICAgIGNvbnN0IGRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICB3aW5kb3cuX3Nob2VQaG90b0RhdGEgPSBkYXRhVXJsOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VQaG90b0ltZycpLnNyYyA9IGRhdGFVcmw7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvSW1nJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvUGxhY2Vob2xkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgY29uc3Qgc3RhdHVzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZUFJU3RhdHVzJyk7CiAgICBzdGF0dXNFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHN0YXR1c0VsLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQyKSc7CiAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9ICfwn6SWIEFJIGlkZW50aWZ5aW5nIHlvdXIgc2hvZeKApic7CiAgICB0cnkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcycsIHsKICAgICAgICBtZXRob2Q6J1BPU1QnLAogICAgICAgIGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywneC1hcGkta2V5JzpBTlRIUk9QSUNfS0VZLCdhbnRocm9waWMtdmVyc2lvbic6JzIwMjMtMDYtMDEnLCdhbnRocm9waWMtZGFuZ2Vyb3VzLWRpcmVjdC1icm93c2VyLWFjY2Vzcyc6J3RydWUnfSwKICAgICAgICBib2R5OkpTT04uc3RyaW5naWZ5KHsgbW9kZWw6J2NsYXVkZS1oYWlrdS00LTUtMjAyNTEwMDEnLCBtYXhfdG9rZW5zOjMwMCwgbWVzc2FnZXM6W3sgcm9sZTondXNlcicsIGNvbnRlbnQ6WwogICAgICAgICAgeyB0eXBlOidpbWFnZScsIHNvdXJjZTp7IHR5cGU6J2Jhc2U2NCcsIG1lZGlhX3R5cGU6ZmlsZS50eXBlfHwnaW1hZ2UvanBlZycsIGRhdGE6ZGF0YVVybC5zcGxpdCgnLCcpWzFdIH19LAogICAgICAgICAgeyB0eXBlOid0ZXh0JywgdGV4dDonSWRlbnRpZnkgdGhpcyBydW5uaW5nIHNob2UuIFJlcGx5IE9OTFkgd2l0aCB2YWxpZCBKU09OLCBubyBtYXJrZG93bjpcbnsiYnJhbmQiOiJOaWtlIiwibW9kZWwiOiJQZWdhc3VzIDQwIiwiZnVsbE5hbWUiOiJOaWtlIFBlZ2FzdXMgNDAiLCJjb25maWRlbmNlIjoiaGlnaCJ9XG5JZiB1bmtub3duLCB1c2UgIlVua25vd24iIGZvciBicmFuZCBhbmQgbW9kZWwuJyB9CiAgICAgICAgXX1dfSkKICAgICAgfSk7CiAgICAgIGlmIChyZXMub2spIHsKICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICBjb25zdCBtYXRjaCA9IChkYXRhLmNvbnRlbnRbMF0/LnRleHR8fCcnKS5tYXRjaCgvXHtbXHNcU10qXH0vKTsKICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UobWF0Y2hbMF0pOwogICAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBwYXJzZWQuZnVsbE5hbWV8fGAke3BhcnNlZC5icmFuZH0gJHtwYXJzZWQubW9kZWx9YDsKICAgICAgICAgIHN0YXR1c0VsLmlubmVySFRNTCA9IGDinIUgSWRlbnRpZmllZDogPHN0cm9uZz4ke2Z1bGxOYW1lfTwvc3Ryb25nPmA7CiAgICAgICAgICBzdGF0dXNFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS1ncmVlbiknOwogICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZU5hbWVJbnB1dCcpLnZhbHVlKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZU5hbWVJbnB1dCcpLnZhbHVlID0gZnVsbE5hbWU7CiAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lQnJhbmRJbnB1dCcpLnZhbHVlKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZUJyYW5kSW5wdXQnKS52YWx1ZSA9IHBhcnNlZC5icmFuZHx8Jyc7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHN0YXR1c0VsLnRleHRDb250ZW50ID0gJ+KaoO+4jyBDb3VsZCBub3QgaWRlbnRpZnkg4oCUIGVudGVyIGRldGFpbHMgbWFudWFsbHknOwogICAgICBzdGF0dXNFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS1hbWJlciknOwogICAgfSBjYXRjaChlKSB7IHN0YXR1c0VsLnRleHRDb250ZW50ID0gJ+KaoO+4jyBBSSB1bmF2YWlsYWJsZSDigJQgZW50ZXIgbWFudWFsbHknOyBzdGF0dXNFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS1hbWJlciknOyB9CiAgfTsKICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKfQoKLy8g4pSA4pSAIFVwZGF0ZSBzaG9lIHJlZmVyZW5jZSBwaG90byBmcm9tIHNob2UgZGV0YWlsIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAphc3luYyBmdW5jdGlvbiB1cGRhdGVTaG9lUGhvdG8oc2hvZUlkLCBpbnB1dCkgewogIGNvbnN0IGZpbGUgPSBpbnB1dC5maWxlc1swXTsKICBpZiAoIWZpbGUpIHJldHVybjsKICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogIHJlYWRlci5vbmxvYWQgPSBhc3luYyAoZSkgPT4gewogICAgY29uc3QgZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgIC8vIFJlc2l6ZSB0byByZWR1Y2Ugc3RvcmFnZSBmb290cHJpbnQKICAgIGNvbnN0IHJlc2l6ZWQgPSBhd2FpdCByZXNpemVJbWFnZShkYXRhVXJsLCA4MDApOwogICAgY29uc3QgcGhvdG9zID0gZ2V0U3RvcmFnZSgnc2hvZVBob3RvcycsIHt9KTsKICAgIHBob3Rvc1tzaG9lSWRdID0gcmVzaXplZDsKICAgIF9pbnZhbGlkYXRlU2hvZVBob3RvQ2FjaGUoKTsKICAgIGNvbnN0IHNhdmVkID0gc2V0U3RvcmFnZSgnc2hvZVBob3RvcycsIHBob3Rvcyk7CiAgICBpZiAoIXNhdmVkKSB7IHNob3dUb2FzdCgn4pqg77iPIFBob3RvIHRvbyBsYXJnZSDigJQgdHJ5IGEgc21hbGxlciBpbWFnZScpOyByZXR1cm47IH0KICAgIC8vIE1hcmsgc2hvZSBhcyBoYXZpbmcgcGhvdG8KICAgIGNvbnN0IHNob2VzID0gZ2V0U2hvZXMoKTsKICAgIGNvbnN0IGlkeCA9IHNob2VzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNob2VJZCk7CiAgICBpZiAoaWR4ICE9PSAtMSkgeyBzaG9lc1tpZHhdLmhhc1Bob3RvID0gdHJ1ZTsgc2V0U3RvcmFnZSgnc2hvZUdhcmFnZScsIHNob2VzKTsgfQogICAgc2hvd1RvYXN0KCfwn5O4IFJlZmVyZW5jZSBwaG90byBzYXZlZCEnKTsKICAgIC8vIFJlLXJlbmRlciBkZXRhaWwgaW4gcGxhY2UKICAgIGlmIChfc2hvZURldGFpbE9wZW5JZCA9PT0gc2hvZUlkKSBfcmVuZGVyU2hvZURldGFpbChzaG9lSWQpOwogICAgcmVuZGVyU2hvZVBhZ2UoKTsKICB9OwogIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwp9CgovLyDilIDilIAgUmVzaXplIGltYWdlIGhlbHBlciAocmV0dXJucyBiYXNlNjQgZGF0YVVybCkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACmZ1bmN0aW9uIHJlc2l6ZUltYWdlKGRhdGFVcmwsIG1heFNpemUpIHsKICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oMSwgbWF4U2l6ZSAvIE1hdGgubWF4KGltZy53aWR0aCwgaW1nLmhlaWdodCkpOwogICAgICBjb25zdCB3ID0gTWF0aC5yb3VuZChpbWcud2lkdGggICogc2NhbGUpOwogICAgICBjb25zdCBoID0gTWF0aC5yb3VuZChpbWcuaGVpZ2h0ICogc2NhbGUpOwogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgY2FudmFzLndpZHRoID0gdzsgY2FudmFzLmhlaWdodCA9IGg7CiAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShpbWcsIDAsIDAsIHcsIGgpOwogICAgICByZXNvbHZlKGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjgyKSk7CiAgICB9OwogICAgaW1nLnNyYyA9IGRhdGFVcmw7CiAgfSk7Cn0KCi8vIOKUgOKUgCBBSSBzaG9lIHBob3RvIG1hdGNoaW5nIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAovLyBDYWxsZWQgZnJvbSB0aGUgYXNzaWduIHJ1biBtb2RhbCDigJQgdXNlciB0YWtlcy91cGxvYWRzIGEgcGhvdG8gb2YKLy8gdGhlaXIgZmVldC9zaG9lcyBhbmQgd2UgY29tcGFyZSBhZ2FpbnN0IGFsbCByZWZlcmVuY2UgcGhvdG9zLgphc3luYyBmdW5jdGlvbiBtYXRjaFNob2VGcm9tUGhvdG8oaW5wdXQpIHsKICBjb25zdCBmaWxlID0gaW5wdXQuZmlsZXNbMF07CiAgaWYgKCFmaWxlKSByZXR1cm47CgogIGNvbnN0IHN0YXR1c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VNYXRjaFN0YXR1cycpOwogIHN0YXR1c0VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIHN0YXR1c0VsLnN0eWxlLmNvbG9yICAgPSAndmFyKC0tdGV4dDIpJzsKICBzdGF0dXNFbC50ZXh0Q29udGVudCAgID0gJ/CfpJYgQW5hbHlzaW5nIHBob3Rv4oCmJzsKCiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICByZWFkZXIub25sb2FkID0gYXN5bmMgKGUpID0+IHsKICAgIGNvbnN0IHJ1blBob3RvQjY0ID0gZS50YXJnZXQucmVzdWx0LnNwbGl0KCcsJylbMV07CiAgICBjb25zdCBydW5NZWRpYVR5cGUgPSBmaWxlLnR5cGUgfHwgJ2ltYWdlL2pwZWcnOwoKICAgIGNvbnN0IHNob2VzID0gZ2V0U2hvZXMoKS5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ2FjdGl2ZScpOwogICAgY29uc3Qgc2hvZXNXaXRoUGhvdG9zID0gc2hvZXMuZmlsdGVyKHMgPT4gcy5oYXNQaG90byAmJiBnZXRTaG9lUGhvdG8ocy5pZCkpOwoKICAgIC8vIEJ1aWxkIHRoZSBwcm9tcHQKICAgIC8vIFN0cmF0ZWd5OiBzZW5kIHRoZSBydW4gcGhvdG8gKyBlbWJlZCBlYWNoIHJlZmVyZW5jZSBzaG9lIHBob3RvIGlubGluZQogICAgLy8gYW5kIGFzayBDbGF1ZGUgdG8gcmFuayBieSB2aXN1YWwgc2ltaWxhcml0eQogICAgbGV0IHByb21wdFRleHQgPSBgQSBydW5uZXIganVzdCB0b29rIHRoaXMgcGhvdG8gb2YgdGhlIHNob2VzIHRoZXkgYXJlIGN1cnJlbnRseSB3ZWFyaW5nIGFmdGVyIGEgcnVuLgpDb21wYXJlIGl0IGFnYWluc3QgdGhlIGZvbGxvd2luZyByZWZlcmVuY2Ugc2hvZSBwaG90b3MgZnJvbSB0aGVpciBjbG9zZXQgYW5kIGlkZW50aWZ5IHdoaWNoIHBhaXIgdGhleSBhcmUgd2VhcmluZy4KCkNsb3NldCBzaG9lczpcbmA7CiAgICBjb25zdCByZWZJbWFnZXMgPSBbXTsKICAgIHNob2VzV2l0aFBob3Rvcy5mb3JFYWNoKChzaG9lLCBpKSA9PiB7CiAgICAgIGNvbnN0IHBob3RvRGF0YSA9IGdldFNob2VQaG90byhzaG9lLmlkKTsKICAgICAgY29uc3QgYjY0ID0gcGhvdG9EYXRhLnNwbGl0KCcsJylbMV07CiAgICAgIGNvbnN0IG10ICA9ICdpbWFnZS9qcGVnJzsKICAgICAgcHJvbXB0VGV4dCArPSBgJHtpKzF9LiBJRDogJHtzaG9lLmlkfSB8IE5hbWU6ICIke3Nob2UubmFtZX0iIHwgQnJhbmQ6ICR7c2hvZS5icmFuZHx8J3Vua25vd24nfVxuYDsKICAgICAgcmVmSW1hZ2VzLnB1c2goeyB0eXBlOidpbWFnZScsIHNvdXJjZTp7IHR5cGU6J2Jhc2U2NCcsIG1lZGlhX3R5cGU6bXQsIGRhdGE6YjY0IH19KTsKICAgICAgcmVmSW1hZ2VzLnB1c2goeyB0eXBlOid0ZXh0JywgdGV4dDpgKFJlZmVyZW5jZSBwaG90byBmb3Igc2hvZSAke2krMX06ICR7c2hvZS5uYW1lfSlgfSk7CiAgICB9KTsKCiAgICBpZiAoc2hvZXNXaXRoUGhvdG9zLmxlbmd0aCA9PT0gMCkgewogICAgICAvLyBObyByZWZlcmVuY2UgcGhvdG9zIOKAlCBmYWxsIGJhY2sgdG8gcGxhaW4gaWRlbnRpZmljYXRpb24KICAgICAgcHJvbXB0VGV4dCA9IGBJZGVudGlmeSB0aGUgcnVubmluZyBzaG9lcyBpbiB0aGlzIHBob3RvLiBSZXBseSBPTkxZIHdpdGggSlNPTjpcbnsiYnJhbmQiOiJOaWtlIiwibW9kZWwiOiJQZWdhc3VzIDQwIiwiY29uZmlkZW5jZSI6ImhpZ2giLCJub3RlcyI6IiJ9YDsKICAgIH0gZWxzZSB7CiAgICAgIHByb21wdFRleHQgKz0gYFxuTm93IGhlcmUgaXMgdGhlIHBob3RvIG9mIHRoZSBzaG9lcyB0aGUgcnVubmVyIGp1c3Qgd29yZSAodGhlIExBU1QgaW1hZ2UpLlxuXG5SZXBseSBPTkxZIHdpdGggdmFsaWQgSlNPTiwgbm8gbWFya2Rvd246XG57Im1hdGNoZWRJZCI6IjxzaG9lX2lkIG9yIG51bGw+IiwibWF0Y2hlZE5hbWUiOiI8bmFtZSBvciBVbmtub3duPiIsImNvbmZpZGVuY2UiOiJoaWdofG1lZGl1bXxsb3ciLCJyZWFzb25pbmciOiI8MSBzZW50ZW5jZT4ifVxuXG5JZiBub25lIG9mIHRoZSByZWZlcmVuY2UgcGhvdG9zIG1hdGNoIHdlbGwsIHNldCBtYXRjaGVkSWQgdG8gbnVsbC5gOwogICAgfQoKICAgIGNvbnN0IGNvbnRlbnRBcnIgPSBbCiAgICAgIC4uLnJlZkltYWdlcywKICAgICAgeyB0eXBlOidpbWFnZScsIHNvdXJjZTp7IHR5cGU6J2Jhc2U2NCcsIG1lZGlhX3R5cGU6cnVuTWVkaWFUeXBlLCBkYXRhOnJ1blBob3RvQjY0IH19LAogICAgICB7IHR5cGU6J3RleHQnLCB0ZXh0OiBwcm9tcHRUZXh0IH0KICAgIF07CgogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLCB7CiAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICBoZWFkZXJzOnsKICAgICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICd4LWFwaS1rZXknOiBBTlRIUk9QSUNfS0VZLAogICAgICAgICAgJ2FudGhyb3BpYy12ZXJzaW9uJzonMjAyMy0wNi0wMScsCiAgICAgICAgICAnYW50aHJvcGljLWRhbmdlcm91cy1kaXJlY3QtYnJvd3Nlci1hY2Nlc3MnOid0cnVlJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgbW9kZWw6ICdjbGF1ZGUtb3B1cy00LTYnLAogICAgICAgICAgbWF4X3Rva2VuczogNDAwLAogICAgICAgICAgbWVzc2FnZXM6W3sgcm9sZTondXNlcicsIGNvbnRlbnQ6IGNvbnRlbnRBcnIgfV0KICAgICAgICB9KQogICAgICB9KTsKCiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBlcnJvciAnICsgcmVzLnN0YXR1cyk7CiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOwogICAgICBjb25zdCByYXcgID0gZGF0YS5jb250ZW50Py5bMF0/LnRleHQgfHwgJyc7CiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IHJhdy5tYXRjaCgvXHtbXHNcU10qXH0vKTsKICAgICAgaWYgKCFqc29uTWF0Y2gpIHRocm93IG5ldyBFcnJvcignTm8gSlNPTiBpbiByZXNwb25zZScpOwogICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7CgogICAgICAvLyBIaWdobGlnaHQgdGhlIG1hdGNoZWQgc2hvZSBpbiB0aGUgbGlzdAogICAgICBpZiAocGFyc2VkLm1hdGNoZWRJZCkgewogICAgICAgIGNvbnN0IGNvbmZDb2xvciA9IHBhcnNlZC5jb25maWRlbmNlID09PSAnaGlnaCcgPyAnIzIyYzU1ZScgOiBwYXJzZWQuY29uZmlkZW5jZSA9PT0gJ21lZGl1bScgPyAnI2Y1OWUwYicgOiAnIzk0YTNiOCc7CiAgICAgICAgY29uc3QgY29uZkVtb2ppID0gcGFyc2VkLmNvbmZpZGVuY2UgPT09ICdoaWdoJyA/ICfinIUnIDogcGFyc2VkLmNvbmZpZGVuY2UgPT09ICdtZWRpdW0nID8gJ+KaoO+4jycgOiAn4p2TJzsKICAgICAgICBzdGF0dXNFbC5zdHlsZS5jb2xvciA9IGNvbmZDb2xvcjsKICAgICAgICBzdGF0dXNFbC5pbm5lckhUTUwgICA9IGAke2NvbmZFbW9qaX0gPHN0cm9uZz4ke3BhcnNlZC5tYXRjaGVkTmFtZX08L3N0cm9uZz4g4oCUICR7cGFyc2VkLmNvbmZpZGVuY2V9IGNvbmZpZGVuY2U8YnI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMHB4O29wYWNpdHk6MC44Ij4ke3BhcnNlZC5yZWFzb25pbmd8fCcnfTwvc3Bhbj5gOwogICAgICAgIC8vIFZpc3VhbGx5IGhpZ2hsaWdodCB0aGUgbWF0Y2hlZCBidXR0b24gYW5kIGF1dG8tc2Nyb2xsIHRvIGl0CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFzc2lnbi1zaG9lLWJ0bicpLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgIGJ0bi5zdHlsZS5ib3JkZXIgPSAnJzsKICAgICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7CiAgICAgICAgfSk7CiAgICAgICAgLy8gRmluZCB0aGUgYnV0dG9uIGZvciB0aGlzIHNob2UgYW5kIGhpZ2hsaWdodCBpdAogICAgICAgIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXNzaWduLXNob2UtYnRuJyk7CiAgICAgICAgYnRucy5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgICBpZiAoYnRuLmdldEF0dHJpYnV0ZSgnb25jbGljaycpICYmIGJ0bi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKS5pbmNsdWRlcyhwYXJzZWQubWF0Y2hlZElkKSkgewogICAgICAgICAgICBidG4uc3R5bGUuYm9yZGVyID0gYDJweCBzb2xpZCAke2NvbmZDb2xvcn1gOwogICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZCA9IGNvbmZDb2xvciA9PT0gJyMyMmM1NWUnID8gJ3JnYmEoMzQsMTk3LDk0LDAuMDgpJyA6ICdyZ2JhKDI0NSwxNTgsMTEsMC4wOCknOwogICAgICAgICAgICBidG4uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjonc21vb3RoJywgYmxvY2s6J25lYXJlc3QnIH0pOwogICAgICAgICAgICAvLyBBZGQgYSAiQmVzdCBNYXRjaCIgYmFkZ2UKICAgICAgICAgICAgaWYgKCFidG4ucXVlcnlTZWxlY3RvcignLm1hdGNoLWJhZGdlJykpIHsKICAgICAgICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdtYXRjaC1iYWRnZSc7CiAgICAgICAgICAgICAgYmFkZ2Uuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LThweDtyaWdodDo4cHg7YmFja2dyb3VuZDoke2NvbmZDb2xvcn07Y29sb3I6IzAwMDtmb250LXNpemU6OXB4O2ZvbnQtd2VpZ2h0OjgwMDtwYWRkaW5nOjJweCA3cHg7Ym9yZGVyLXJhZGl1czo4cHg7bGV0dGVyLXNwYWNpbmc6MC41cHhgOwogICAgICAgICAgICAgIGJhZGdlLnRleHRDb250ZW50ICA9IGAke2NvbmZFbW9qaX0gJHtwYXJzZWQuY29uZmlkZW5jZS50b1VwcGVyQ2FzZSgpfSBNQVRDSGA7CiAgICAgICAgICAgICAgYnRuLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgICAgICAgICBidG4uYXBwZW5kQ2hpbGQoYmFkZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdHVzRWwuc3R5bGUuY29sb3IgPSAndmFyKC0tYW1iZXIpJzsKICAgICAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9IGDinZMgQ291bGRuJ3QgbWF0Y2gg4oCUICR7cGFyc2VkLnJlYXNvbmluZyB8fCAncGxlYXNlIHNlbGVjdCBtYW51YWxseSd9YDsKICAgICAgfQogICAgfSBjYXRjaChlcnIpIHsKICAgICAgc3RhdHVzRWwuc3R5bGUuY29sb3IgID0gJ3ZhcigtLWFtYmVyKSc7CiAgICAgIHN0YXR1c0VsLnRleHRDb250ZW50ICA9ICfimqDvuI8gQUkgbWF0Y2hpbmcgZmFpbGVkIOKAlCBwbGVhc2UgcGljayBtYW51YWxseSc7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ21hdGNoU2hvZUZyb21QaG90bzonLCBlcnIpOwogICAgfQogIH07CiAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7Cn0KCmZ1bmN0aW9uIHByb21wdFNob2VBc3NpZ25tZW50KHJ1bkRhdGEpIHsKICBjb25zdCBzaG9lcyA9IGdldFNob2VzKCkuZmlsdGVyKHMgPT4gcy5zdGF0dXM9PT0nYWN0aXZlJyk7CiAgaWYgKCFzaG9lcy5sZW5ndGgpIHJldHVybjsKICAvLyBDaGVjayBieSBhY3Rpdml0eUlkIE9SIGJ5IGRhdGUg4oCUIGRvbid0IHJlLXByb21wdCBpZiBhbHJlYWR5IGFzc2lnbmVkIHRvZGF5CiAgY29uc3QgZXhpc3RpbmcgPSBnZXRTaG9lUnVucygpLmZpbmQociA9PgogICAgKHIuYWN0aXZpdHlJZCAmJiBydW5EYXRhLmFjdGl2aXR5SWQgJiYgci5hY3Rpdml0eUlkID09PSBydW5EYXRhLmFjdGl2aXR5SWQpIHx8CiAgICAoci5kYXRlID09PSAocnVuRGF0YS5kYXRlIHx8IHRvZGF5S2V5KCkpKQogICk7CiAgaWYgKGV4aXN0aW5nKSByZXR1cm47CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNzaWduUnVuTW9kYWwnKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNzaWduUnVuRGF0YScpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocnVuRGF0YSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fzc2lnblJ1bkRldGFpbHMnKS50ZXh0Q29udGVudCA9IGAke3J1bkRhdGEubWlsZXMudG9GaXhlZCgyKX0gbWkgwrcgJHtNYXRoLnJvdW5kKHJ1bkRhdGEuZHVyYXRpb24vNjApfW0gwrcgJHtydW5EYXRhLmRhdGV9YDsKICAvLyBSZXNldCBtYXRjaCBVSQogIGNvbnN0IG1hdGNoU3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VNYXRjaFN0YXR1cycpOwogIGlmIChtYXRjaFN0YXR1cykgeyBtYXRjaFN0YXR1cy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyBtYXRjaFN0YXR1cy50ZXh0Q29udGVudCA9ICcnOyB9CiAgLy8gSGlkZSBwaG90byBzZWN0aW9uIGlmIG5vIHNob2VzIGhhdmUgcmVmZXJlbmNlIHBob3RvcwogIGNvbnN0IHNob2VzV2l0aFBob3RvcyA9IGdldFNob2VzKCkuZmlsdGVyKHMgPT4gcy5zdGF0dXM9PT0nYWN0aXZlJyAmJiBzLmhhc1Bob3RvKTsKICBjb25zdCBwaG90b1NlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvZVBob3RvTWF0Y2hTZWN0aW9uJyk7CiAgaWYgKHBob3RvU2VjdGlvbikgcGhvdG9TZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBzaG9lc1dpdGhQaG90b3MubGVuZ3RoID4gMCA/ICdibG9jaycgOiAnbm9uZSc7CiAgY29uc3QgX2Fzc2lnblJ1bnMgPSBnZXRTaG9lUnVucygpOyAvLyByZWFkIG9uY2UsIHJldXNlIGluIG1hcAogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc3NpZ25TaG9lTGlzdCcpLmlubmVySFRNTCA9IHNob2VzLm1hcChzaG9lID0+IHsKICAgIGNvbnN0IG1pbGVzID0gc2hvZUN1cnJlbnRNaWxlcyhzaG9lLmlkLCBfYXNzaWduUnVucyk7CiAgICBjb25zdCBpbWdIdG1sID0gc2hvZS5oYXNQaG90byA/IGA8aW1nIHNyYz0iJHtnZXRTaG9lUGhvdG8oc2hvZS5pZCl9IiBzdHlsZT0id2lkdGg6NDBweDtoZWlnaHQ6NDBweDtib3JkZXItcmFkaXVzOjEwcHg7b2JqZWN0LWZpdDpjb3ZlcjtmbGV4LXNocmluazowIi8+YCA6IGA8ZGl2IGNsYXNzPSJhc3NpZ24tc2hvZS1hdmF0YXIiPvCfkZ88L2Rpdj5gOwogICAgcmV0dXJuIGA8YnV0dG9uIGNsYXNzPSJhc3NpZ24tc2hvZS1idG4iIG9uY2xpY2s9ImFzc2lnblJ1blRvU2hvZSgnJHtzaG9lLmlkfScpIj4KICAgICAgJHtpbWdIdG1sfQogICAgICA8ZGl2IHN0eWxlPSJmbGV4OjE7bWluLXdpZHRoOjAiPjxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0KSI+JHtzaG9lLm5hbWV9PC9kaXY+PGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Y29sb3I6dmFyKC0tdGV4dDMpO21hcmdpbi10b3A6MnB4Ij4ke3Nob2UuYnJhbmR8fCcnfSDCtyAke21pbGVzLnRvRml4ZWQoMSl9IG1pIHNvIGZhcjwvZGl2PjwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NjAwIj4keyhzaG9lLnJldGlyZU1pbGVzfHw0MDApLW1pbGVzPjA/KChzaG9lLnJldGlyZU1pbGVzfHw0MDApLW1pbGVzKS50b0ZpeGVkKDApKycgbWkgbGVmdCc6J+KaoO+4jyBSZXRpcmUnfTwvZGl2PgogICAgPC9idXR0b24+YDsKICB9KS5qb2luKCcnKSArIGA8YnV0dG9uIGNsYXNzPSJhc3NpZ24tc2hvZS1idG4iIG9uY2xpY2s9ImFzc2lnblJ1blRvTmV3U2hvZSgpIiBzdHlsZT0iYm9yZGVyLXN0eWxlOmRhc2hlZCI+PGRpdiBjbGFzcz0iYXNzaWduLXNob2UtYXZhdGFyIiBzdHlsZT0iZm9udC1zaXplOjI0cHgiPis8L2Rpdj48ZGl2IHN0eWxlPSJmb250LXNpemU6MTRweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpIj5BZGQgYSBuZXcgcGFpciBmaXJzdDwvZGl2PjwvYnV0dG9uPmA7CiAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpOwp9CgpmdW5jdGlvbiBhc3NpZ25SdW5Ub1Nob2Uoc2hvZUlkKSB7CiAgY29uc3QgcnVuRGF0YSA9IEpTT04ucGFyc2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fzc2lnblJ1bkRhdGEnKS52YWx1ZXx8J3t9Jyk7CiAgaWYgKCFydW5EYXRhLm1pbGVzKSByZXR1cm47CiAgY29uc3QgcnVucyA9IGdldFNob2VSdW5zKCk7CiAgcnVucy5wdXNoKHsgaWQ6U3RyaW5nKERhdGUubm93KCkpLCBzaG9lSWQsIGRhdGU6cnVuRGF0YS5kYXRlfHx0b2RheUtleSgpLCBtaWxlczpydW5EYXRhLm1pbGVzLCBkdXJhdGlvbjpydW5EYXRhLmR1cmF0aW9ufHwwLCBjYWxvcmllczpydW5EYXRhLmNhbG9yaWVzfHwwLCBhY3Rpdml0eUlkOnJ1bkRhdGEuYWN0aXZpdHlJZHx8bnVsbCB9KTsKICBzZXRTaG9lUnVucyhydW5zKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNzaWduUnVuTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgcmVuZGVyU2hvZVBhZ2UoKTsKICBjb25zdCBzaG9lID0gZ2V0U2hvZXMoKS5maW5kKHM9PnMuaWQ9PT1zaG9lSWQpOwogIGNvbnN0IG5ld1RvdGFsID0gc2hvZUN1cnJlbnRNaWxlcyhzaG9lSWQsIHJ1bnMpOwogIHNob3dUb2FzdChg8J+RnyAke3J1bkRhdGEubWlsZXMudG9GaXhlZCgyKX0gbWkgbG9nZ2VkIHRvICR7c2hvZT8ubmFtZXx8J3Nob2UnfSEgKCR7bmV3VG90YWwudG9GaXhlZCgxKX0gbWkgdG90YWwpYCk7CiAgY29uc3QgcmV0aXJlTWkgPSBzaG9lPy5yZXRpcmVNaWxlc3x8NDAwOwogIGlmIChuZXdUb3RhbCA+PSByZXRpcmVNaSowLjkgJiYgbmV3VG90YWwgPCByZXRpcmVNaSkgc2V0VGltZW91dCgoKT0+c2hvd1RvYXN0KGDimqDvuI8gJHtzaG9lPy5uYW1lfSBpcyBhdCAke01hdGgucm91bmQobmV3VG90YWwvcmV0aXJlTWkqMTAwKX0lIOKAlCByZXRpcmVtZW50IGFwcHJvYWNoaW5nIWApLCAyMDAwKTsKICBlbHNlIGlmIChuZXdUb3RhbCA+PSByZXRpcmVNaSkgc2V0VGltZW91dCgoKT0+c2hvd1RvYXN0KGDwn5qoICR7c2hvZT8ubmFtZX0gaGFzIGhpdCAke25ld1RvdGFsLnRvRml4ZWQoMCl9IG1pIOKAlCB0aW1lIHRvIHJldGlyZSFgKSwgMjAwMCk7Cn0KCmZ1bmN0aW9uIGFzc2lnblJ1blRvTmV3U2hvZSgpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNzaWduUnVuTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgY29uc3Qgc2hvZXNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiLWJ0bltvbmNsaWNrKj0ic2hvZXMiXScpOwogIGlmIChzaG9lc0J0bikgc3dpdGNoVGFiKCdzaG9lcycsIHNob2VzQnRuKTsKICBzZXRUaW1lb3V0KCgpPT5vcGVuQWRkU2hvZU1vZGFsKCksIDMwMCk7Cn0KCi8vIFRyYWNrIHdoaWNoIHNob2UgZGV0YWlsIGlzIG9wZW4gZm9yIHJlZnJlc2hpbmcKbGV0IF9zaG9lRGV0YWlsT3BlbklkID0gbnVsbDsKCmZ1bmN0aW9uIG9wZW5TaG9lRGV0YWlsKHNob2VJZCkgewogIF9zaG9lRGV0YWlsT3BlbklkID0gc2hvZUlkOwogIF9yZW5kZXJTaG9lRGV0YWlsKHNob2VJZCk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VEZXRhaWxNb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTsKfQoKZnVuY3Rpb24gX3JlbmRlclNob2VEZXRhaWwoc2hvZUlkKSB7CiAgY29uc3Qgc2hvZSAgICAgID0gZ2V0U2hvZXMoKS5maW5kKHMgPT4gcy5pZCA9PT0gc2hvZUlkKTsKICBpZiAoIXNob2UpIHJldHVybjsKICBjb25zdCBhbGxSdW5zICAgPSBnZXRTaG9lUnVucygpOwogIGNvbnN0IHJ1bnMgICAgICA9IGFsbFJ1bnMuZmlsdGVyKHIgPT4gci5zaG9lSWQgPT09IHNob2VJZCkuc29ydCgoYSxiKSA9PiBiLmRhdGUubG9jYWxlQ29tcGFyZShhLmRhdGUpKTsKICBjb25zdCBtaWxlcyAgICAgPSBzaG9lQ3VycmVudE1pbGVzKHNob2VJZCwgYWxsUnVucyk7CiAgY29uc3QgcmV0aXJlTWkgID0gc2hvZS5yZXRpcmVNaWxlcyB8fCA0MDA7CiAgY29uc3QgcGN0ICAgICAgID0gTWF0aC5taW4obWlsZXMgLyByZXRpcmVNaSwgMSk7CiAgY29uc3QgYmFyQ29sb3IgID0gcGN0ID4gMC45ID8gJyNlZjQ0NDQnIDogcGN0ID4gMC43ID8gJyNmNTllMGInIDogJyMyMmM1NWUnOwogIGNvbnN0IGF2Z1BhY2UgICA9IHNob2VBdmdQYWNlKHNob2VJZCwgYWxsUnVucyk7CiAgY29uc3QgdG90YWxNaW5zID0gcnVucy5yZWR1Y2UoKHMscikgPT4gcyArIChyLmR1cmF0aW9ufHwwKSAvIDYwLCAwKTsKCiAgY29uc3QgcGhvdG9TcmMgPSBnZXRTaG9lUGhvdG8oc2hvZUlkKTsKICBjb25zdCBpbWdIdG1sID0gcGhvdG9TcmMKICAgID8gYDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci1yYWRpdXM6MTRweDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgICA8aW1nIHNyYz0iJHtwaG90b1NyY30iIHN0eWxlPSJ3aWR0aDoxMDAlO21heC1oZWlnaHQ6MTgwcHg7b2JqZWN0LWZpdDpjb3ZlcjtkaXNwbGF5OmJsb2NrIi8+CiAgICAgICA8L2Rpdj4KICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6OHB4O21hcmdpbi1ib3R0b206MTRweCI+CiAgICAgICAgIDxsYWJlbCBzdHlsZT0iZmxleDoxO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6NnB4O3BhZGRpbmc6OXB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MTJweDtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2N1cnNvcjpwb2ludGVyIj4KICAgICAgICAgICDwn5O3IFRha2UgUGhvdG88aW5wdXQgdHlwZT0iZmlsZSIgYWNjZXB0PSJpbWFnZS8qIiBjYXB0dXJlPSJlbnZpcm9ubWVudCIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgb25jaGFuZ2U9InVwZGF0ZVNob2VQaG90bygnJHtzaG9lSWR9Jyx0aGlzKSIvPgogICAgICAgICA8L2xhYmVsPgogICAgICAgICA8bGFiZWwgc3R5bGU9ImZsZXg6MTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Z2FwOjZweDtwYWRkaW5nOjlweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTtib3JkZXItcmFkaXVzOjEycHg7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtjdXJzb3I6cG9pbnRlciI+CiAgICAgICAgICAg8J+WvO+4jyBDaG9vc2UgUGhvdG88aW5wdXQgdHlwZT0iZmlsZSIgYWNjZXB0PSJpbWFnZS8qIiBzdHlsZT0iZGlzcGxheTpub25lIiBvbmNoYW5nZT0idXBkYXRlU2hvZVBob3RvKCcke3Nob2VJZH0nLHRoaXMpIi8+CiAgICAgICAgIDwvbGFiZWw+CiAgICAgICA8L2Rpdj5gCiAgICA6IGA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjhweDttYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICAgICA8bGFiZWwgc3R5bGU9ImZsZXg6MTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2dhcDo2cHg7cGFkZGluZzoxNnB4O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywjMGYxNzJhLCMxZTI5M2IpO2JvcmRlcjoxLjVweCBkYXNoZWQgIzMzNDE1NTtib3JkZXItcmFkaXVzOjE0cHg7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiM0NzU1Njk7Y3Vyc29yOnBvaW50ZXIiPgogICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MjRweCI+8J+Ttzwvc3Bhbj5UYWtlIFBob3RvPGlucHV0IHR5cGU9ImZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgY2FwdHVyZT0iZW52aXJvbm1lbnQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIG9uY2hhbmdlPSJ1cGRhdGVTaG9lUGhvdG8oJyR7c2hvZUlkfScsdGhpcykiLz4KICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgPGxhYmVsIHN0eWxlPSJmbGV4OjE7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6NnB4O3BhZGRpbmc6MTZweDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzBmMTcyYSwjMWUyOTNiKTtib3JkZXI6MS41cHggZGFzaGVkICMzMzQxNTU7Ym9yZGVyLXJhZGl1czoxNHB4O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojNDc1NTY5O2N1cnNvcjpwb2ludGVyIj4KICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjI0cHgiPvCflrzvuI88L3NwYW4+Q2hvb3NlIFBob3RvPGlucHV0IHR5cGU9ImZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgb25jaGFuZ2U9InVwZGF0ZVNob2VQaG90bygnJHtzaG9lSWR9Jyx0aGlzKSIvPgogICAgICAgICA8L2xhYmVsPgogICAgICAgPC9kaXY+YDsKCiAgY29uc3QgcnVuc0h0bWwgPSAhcnVucy5sZW5ndGgKICAgID8gYDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLXRleHQzKTtwYWRkaW5nOjI0cHg7Zm9udC1zaXplOjEzcHgiPk5vIHJ1bnMgbG9nZ2VkIHlldDwvZGl2PmAKICAgIDogcnVucy5tYXAociA9PiB7CiAgICAgICAgY29uc3QgcGFjZSAgICA9IChyLmR1cmF0aW9uICYmIHIubWlsZXMpID8gZm9ybWF0UGFjZShyLmR1cmF0aW9uIC8gNjAgLyByLm1pbGVzKSA6ICcnOwogICAgICAgIGNvbnN0IGR1clN0ciAgPSByLmR1cmF0aW9uID8gTWF0aC5yb3VuZChyLmR1cmF0aW9uIC8gNjApICsgJ20nIDogJyc7CiAgICAgICAgY29uc3QgY2FsU3RyICA9IHIuY2Fsb3JpZXMgPyByLmNhbG9yaWVzICsgJyBrY2FsJyA6ICcnOwogICAgICAgIGNvbnN0IG1ldGEgICAgPSBbZHVyU3RyLCBjYWxTdHIsIHBhY2UgPyBwYWNlICsgJy9taScgOiAnJ10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyDCtyAnKTsKICAgICAgICAvLyBGdWxsIGRhdGUgZGlzcGxheQogICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShyLmRhdGUgKyAnVDEyOjAwOjAwJyk7CiAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6J3Nob3J0JywgZGF5OidudW1lcmljJywgeWVhcjonbnVtZXJpYycgfSk7CiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSJzaG9lLXJ1bi1yb3ciIGlkPSJydW5yb3ctJHtyLmlkfSIgc3R5bGU9ImZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpzdHJldGNoO2dhcDowO3BhZGRpbmc6MCI+CiAgICAgICAgICA8IS0tIE1haW4gcnVuIHJvdyAtLT4KICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEwcHg7cGFkZGluZzoxMHB4IDAiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJtaW4td2lkdGg6NzZweCI+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQzKSI+JHtkYXRlU3RyfTwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2hvZS1ydW4taW5mbyIgc3R5bGU9ImZsZXg6MSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2hvZS1ydW4tbWkiPiR7KHIubWlsZXN8fDApLnRvRml4ZWQoMil9IG1pPC9kaXY+CiAgICAgICAgICAgICAgJHttZXRhID8gYDxkaXYgY2xhc3M9InNob2UtcnVuLW1ldGEiPiR7bWV0YX08L2Rpdj5gIDogJyd9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVJ1bkVkaXQoJyR7ci5pZH0nKSIgc3R5bGU9ImJhY2tncm91bmQ6IzBkMWUzZDtib3JkZXI6MXB4IHNvbGlkICMxZTNhNWY7Ym9yZGVyLXJhZGl1czo4cHg7Y29sb3I6IzYwYTVmYTtmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7cGFkZGluZzo1cHggMTBweDtjdXJzb3I6cG9pbnRlcjtmbGV4LXNocmluazowIj7inI/vuI88L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJkZWxldGVTaG9lUnVuKCcke3IuaWR9JywnJHtzaG9lSWR9JykiIHN0eWxlPSJiYWNrZ3JvdW5kOiMyZDBmMGY7Ym9yZGVyOjFweCBzb2xpZCAjN2YxZDFkO2JvcmRlci1yYWRpdXM6OHB4O2NvbG9yOiNmODcxNzE7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NXB4IDEwcHg7Y3Vyc29yOnBvaW50ZXI7ZmxleC1zaHJpbms6MCI+8J+Xke+4jzwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8IS0tIElubGluZSBlZGl0IGZvcm0gKGhpZGRlbiBieSBkZWZhdWx0KSAtLT4KICAgICAgICAgIDxkaXYgaWQ9InJ1bmVkaXQtJHtyLmlkfSIgc3R5bGU9ImRpc3BsYXk6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxMnB4O21hcmdpbi1ib3R0b206MTBweDtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKSI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0Mik7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjEwcHgiPkVkaXQgUnVuPC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIDFmcjtnYXA6OHB4O21hcmdpbi1ib3R0b206OHB4Ij4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MC44cHg7bWFyZ2luLWJvdHRvbTo0cHgiPkRhdGU8L2Rpdj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0icmUtZGF0ZS0ke3IuaWR9IiB2YWx1ZT0iJHtyLmRhdGV9IgogICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6MTAwJTtwYWRkaW5nOjhweCAxMHB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZSk7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxMHB4O2NvbG9yOnZhcigtLXRleHQpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NjAwIi8+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo3MDA7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2xldHRlci1zcGFjaW5nOjAuOHB4O21hcmdpbi1ib3R0b206NHB4Ij5NaWxlczwvZGl2PgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgc3RlcD0iMC4wMSIgaWQ9InJlLW1pbGVzLSR7ci5pZH0iIHZhbHVlPSIkeyhyLm1pbGVzfHwwKS50b0ZpeGVkKDIpfSIKICAgICAgICAgICAgICAgICAgc3R5bGU9IndpZHRoOjEwMCU7cGFkZGluZzo4cHggMTBweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UpO2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MTBweDtjb2xvcjp2YXIoLS10ZXh0KTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OjcwMCIvPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC13ZWlnaHQ6NzAwO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtsZXR0ZXItc3BhY2luZzowLjhweDttYXJnaW4tYm90dG9tOjRweCI+RHVyYXRpb24gKG1pbik8L2Rpdj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIHN0ZXA9IjEiIGlkPSJyZS1kdXItJHtyLmlkfSIgdmFsdWU9IiR7ci5kdXJhdGlvbiA/IE1hdGgucm91bmQoci5kdXJhdGlvbi82MCkgOiAnJ30iIHBsYWNlaG9sZGVyPSLigJQiCiAgICAgICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDoxMDAlO3BhZGRpbmc6OHB4IDEwcHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlKTtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTtib3JkZXItcmFkaXVzOjEwcHg7Y29sb3I6dmFyKC0tdGV4dCk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6MTNweDtmb250LXdlaWdodDo3MDAiLz4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEwcHg7Y29sb3I6dmFyKC0tdGV4dDMpO2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bGV0dGVyLXNwYWNpbmc6MC44cHg7bWFyZ2luLWJvdHRvbTo0cHgiPkNhbG9yaWVzPC9kaXY+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBzdGVwPSIxIiBpZD0icmUtY2FsLSR7ci5pZH0iIHZhbHVlPSIke3IuY2Fsb3JpZXMgfHwgJyd9IiBwbGFjZWhvbGRlcj0i4oCUIgogICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6MTAwJTtwYWRkaW5nOjhweCAxMHB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZSk7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxMHB4O2NvbG9yOnZhcigtLXRleHQpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NzAwIi8+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjhweCI+CiAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzYXZlUnVuRWRpdCgnJHtyLmlkfScsJyR7c2hvZUlkfScpIgogICAgICAgICAgICAgICAgc3R5bGU9ImZsZXg6MTtwYWRkaW5nOjlweDtiYWNrZ3JvdW5kOnZhcigtLWdyZWVuLXNvZnQpO2JvcmRlcjoxLjVweCBzb2xpZCAjMTY2NTM0O2JvcmRlci1yYWRpdXM6MTBweDtjb2xvcjojMjJjNTVlO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6ODAwO2N1cnNvcjpwb2ludGVyIj5TYXZlIENoYW5nZXM8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVJ1bkVkaXQoJyR7ci5pZH0nKSIKICAgICAgICAgICAgICAgIHN0eWxlPSJwYWRkaW5nOjlweCAxNHB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZSk7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7Ym9yZGVyLXJhZGl1czoxMHB4O2NvbG9yOnZhcigtLXRleHQyKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlciI+Q2FuY2VsPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+YDsKICAgICAgfSkuam9pbignJyk7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lRGV0YWlsQ29udGVudCcpLmlubmVySFRNTCA9IGAKICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbi1ib3R0b206NHB4Ij4KICAgICAgPGRpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MnB4Ij4ke2VzYyhzaG9lLm5hbWUpfTwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiPiR7c2hvZS5icmFuZHx8Jyd9JHtzaG9lLmNvbG9yPycgwrcgJytzaG9lLmNvbG9yOicnfTwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJlZGl0U2hvZU1pbGVhZ2UoJyR7c2hvZUlkfScsJHttaWxlcy50b0ZpeGVkKDIpfSkiIHN0eWxlPSJiYWNrZ3JvdW5kOiMwZDFlM2Q7Ym9yZGVyOjFweCBzb2xpZCAjMWUzYTVmO2JvcmRlci1yYWRpdXM6OHB4O2NvbG9yOiM2MGE1ZmE7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NXB4IDExcHg7Y3Vyc29yOnBvaW50ZXI7ZmxleC1zaHJpbms6MDttYXJnaW4tdG9wOjRweCI+4pyP77iPIEFkanVzdCBNaWxlczwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE0cHgiPjwvZGl2PgogICAgJHtpbWdIdG1sfQogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW4tYm90dG9tOjZweCI+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToyMnB4O2ZvbnQtd2VpZ2h0OjgwMDtjb2xvcjp2YXIoLS10ZXh0KSI+JHttaWxlcy50b0ZpeGVkKDEpfSA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQzKSI+bWkgdG90YWw8L3NwYW4+PC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiPiR7TWF0aC5yb3VuZChwY3QqMTAwKX0lIG9mICR7cmV0aXJlTWl9IG1pPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InNob2UtbWlsZWFnZS1iYXItdHJhY2siIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICA8ZGl2IGNsYXNzPSJzaG9lLW1pbGVhZ2UtYmFyLWZpbGwiIHN0eWxlPSJ3aWR0aDoke3BjdCoxMDB9JTtiYWNrZ3JvdW5kOiR7YmFyQ29sb3J9Ij48L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNCwxZnIpO2dhcDo4cHg7bWFyZ2luLWJvdHRvbToyMHB4Ij4KICAgICAgPGRpdiBjbGFzcz0ic2hvZS1zdGF0Ij48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtdmFsIj4ke3J1bnMubGVuZ3RofTwvZGl2PjxkaXYgY2xhc3M9InNob2Utc3RhdC1sYmwiPlJ1bnM8L2Rpdj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic2hvZS1zdGF0Ij48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtdmFsIj4ke2F2Z1BhY2UgPyBmb3JtYXRQYWNlKGF2Z1BhY2UpIDogJ+KAlCd9PC9kaXY+PGRpdiBjbGFzcz0ic2hvZS1zdGF0LWxibCI+QXZnIFBhY2U8L2Rpdj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic2hvZS1zdGF0Ij48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtdmFsIj4ke3RvdGFsTWlucyA+PSA2MCA/IE1hdGguZmxvb3IodG90YWxNaW5zLzYwKSsnaCAnK01hdGgucm91bmQodG90YWxNaW5zJTYwKSsnbScgOiBNYXRoLnJvdW5kKHRvdGFsTWlucykrJ20nfTwvZGl2PjxkaXYgY2xhc3M9InNob2Utc3RhdC1sYmwiPlRpbWU8L2Rpdj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ic2hvZS1zdGF0Ij48ZGl2IGNsYXNzPSJzaG9lLXN0YXQtdmFsIj4ke01hdGgubWF4KDAsIHJldGlyZU1pIC0gbWlsZXMpLnRvRml4ZWQoMCl9PC9kaXY+PGRpdiBjbGFzcz0ic2hvZS1zdGF0LWxibCI+TWkgTGVmdDwvZGl2PjwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbToxMHB4Ij4KICAgICAgUnVuIEhpc3RvcnkgPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLXRleHQzKTtmb250LXdlaWdodDo2MDAiPigke3J1bnMubGVuZ3RofSk8L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxkaXYgaWQ9InNob2VSdW5MaXN0Ij4ke3J1bnNIdG1sfTwvZGl2PmA7Cn0KCmZ1bmN0aW9uIHRvZ2dsZVJ1bkVkaXQocnVuSWQpIHsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBydW5lZGl0LSR7cnVuSWR9YCk7CiAgaWYgKCFlbCkgcmV0dXJuOwogIGVsLnN0eWxlLmRpc3BsYXkgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnOwp9CgpmdW5jdGlvbiBzYXZlUnVuRWRpdChydW5JZCwgc2hvZUlkKSB7CiAgY29uc3QgZGF0ZVZhbCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmUtZGF0ZS0ke3J1bklkfWApPy52YWx1ZTsKICBjb25zdCBtaWxlc1ZhbCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlLW1pbGVzLSR7cnVuSWR9YCk/LnZhbHVlKTsKICBjb25zdCBkdXJWYWwgICA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlLWR1ci0ke3J1bklkfWApPy52YWx1ZSk7CiAgY29uc3QgY2FsVmFsICAgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmUtY2FsLSR7cnVuSWR9YCk/LnZhbHVlKTsKCiAgaWYgKCFkYXRlVmFsIHx8IGlzTmFOKG1pbGVzVmFsKSB8fCBtaWxlc1ZhbCA8PSAwKSB7CiAgICBzaG93VG9hc3QoJ+KaoO+4jyBEYXRlIGFuZCBtaWxlcyBhcmUgcmVxdWlyZWQnKTsKICAgIHJldHVybjsKICB9CgogIGNvbnN0IHJ1bnMgPSBnZXRTaG9lUnVucygpOwogIGNvbnN0IHJ1biAgPSBydW5zLmZpbmQociA9PiByLmlkID09PSBydW5JZCk7CiAgaWYgKCFydW4pIHJldHVybjsKCiAgcnVuLmRhdGUgICAgID0gZGF0ZVZhbDsKICBydW4ubWlsZXMgICAgPSBNYXRoLnJvdW5kKG1pbGVzVmFsICogMTAwKSAvIDEwMDsKICBydW4uZHVyYXRpb24gPSAhaXNOYU4oZHVyVmFsKSAmJiBkdXJWYWwgPiAwID8gZHVyVmFsICogNjAgOiAocnVuLmR1cmF0aW9uIHx8IDApOwogIHJ1bi5jYWxvcmllcyA9ICFpc05hTihjYWxWYWwpICYmIGNhbFZhbCA+IDAgPyBjYWxWYWwgOiAocnVuLmNhbG9yaWVzIHx8IDApOwoKICBzZXRTaG9lUnVucyhydW5zKTsKICByZW5kZXJTaG9lUGFnZSgpOwogIF9yZW5kZXJTaG9lRGV0YWlsKHNob2VJZCk7IC8vIHJlZnJlc2ggZGV0YWlsIGluLXBsYWNlCiAgc2hvd1RvYXN0KCfinIUgUnVuIHVwZGF0ZWQnKTsKfQoKZnVuY3Rpb24gZGVsZXRlU2hvZVJ1bihydW5JZCwgc2hvZUlkKSB7CiAgY29uc3QgcnVucyA9IGdldFNob2VSdW5zKCk7CiAgY29uc3QgcnVuICA9IHJ1bnMuZmluZChyID0+IHIuaWQgPT09IHJ1bklkKTsKICBjb25zdCBtaSAgID0gcnVuID8gKHJ1bi5taWxlc3x8MCkudG9GaXhlZCgyKSA6ICcnOwogIGlmICghY29uZmlybShgRGVsZXRlIHRoaXMgcnVuICgke21pfSBtaSk/YCkpIHJldHVybjsKICBzZXRTaG9lUnVucyhydW5zLmZpbHRlcihyID0+IHIuaWQgIT09IHJ1bklkKSk7CiAgcmVuZGVyU2hvZVBhZ2UoKTsKICBfcmVuZGVyU2hvZURldGFpbChzaG9lSWQpOyAvLyByZWZyZXNoIGRldGFpbCBpbi1wbGFjZSwga2VlcCBtb2RhbCBvcGVuCiAgc2hvd1RvYXN0KCfwn5eR77iPIFJ1biBkZWxldGVkJyk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZVNob2Uoc2hvZUlkKSB7CiAgY29uc3Qgc2hvZXMgPSBnZXRTaG9lcygpOwogIGNvbnN0IHJ1bnMgID0gZ2V0U2hvZVJ1bnMoKTsKICBjb25zdCBzaG9lICA9IHNob2VzLmZpbmQocyA9PiBzLmlkID09PSBzaG9lSWQpOwogIGlmICghc2hvZSkgcmV0dXJuOwogIGNvbnN0IHJ1bkNvdW50ID0gcnVucy5maWx0ZXIociA9PiByLnNob2VJZCA9PT0gc2hvZUlkKS5sZW5ndGg7CiAgaWYgKCFjb25maXJtKGBEZWxldGUgIiR7c2hvZS5uYW1lfSI/IFRoaXMgd2lsbCBhbHNvIHJlbW92ZSBhbGwgJHtydW5Db3VudH0gcnVucyBsb2dnZWQgdG8gaXQuYCkpIHJldHVybjsKICBzZXRTaG9lcyhzaG9lcy5maWx0ZXIocyA9PiBzLmlkICE9PSBzaG9lSWQpKTsKICBzZXRTaG9lUnVucyhydW5zLmZpbHRlcihyID0+IHIuc2hvZUlkICE9PSBzaG9lSWQpKTsKICByZW5kZXJTaG9lUGFnZSgpOwogIHNob3dUb2FzdChg8J+Xke+4jyAke3Nob2UubmFtZX0gZGVsZXRlZGApOwp9CgpmdW5jdGlvbiBlZGl0U2hvZU1pbGVhZ2Uoc2hvZUlkLCBjdXJyZW50TWlsZXMpIHsKICBjb25zdCBpbnB1dCA9IHByb21wdCgKICAgIGBDdXJyZW50IHRvdGFsIG1pbGVhZ2U6ICR7cGFyc2VGbG9hdChjdXJyZW50TWlsZXMpLnRvRml4ZWQoMSl9IG1pXG5cbkVudGVyIHRoZSBjb3JyZWN0IHRvdGFsIG1pbGVhZ2U6YCwKICAgIHBhcnNlRmxvYXQoY3VycmVudE1pbGVzKS50b0ZpeGVkKDEpCiAgKTsKICBpZiAoaW5wdXQgPT09IG51bGwpIHJldHVybjsgLy8gY2FuY2VsbGVkCiAgY29uc3QgbmV3VG90YWwgPSBwYXJzZUZsb2F0KGlucHV0KTsKICBpZiAoaXNOYU4obmV3VG90YWwpIHx8IG5ld1RvdGFsIDwgMCkgewogICAgYWxlcnQoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlciBvZiBtaWxlcyAoMCBvciBtb3JlKS4nKTsKICAgIHJldHVybjsKICB9CiAgY29uc3Qgc2hvZXMgPSBnZXRTaG9lcygpOwogIGNvbnN0IHNob2UgID0gc2hvZXMuZmluZChzID0+IHMuaWQgPT09IHNob2VJZCk7CiAgaWYgKCFzaG9lKSByZXR1cm47CiAgLy8gQ29tcHV0ZSBob3cgbWFueSBtaWxlcyBjYW1lIGZyb20gcnVucyArIHN0YXJ0TWlsZXMgKGV4Y2x1ZGluZyBleGlzdGluZyBvZmZzZXQpCiAgY29uc3QgcnVuTWlsZXMgPSBnZXRTaG9lUnVucygpLmZpbHRlcihyID0+IHIuc2hvZUlkID09PSBzaG9lSWQpLnJlZHVjZSgocyxyKSA9PiBzKyhyLm1pbGVzfHwwKSwgMCk7CiAgY29uc3QgYmFzZU1pbGVzID0gcnVuTWlsZXMgKyAoc2hvZS5zdGFydE1pbGVzIHx8IDApOwogIHNob2UubWlsZWFnZU9mZnNldCA9IE1hdGgucm91bmQoKG5ld1RvdGFsIC0gYmFzZU1pbGVzKSAqIDEwMCkgLyAxMDA7CiAgc2V0U2hvZXMoc2hvZXMpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9lRGV0YWlsTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgcmVuZGVyU2hvZVBhZ2UoKTsKICBzaG93VG9hc3QoYOKchSBNaWxlYWdlIHVwZGF0ZWQgdG8gJHtuZXdUb3RhbC50b0ZpeGVkKDEpfSBtaWApOwp9CgpmdW5jdGlvbiBvblN0cmF2YVJ1blN5bmNlZChydW5EYXRhKSB7CiAgaWYgKCFnZXRTaG9lcygpLmZpbHRlcihzPT5zLnN0YXR1cz09PSdhY3RpdmUnKS5sZW5ndGgpIHJldHVybjsKICBjb25zdCBleGlzdGluZyA9IGdldFNob2VSdW5zKCkuZmluZChyPT5yLmFjdGl2aXR5SWQgJiYgci5hY3Rpdml0eUlkPT09cnVuRGF0YS5hY3Rpdml0eUlkKTsKICBpZiAoZXhpc3RpbmcpIHJldHVybjsKICBwcm9tcHRTaG9lQXNzaWdubWVudChydW5EYXRhKTsKfQoKLy8g4pSA4pSAIEluaXQg4pSA4pSACm1pZ3JhdGVTaG9lUGhvdG9zKCk7CnJlbmRlcldlZWtTdHJpcCgpOwoKLy8gUmVzdG9yZSB0b2RheSdzIGNhbG9yaWUgYnVybiBhZGp1c3RtZW50IG9uIHJlbG9hZAooZnVuY3Rpb24gcmVzdG9yZUJ1cm5PbkxvYWQoKSB7CiAgY29uc3QgYnVybkxvZyA9IGdldFN0b3JhZ2UoJ2J1cm5Mb2cnLCB7fSk7CiAgY29uc3QgYnVybiA9IGJ1cm5Mb2dbdG9kYXlLZXkoKV07CiAgaWYgKGJ1cm4gPiAwKSB7CiAgICAvLyBSZS1hcHBseSBzaWxlbnRseSDigJQgdGhpcyBzZXRzIGdhcm1pbkFkanVzdGVkTWFjcm9zIGFuZCB1cGRhdGVzIGJhbm5lcgogICAgY29uc3QgYmFzZSA9IGdldFN0b3JhZ2UoJ2FkYXB0aXZlTWFjcm9zJywgbnVsbCkgfHwgZ2V0U3RvcmFnZSgndXNlck1hY3JvcycsIG51bGwpIHx8IE1BQ1JPUzsKICAgIGNvbnN0IGV4dHJhQ2FscyAgPSBNYXRoLnJvdW5kKGJ1cm4gKiAwLjYpOwogICAgY29uc3QgZXh0cmFDYXJicyA9IE1hdGgucm91bmQoZXh0cmFDYWxzICogMC42NSAvIDQpOwogICAgY29uc3QgYWRqdXN0ZWQgPSB7IGNhbG9yaWVzOiBiYXNlLmNhbG9yaWVzICsgZXh0cmFDYWxzLCBjYXJiczogYmFzZS5jYXJicyArIGV4dHJhQ2FyYnMsIHByb3RlaW46IGJhc2UucHJvdGVpbiwgZmF0OiBiYXNlLmZhdCB9OwogICAgc2V0U3RvcmFnZSgnZ2FybWluQWRqdXN0ZWRNYWNyb3MnLCBhZGp1c3RlZCk7CiAgICAvLyBTaG93IGJhbm5lciBvbmNlIGdhcm1pbkNhcmQgcmVuZGVycwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJtaW5NYWNyb0Jhbm5lcicpOwogICAgICBjb25zdCB0ZXh0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluTWFjcm9UZXh0Jyk7CiAgICAgIGlmIChiYW5uZXIgJiYgdGV4dCkgewogICAgICAgIGJhbm5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBg8J+foCBSdW4gZGV0ZWN0ZWQhICske2V4dHJhQ2Fsc30ga2NhbCDihpIgJHthZGp1c3RlZC5jYWxvcmllc30ga2NhbCB0YXJnZXQsICR7YWRqdXN0ZWQuY2FyYnN9ZyBjYXJic2A7CiAgICAgIH0KICAgIH0sIDEwMCk7CiAgfQp9KSgpOwoKcmVuZGVyUmluZ3MoKTsKcmVuZGVyUXVpY2tSZWNzKCk7CnJlbmRlclVzdWFsRm9vZHMoKTsKcmVuZGVyRm9vZExvZygpOwpyZW5kZXJXZWlnaHRUcmVuZCgpOwpjaGVja0NvcHlZZXN0ZXJkYXkoKTsKY2hlY2tBZGFwdGl2ZU1hY3JvcygpOwpyZW5kZXJQcm9ncmFtUGFnZSgpOwp1cGRhdGVHYXJtaW5TZXR0aW5nc1VJKCk7CnVwZGF0ZVN0cmF2YVNldHRpbmdzVUkoKTsKcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwpyZW5kZXJTdHJlYWtDYXJkKCk7CnJlbmRlclByb3RlaW5QYWNlKCk7CnJlbmRlcldvcmtvdXROdXRyaXRpb25CYW5uZXIoKTsKbG9hZERhaWx5UXVvdGUoKTsKcmVuZGVyUmVjaXBlTGlzdCgpOwp1cGRhdGVIZWFkZXJEYXRlKCk7CnVwZGF0ZURhdGVOYXZCYXIoKTsKc2NoZWR1bGVNaWRuaWdodFJlZnJlc2goKTsKc2V0VGltZW91dChyZW5kZXJTaG9lUGFnZSwgMCk7IC8vIGRlZmVyIHNob2UgcGFnZSByZW5kZXIgdG8gYWZ0ZXIgZmlyc3QgcGFpbnQKCi8vIE1vYmlsZSByZXN1bWUgZml4IOKAlCB3aGVuIGFwcCBjb21lcyBiYWNrIGZyb20gYmFja2dyb3VuZCwgY2hlY2sgaWYgZGF5IGNoYW5nZWQKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHsKICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHsKICAgIGNvbnN0IGNhY2hlZCA9IGdldFN0b3JhZ2UoJ2RhaWx5UXVvdGUnLCBudWxsKTsKICAgIGlmICghY2FjaGVkIHx8IGNhY2hlZC5kYXRlICE9PSB0b2RheUtleSgpKSB7CiAgICAgIHVwZGF0ZUhlYWRlckRhdGUoKTsKICAgICAgcmVuZGVyV2Vla1N0cmlwKCk7CiAgICAgIHJlbmRlclJpbmdzKCk7CiAgICAgIHJlbmRlckZvb2RMb2coKTsKICAgICAgcmVuZGVyV2VpZ2h0VHJlbmQoKTsKICAgICAgcmVuZGVyV2Vla2x5QmFsYW5jZSgpOwogICAgICBjaGVja0NvcHlZZXN0ZXJkYXkoKTsKICAgICAgbG9hZERhaWx5UXVvdGUoKTsKICAgIH0KICB9Cn0pOwoKLy8gQXV0by1zZWxlY3QgY3VycmVudCB0aW1lIHNsb3QgaW4gbWFudWFsIHBpY2tlciBvbiBsb2FkCihmdW5jdGlvbigpIHsKICBjb25zdCBjdXJyZW50U2xvdCA9IGdldFRpbWVTbG90KCk7CiAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI21hbnVhbFRpbWVTbG90UGlja2VyIC50cy1idG5bZGF0YS1zbG90PSIke2N1cnJlbnRTbG90fSJdYCk7CiAgaWYgKGJ0bikgeyBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7IHNlbGVjdGVkVGltZVNsb3QgPSBjdXJyZW50U2xvdDsgfQp9KSgpOwoKLy8gSGFuZGxlIE9BdXRoIGNhbGxiYWNrcyDigJQgY2hlY2sgR2FybWluIGZpcnN0LCB0aGVuIFN0cmF2YQpoYW5kbGVPQXV0aENhbGxiYWNrKCk7CmhhbmRsZVN0cmF2YUNhbGxiYWNrKCk7CgovLyBBdXRvLWxvYWQgYWN0aXZpdHkgZGF0YSBpZiBjb25uZWN0ZWQgKFN0cmF2YSB0YWtlcyBwcmlvcml0eSBpZiBib3RoIGNvbm5lY3RlZCkKKGZ1bmN0aW9uKCkgewogIGNvbnN0IHN0cmF2YVRvayA9IGdldFN0b3JhZ2UoJ3N0cmF2YVRva2VuJywgbnVsbCk7CiAgY29uc3QgZ2FybWluVG9rID0gZ2V0U3RvcmFnZSgnZ2FybWluVG9rZW4nLCBudWxsKTsKCiAgaWYgKHN0cmF2YVRvaykgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcm1pbkNhcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGNvbnN0IGNhY2hlZCA9IGdldFN0b3JhZ2UoJ3N0cmF2YVRvZGF5JywgbnVsbCk7CiAgICBpZiAoY2FjaGVkICYmIChEYXRlLm5vdygpIC0gY2FjaGVkLmZldGNoZWQpIDwgMzAgKiA2MCAqIDEwMDApIHsKICAgICAgcmVuZGVyR2FybWluQ2FyZChjYWNoZWQuY2Fsb3JpZXMsIGNhY2hlZC5kaXN0YW5jZSwgY2FjaGVkLmR1cmF0aW9uLCBjYWNoZWQuY2Fsb3JpZXMgPiAwID8gMSA6IDAsICdzdHJhdmEnKTsKICAgICAgaWYgKGdldFN0b3JhZ2UoJ3N0cmF2YUF1dG9BZGp1c3QnLCB0cnVlKSkgYWRqdXN0TWFjcm9zRm9yQnVybihjYWNoZWQuY2Fsb3JpZXMpOwogICAgfSBlbHNlIHsKICAgICAgZmV0Y2hTdHJhdmFUb2RheSgpOwogICAgfQogIH0gZWxzZSBpZiAoZ2FybWluVG9rKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FybWluQ2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgY29uc3QgY2FjaGVkID0gZ2V0U3RvcmFnZSgnZ2FybWluVG9kYXknLCBudWxsKTsKICAgIGlmIChjYWNoZWQgJiYgKERhdGUubm93KCkgLSBjYWNoZWQuZmV0Y2hlZCkgPCAzMCAqIDYwICogMTAwMCkgewogICAgICByZW5kZXJHYXJtaW5DYXJkKGNhY2hlZC5jYWxvcmllcywgY2FjaGVkLmRpc3RhbmNlLCBjYWNoZWQuZHVyYXRpb24sIGNhY2hlZC5jYWxvcmllcyA+IDAgPyAxIDogMCwgJ2dhcm1pbicpOwogICAgICBpZiAoZ2V0U3RvcmFnZSgnZ2FybWluQXV0b0FkanVzdCcsIHRydWUpKSBhZGp1c3RNYWNyb3NGb3JCdXJuKGNhY2hlZC5jYWxvcmllcyk7CiAgICB9IGVsc2UgewogICAgICBmZXRjaEdhcm1pblRvZGF5KCk7CiAgICB9CiAgfQp9KSgpOwoKLy8g4pSA4pSAIEhpZGRlbiBEZXBsb3kgUGFuZWwg4pSA4pSACmxldCBfZGVwbG95VGFwQ291bnQgPSAwLCBfZGVwbG95VGFwVGltZXIgPSBudWxsOwpmdW5jdGlvbiBoYW5kbGVEZXBsb3lUYXAoKSB7CiAgX2RlcGxveVRhcENvdW50Kys7CiAgY2xlYXJUaW1lb3V0KF9kZXBsb3lUYXBUaW1lcik7CiAgaWYgKF9kZXBsb3lUYXBDb3VudCA+PSA1KSB7CiAgICBfZGVwbG95VGFwQ291bnQgPSAwOwogICAgb3BlbkRlcGxveU1vZGFsKCk7CiAgfSBlbHNlIHsKICAgIF9kZXBsb3lUYXBUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gX2RlcGxveVRhcENvdW50ID0gMCwgMjAwMCk7CiAgfQp9CgpmdW5jdGlvbiBvcGVuRGVwbG95TW9kYWwoKSB7CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95TW9kYWwnKTsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogIC8vIExvYWQgc2F2ZWQgdG9rZW4KICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkZXBsb3lfZ2hfdG9rZW4nKTsKICBpZiAoc2F2ZWQpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBsb3lUb2tlbicpLnZhbHVlID0gc2F2ZWQ7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95VG9rZW5TYXZlZCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIH0KfQoKLy8gVG9rZW4gc2F2ZSBvbiBpbnB1dApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogIGNvbnN0IHRva2VuSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95VG9rZW4nKTsKICBpZiAodG9rZW5JbnB1dCkgewogICAgdG9rZW5JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy52YWx1ZS5zdGFydHNXaXRoKCdnaHBfJykpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGVwbG95X2doX3Rva2VuJywgdGhpcy52YWx1ZSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveVRva2VuU2F2ZWQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgfQogICAgfSk7CiAgfQoKICAvLyBEcm9wIHpvbmUKICBjb25zdCBkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveURyb3AnKTsKICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95RmlsZUlucHV0Jyk7CiAgaWYgKGRyb3ApIHsKICAgIGRyb3AuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQuY2xpY2soKSk7CiAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZHJvcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjM2I4MmY2JzsgfSk7CiAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsICgpID0+IGRyb3Auc3R5bGUuYm9yZGVyQ29sb3IgPSAnIzJhMmEyYScpOwogICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZSA9PiB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgZHJvcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjMmEyYTJhJzsKICAgICAgaGFuZGxlRGVwbG95RmlsZShlLmRhdGFUcmFuc2Zlci5maWxlc1swXSk7CiAgICB9KTsKICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IGhhbmRsZURlcGxveUZpbGUoZS50YXJnZXQuZmlsZXNbMF0pKTsKICB9Cn0pOwoKbGV0IF9kZXBsb3lGaWxlQ29udGVudCA9IG51bGw7CmZ1bmN0aW9uIGhhbmRsZURlcGxveUZpbGUoZmlsZSkgewogIGlmICghZmlsZSkgcmV0dXJuOwogIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgX2RlcGxveUZpbGVDb250ZW50ID0gZS50YXJnZXQucmVzdWx0OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveUZpbGVOYW1lJykudGV4dENvbnRlbnQgPSBg4pyTICR7ZmlsZS5uYW1lfSAoJHsoZmlsZS5zaXplLzEwMjQpLnRvRml4ZWQoMCl9a2IpYDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBsb3lEcm9wJykuc3R5bGUuYm9yZGVyQ29sb3IgPSAnIzIyYzU1ZSc7CiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95U3VibWl0QnRuJyk7CiAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgIGJ0bi5zdHlsZS5vcGFjaXR5ID0gJzEnOwogIH07CiAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHJ1bkRlcGxveSgpIHsKICBjb25zdCB0b2tlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBsb3lUb2tlbicpLnZhbHVlLnRyaW0oKTsKICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95U3RhdHVzJyk7CiAgaWYgKCF0b2tlbikgeyBzaG93RGVwbG95U3RhdHVzKCfinYwgRW50ZXIgR2l0SHViIHRva2VuIGZpcnN0JywgJyNlZjQ0NDQnKTsgcmV0dXJuOyB9CiAgaWYgKCFfZGVwbG95RmlsZUNvbnRlbnQpIHsgc2hvd0RlcGxveVN0YXR1cygn4p2MIFNlbGVjdCBhIGZpbGUgZmlyc3QnLCAnI2VmNDQ0NCcpOyByZXR1cm47IH0KCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveVN1Ym1pdEJ0bicpOwogIGJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgc2hvd0RlcGxveVN0YXR1cygn4o+zIFB1c2hpbmcgdG8gR2l0SHViLi4uJywgJyMzYjgyZjYnKTsKCiAgY29uc3QgUkVQTyA9ICdqZXJlbXlzZmxhL21hY3JvLXRyYWNrZXInOwogIGNvbnN0IEZJTEUgPSAnd29ya2VyLmpzJzsKICBjb25zdCBoZWFkZXJzID0gewogICAgJ0F1dGhvcml6YXRpb24nOiBgdG9rZW4gJHt0b2tlbn1gLAogICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi92bmQuZ2l0aHViLnYzK2pzb24nLAogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogIH07CgogIHRyeSB7CiAgICAvLyBFbmNvZGUgSFRNTCBhcyBiYXNlNjQgc2FmZWx5IChoYW5kbGVzIHVuaWNvZGUgY29ycmVjdGx5KQogICAgZnVuY3Rpb24gdG9CYXNlNjQoc3RyKSB7CiAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cik7CiAgICAgIGxldCBiaW4gPSAnJzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykgYmluICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pOwogICAgICByZXR1cm4gYnRvYShiaW4pOwogICAgfQoKICAgIGNvbnN0IGh0bWxCNjQgPSB0b0Jhc2U2NChfZGVwbG95RmlsZUNvbnRlbnQpOwogICAgY29uc3QgYXBpS2V5ID0gJ3NrLWFudC1hcGkwMy0xZkNxMEZlbmItdVZGVnBzMmNZbWxSdm9CclhydTR3ZWd1c0NtN3cwSWtJWWx6VGFuMFJ0aEs2Q1I0WWRZLUVfbGhPbC1oWEpoYWphcXNob1d4bFY2Zy1OLXNoVEFBQSc7CiAgICBjb25zdCB3b3JrZXJDb250ZW50ID0gYGNvbnN0IEFLPScke2FwaUtleX0nO2NvbnN0IEg9JyR7aHRtbEI2NH0nO2Z1bmN0aW9uIGQocyl7Y29uc3QgYj1hdG9iKHMpLHI9bmV3IFVpbnQ4QXJyYXkoYi5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8Yi5sZW5ndGg7aSsrKXJbaV09Yi5jaGFyQ29kZUF0KGkpO3JldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUocik7fWV4cG9ydCBkZWZhdWx0e2FzeW5jIGZldGNoKHJlcSl7Y29uc3QgdT1uZXcgVVJMKHJlcS51cmwpO2lmKHUucGF0aG5hbWU9PT0nL2FwaS9jbGF1ZGUnJiZyZXEubWV0aG9kPT09J1BPU1QnKXt0cnl7Y29uc3QgYj1hd2FpdCByZXEuanNvbigpO2NvbnN0IHI9YXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydjb250ZW50LXR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywnYW50aHJvcGljLXZlcnNpb24nOicyMDIzLTA2LTAxJywneC1hcGkta2V5JzpBS30sYm9keTpKU09OLnN0cmluZ2lmeShiKX0pO2NvbnN0IGRhdGE9YXdhaXQgci5qc29uKCk7cmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShkYXRhKSx7aGVhZGVyczp7J2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nLCdhY2Nlc3MtY29udHJvbC1hbGxvdy1vcmlnaW4nOicqJ319KTt9Y2F0Y2goZSl7cmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7ZXJyb3I6e21lc3NhZ2U6ZS5tZXNzYWdlfX0pLHtoZWFkZXJzOnsnY29udGVudC10eXBlJzonYXBwbGljYXRpb24vanNvbid9fSk7fX1yZXR1cm4gbmV3IFJlc3BvbnNlKGQoSCkse2hlYWRlcnM6eydjb250ZW50LXR5cGUnOid0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOCd9fSk7fX1gOwoKICAgIC8vIEdldCBjdXJyZW50IFNIQSBvZiB3b3JrZXIuanMKICAgIGxldCBzaGEgPSAnJzsKICAgIGNvbnN0IGdldFJlc3AgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy8ke1JFUE99L2NvbnRlbnRzLyR7RklMRX1gLCB7IGhlYWRlcnMgfSk7CiAgICBpZiAoZ2V0UmVzcC5vaykgeyBjb25zdCBkID0gYXdhaXQgZ2V0UmVzcC5qc29uKCk7IHNoYSA9IGQuc2hhOyB9CgogICAgLy8gUHVzaCB3b3JrZXIuanMKICAgIGNvbnN0IGVuY29kZWQgPSB0b0Jhc2U2NCh3b3JrZXJDb250ZW50KTsKICAgIGNvbnN0IGJvZHkgPSB7IG1lc3NhZ2U6ICdEZXBsb3kgZnJvbSBtYWNybyBhcHAnLCBjb250ZW50OiBlbmNvZGVkIH07CiAgICBpZiAoc2hhKSBib2R5LnNoYSA9IHNoYTsKCiAgICBjb25zdCBwdXRSZXNwID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJHtSRVBPfS9jb250ZW50cy8ke0ZJTEV9YCwgewogICAgICBtZXRob2Q6ICdQVVQnLCBoZWFkZXJzLCBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KQogICAgfSk7CgogICAgaWYgKCFwdXRSZXNwLm9rKSB7IGNvbnN0IGUgPSBhd2FpdCBwdXRSZXNwLmpzb24oKTsgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSk7IH0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1dFJlc3AuanNvbigpOwogICAgc2hvd0RlcGxveVN0YXR1cyhg4pyFIERlcGxveWVkISBDb21taXQgJHtyZXN1bHQuY29tbWl0LnNoYS5zbGljZSgwLDcpfSDigJQgbGl2ZSBpbiB+MzBzYCwgJyMyMmM1NWUnKTsKICAgIF9kZXBsb3lGaWxlQ29udGVudCA9IG51bGw7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95RmlsZU5hbWUnKS50ZXh0Q29udGVudCA9ICcnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGxveURyb3AnKS5zdHlsZS5ib3JkZXJDb2xvciA9ICcjMmEyYTJhJzsKICB9IGNhdGNoKGUpIHsKICAgIHNob3dEZXBsb3lTdGF0dXMoYOKdjCAke2UubWVzc2FnZX1gLCAnI2VmNDQ0NCcpOwogIH0KICBidG4uZGlzYWJsZWQgPSBmYWxzZTsKICBidG4uc3R5bGUub3BhY2l0eSA9ICcxJzsKfQoKZnVuY3Rpb24gc2hvd0RlcGxveVN0YXR1cyhtc2csIGNvbG9yKSB7CiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwbG95U3RhdHVzJyk7CiAgZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZWwuc3R5bGUuY29sb3IgPSBjb2xvcjsKICBlbC50ZXh0Q29udGVudCA9IG1zZzsKfQoKCi8vIOKUgOKUgCBDbGF1ZGUgQUkgQ2hhdCDilIDilIAKY29uc3QgQ0xBVURFX0FQSV9LRVkgPSAnc2stYW50LWFwaTAzLTFmQ3EwRmVuYi11VkZWcHMyY1ltbFJ2b0JyWHJ1NHdlZ3VzQ203dzBJa0lZbHpUYW4wUnRoSzZDUjRZZFktRV9saE9sLWhYSmhhamFxc2hvV3hsVjZnLU4tc2hUQUFBJzsKbGV0IGNsYXVkZUhpc3RvcnkgPSBbXTsKCmZ1bmN0aW9uIGdldEFwcENvbnRleHQoKSB7CiAgLy8gUHVsbCBsaXZlIGRhdGEgZnJvbSB0aGUgYXBwCiAgY29uc3QgdG9kYXlLID0gdG9kYXlLZXkoKTsKICBjb25zdCBlbnRyaWVzID0gZ2V0U3RvcmFnZSgnZW50cmllc18nICsgdG9kYXlLLCBbXSk7CiAgY29uc3QgdG90YWxzID0gZW50cmllcy5yZWR1Y2UoKGEsIGUpID0+ICh7CiAgICBjYWxvcmllczogYS5jYWxvcmllcyArIChlLmNhbG9yaWVzfHwwKSwKICAgIHByb3RlaW46IGEucHJvdGVpbiArIChlLnByb3RlaW58fDApLAogICAgY2FyYnM6IGEuY2FyYnMgKyAoZS5jYXJic3x8MCksCiAgICBmYXQ6IGEuZmF0ICsgKGUuZmF0fHwwKQogIH0pLCB7Y2Fsb3JpZXM6MCwgcHJvdGVpbjowLCBjYXJiczowLCBmYXQ6MH0pOwoKICBjb25zdCB3ZWlnaHRzID0gZ2V0U3RvcmFnZSgnd2VpZ2h0TG9nJywgW10pOwogIGNvbnN0IGxhdGVzdFdlaWdodCA9IHdlaWdodHMubGVuZ3RoID8gd2VpZ2h0c1t3ZWlnaHRzLmxlbmd0aC0xXSA6IG51bGw7CgogIGNvbnN0IHNob2VSdW5zID0gZ2V0U3RvcmFnZSgnc2hvZVJ1bnMnLCBbXSk7CiAgY29uc3QgcmVjZW50UnVucyA9IHNob2VSdW5zLnNsaWNlKC01KTsKCiAgY29uc3Qgd29ya291dHMgPSBnZXRTdG9yYWdlKCd3b3Jrb3V0SGlzdG9yeScsIFtdKTsKICBjb25zdCByZWNlbnRXb3Jrb3V0cyA9IHdvcmtvdXRzLnNsaWNlKC01KTsKCiAgY29uc3QgdXNlck1hY3JvcyA9IGdldFN0b3JhZ2UoJ3VzZXJNYWNyb3MnLCBNQUNST1MpOwogIGNvbnN0IHRkZWUgPSBnZXRTdG9yYWdlKCd1c2VyVERFRScsIFRERUUpOwoKICByZXR1cm4gYFlvdSBhcmUgYSBwZXJzb25hbCBmaXRuZXNzIGFuZCBudXRyaXRpb24gQUkgYXNzaXN0YW50IGJ1aWx0IGludG8gSmVyZW15J3MgVHJhY2tlciBBSSBhcHAuIFlvdSBrbm93IEplcmVteSdzIGRhdGE6CgpHT0FMUzogTG9zZSB3ZWlnaHQgZnJvbSAxNzAgdG8gMTYzIGxicyBpbiAzMCBkYXlzLiBBZ2U6IDUyLgpEQUlMWSBUQVJHRVRTOiAke3VzZXJNYWNyb3MuY2Fsb3JpZXN9IGNhbG9yaWVzLCAke3VzZXJNYWNyb3MucHJvdGVpbn1nIHByb3RlaW4sICR7dXNlck1hY3Jvcy5jYXJic31nIGNhcmJzLCAke3VzZXJNYWNyb3MuZmF0fWcgZmF0LiBUREVFOiAke3RkZWV9IGNhbC4KClRPREFZJ1MgSU5UQUtFIFNPIEZBUiAoJHt0b2RheUt9KToKLSBDYWxvcmllczogJHtNYXRoLnJvdW5kKHRvdGFscy5jYWxvcmllcyl9IC8gJHt1c2VyTWFjcm9zLmNhbG9yaWVzfSAoJHtNYXRoLnJvdW5kKHVzZXJNYWNyb3MuY2Fsb3JpZXMgLSB0b3RhbHMuY2Fsb3JpZXMpfSByZW1haW5pbmcpCi0gUHJvdGVpbjogJHtNYXRoLnJvdW5kKHRvdGFscy5wcm90ZWluKX1nIC8gJHt1c2VyTWFjcm9zLnByb3RlaW59ZwotIENhcmJzOiAke01hdGgucm91bmQodG90YWxzLmNhcmJzKX1nIC8gJHt1c2VyTWFjcm9zLmNhcmJzfWcKLSBGYXQ6ICR7TWF0aC5yb3VuZCh0b3RhbHMuZmF0KX1nIC8gJHt1c2VyTWFjcm9zLmZhdH1nCi0gRm9vZHMgbG9nZ2VkIHRvZGF5OiAke2VudHJpZXMubWFwKGUgPT4gZS5uYW1lKS5qb2luKCcsICcpIHx8ICdub25lIHlldCd9CgpMQVRFU1QgV0VJR0hUOiAke2xhdGVzdFdlaWdodCA/IGxhdGVzdFdlaWdodC53ZWlnaHQgKyAnIGxicyBvbiAnICsgbGF0ZXN0V2VpZ2h0LmRhdGUgOiAnbm90IGxvZ2dlZCd9CgpSRUNFTlQgUlVOUzogJHtyZWNlbnRSdW5zLmxlbmd0aCA/IHJlY2VudFJ1bnMubWFwKHIgPT4gci5kYXRlICsgJzogJyArIHIubWlsZXMgKyAnIG1pJykuam9pbignLCAnKSA6ICdub25lJ30KClJFQ0VOVCBXT1JLT1VUUzogJHtyZWNlbnRXb3Jrb3V0cy5sZW5ndGggPyByZWNlbnRXb3Jrb3V0cy5tYXAodyA9PiB3LmRhdGUgKyAnOiAnICsgKHcubmFtZXx8J3dvcmtvdXQnKSkuam9pbignLCAnKSA6ICdub25lJ30KCkJlIGNvbmNpc2UsIHByYWN0aWNhbCwgYW5kIHN1cHBvcnRpdmUuIFVzZSBKZXJlbXkncyBhY3R1YWwgZGF0YSB3aGVuIGFuc3dlcmluZy5gOwp9CgpmdW5jdGlvbiBjbGF1ZGVRdWlja1Byb21wdCh0ZXh0KSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXVkZUlucHV0JykudmFsdWUgPSB0ZXh0OwogIHNlbmRDbGF1ZGVNZXNzYWdlKCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRDbGF1ZGVNZXNzYWdlKCkgewogIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXVkZUlucHV0Jyk7CiAgY29uc3QgbXNnID0gaW5wdXQudmFsdWUudHJpbSgpOwogIGlmICghbXNnKSByZXR1cm47CgogIGlucHV0LnZhbHVlID0gJyc7CiAgaW5wdXQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nOwoKICAvLyBBZGQgdXNlciBtZXNzYWdlCiAgYXBwZW5kQ2xhdWRlTWVzc2FnZSgndXNlcicsIG1zZyk7CiAgY2xhdWRlSGlzdG9yeS5wdXNoKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBtc2cgfSk7CgogIC8vIFNob3cgdHlwaW5nIGluZGljYXRvcgogIGNvbnN0IHR5cGluZ0lkID0gJ3R5cGluZ18nICsgRGF0ZS5ub3coKTsKICBhcHBlbmRDbGF1ZGVNZXNzYWdlKCd0eXBpbmcnLCAnLi4uJywgdHlwaW5nSWQpOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhdWRlU2VuZEJ0bicpLmRpc2FibGVkID0gdHJ1ZTsKCiAgdHJ5IHsKICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCgnL2FwaS9jbGF1ZGUnLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICB9LAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgbW9kZWw6ICdjbGF1ZGUtb3B1cy00LTIwMjUwNTE0JywKICAgICAgICBtYXhfdG9rZW5zOiAxMDI0LAogICAgICAgIHN5c3RlbTogZ2V0QXBwQ29udGV4dCgpLAogICAgICAgIG1lc3NhZ2VzOiBjbGF1ZGVIaXN0b3J5CiAgICAgIH0pCiAgICB9KTsKCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcC5qc29uKCk7CiAgICBpZiAoZGF0YS5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSB8fCBKU09OLnN0cmluZ2lmeShkYXRhLmVycm9yKSk7CiAgICBjb25zdCByZXBseSA9IGRhdGEuY29udGVudD8uWzBdPy50ZXh0IHx8ICdTb3JyeSwgSSBoYWQgdHJvdWJsZSByZXNwb25kaW5nLic7CgogICAgLy8gUmVtb3ZlIHR5cGluZyBpbmRpY2F0b3IKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHR5cGluZ0lkKT8ucmVtb3ZlKCk7CgogICAgY2xhdWRlSGlzdG9yeS5wdXNoKHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6IHJlcGx5IH0pOwogICAgYXBwZW5kQ2xhdWRlTWVzc2FnZSgnYXNzaXN0YW50JywgcmVwbHkpOwoKICB9IGNhdGNoKGUpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHR5cGluZ0lkKT8ucmVtb3ZlKCk7CiAgICBhcHBlbmRDbGF1ZGVNZXNzYWdlKCdhc3Npc3RhbnQnLCAn4p2MIEVycm9yOiAnICsgZS5tZXNzYWdlICsgJyB8ICcgKyBlLmNvbnN0cnVjdG9yLm5hbWUpOwogIH0KCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXVkZVNlbmRCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGF1ZGVJbnB1dCcpLmZvY3VzKCk7Cn0KCmZ1bmN0aW9uIGFwcGVuZENsYXVkZU1lc3NhZ2Uocm9sZSwgdGV4dCwgaWQpIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhdWRlQ2hhdE1lc3NhZ2VzJyk7CiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgaWYgKGlkKSBkaXYuaWQgPSBpZDsKCiAgY29uc3QgaXNVc2VyID0gcm9sZSA9PT0gJ3VzZXInOwogIGNvbnN0IGlzVHlwaW5nID0gcm9sZSA9PT0gJ3R5cGluZyc7CgogIGRpdi5zdHlsZS5jc3NUZXh0ID0gYGRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6JHtpc1VzZXIgPyAnZmxleC1lbmQnIDogJ2ZsZXgtc3RhcnQnfTtgOwoKICBjb25zdCBidWJibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBidWJibGUuc3R5bGUuY3NzVGV4dCA9IGAKICAgIG1heC13aWR0aDo4NSU7CiAgICBwYWRkaW5nOjEycHggMTZweDsKICAgIGJvcmRlci1yYWRpdXM6JHtpc1VzZXIgPyAnMThweCAxOHB4IDRweCAxOHB4JyA6ICcxOHB4IDE4cHggMThweCA0cHgnfTsKICAgIGJhY2tncm91bmQ6JHtpc1VzZXIgPyAnIzI1NjNlYicgOiAnIzFlMjkzYid9OwogICAgY29sb3I6I2ZmZjsKICAgIGZvbnQtc2l6ZToxNHB4OwogICAgbGluZS1oZWlnaHQ6MS41OwogICAgd2hpdGUtc3BhY2U6cHJlLXdyYXA7CiAgICAke2lzVHlwaW5nID8gJ2NvbG9yOiM2NDc0OGI7Zm9udC1zdHlsZTppdGFsaWM7JyA6ICcnfQogIGA7CiAgYnViYmxlLnRleHRDb250ZW50ID0gdGV4dDsKCiAgZGl2LmFwcGVuZENoaWxkKGJ1YmJsZSk7CiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7CiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7Cn0KCjwvc2NyaXB0Pgo8IS0tIFJlY2lwZSBCdWlsZGVyIE1vZGFsIC0tPgo8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5IiBpZD0ibmV3UmVjaXBlTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhhbmRsZSI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC10aXRsZSI+8J+TliBOZXcgUmVjaXBlPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1zdWIiPk5hbWUgeW91ciByZWNpcGUsIHNlYXJjaCBmb3IgaW5ncmVkaWVudHMsIHNldCBxdWFudGl0aWVzPC9kaXY+CgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJyZWNpcGVOYW1lSW5wdXQiIHBsYWNlaG9sZGVyPSJSZWNpcGUgbmFtZSAoZS5nLiBQb3N0LVdvcmtvdXQgQm93bCkiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE0cHgiIC8+CgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij7wn5SNIFNlYXJjaCBJbmdyZWRpZW50cyAoVVNEQSBEYXRhYmFzZSk8L2Rpdj4KICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206MTBweCI+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVjaXBlSW5nU2VhcmNoSW5wdXQiIHBsYWNlaG9sZGVyPSJlLmcuIGNoaWNrZW4gYnJlYXN0LCBicm93biByaWNlLCBvbGl2ZSBvaWzigKYiCiAgICAgICAgc3R5bGU9InBhZGRpbmctcmlnaHQ6NDhweCIgb25rZXlkb3duPSJpZihldmVudC5rZXk9PT0nRW50ZXInKXNlYXJjaFJlY2lwZUluZ3JlZGllbnQoKSIgLz4KICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzZWFyY2hSZWNpcGVJbmdyZWRpZW50KCkiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo4cHg7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTt3aWR0aDozNHB4O2hlaWdodDozNHB4O2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOnZhcigtLWJsdWUpO2JvcmRlcjpub25lO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiNmZmY7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIj7inqQ8L2J1dHRvbj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icmVjaXBlSW5nTG9hZGluZyIgc3R5bGU9ImRpc3BsYXk6bm9uZTt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjEycHg7Zm9udC1zaXplOjEycHg7Y29sb3I6dmFyKC0tdGV4dDIpIj5TZWFyY2hpbmcgVVNEQSBkYXRhYmFzZeKApjwvZGl2PgogICAgPGRpdiBpZD0icmVjaXBlSW5nUmVzdWx0cyIgc3R5bGU9Im1heC1oZWlnaHQ6MTYwcHg7b3ZlcmZsb3cteTphdXRvO21hcmdpbi1ib3R0b206MTJweCI+PC9kaXY+CgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtsZXR0ZXItc3BhY2luZzoxcHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO21hcmdpbi1ib3R0b206OHB4Ij7wn6e6IEluZ3JlZGllbnRzIEFkZGVkPC9kaXY+CiAgICA8ZGl2IGlkPSJyZWNpcGVJbmdyZWRpZW50c0xpc3QiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHgiPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS10ZXh0Myk7Zm9udC1zdHlsZTppdGFsaWMiPk5vIGluZ3JlZGllbnRzIHlldCDigJQgc2VhcmNoIGFib3ZlPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJyZWNpcGVUb3RhbEJhciIgc3R5bGU9ImRpc3BsYXk6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxMHB4IDE0cHg7bWFyZ2luLWJvdHRvbToxNHB4O2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0KSI+PC9kaXY+CgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWdyZWVuIiBvbmNsaWNrPSJzYXZlUmVjaXBlKCkiPvCfkr4gU2F2ZSBSZWNpcGU8L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9ImJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3UmVjaXBlTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJykiPkNhbmNlbDwvYnV0dG9uPgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gRm9vZCBEZXRhaWwgLyBTZXJ2aW5nIE1vZGFsIChzaGFyZWQgZm9yIFVTREEgKyBSZXN0YXVyYW50KSAtLT4KPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSIgaWQ9ImZvb2REZXRhaWxNb2RhbCI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtc2hlZXQiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRpdGxlIiBpZD0iZmRUaXRsZSI+Rm9vZCBEZXRhaWxzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb29kLXJlc3VsdCIgaWQ9ImZkRm9vZENhcmQiPjwvZGl2PgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTJweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjE0cHg7cGFkZGluZzoxMHB4IDE0cHg7Ym9yZGVyOjEuNXB4IHNvbGlkIHZhcigtLWJvcmRlcik7bWFyZ2luLWJvdHRvbToxMnB4Ij4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOnZhcigtLXRleHQpO2ZsZXg6MSI+U2VydmluZ3M8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTBweCI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3J2LWJ0biIgb25jbGljaz0iYWRqdXN0RmRTZXJ2aW5ncygtMC41KSI+4oiSPC9idXR0b24+CiAgICAgICAgPGRpdiBjbGFzcz0ic3J2LXZhbCIgaWQ9ImZkU2VydmluZ3NWYWwiPjE8L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJzcnYtYnRuIiBvbmNsaWNrPSJhZGp1c3RGZFNlcnZpbmdzKDAuNSkiPis8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgaWQ9ImZkQWN0aW9uQnRucyI+PC9kaXY+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb2REZXRhaWxNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKSI+Q2FuY2VsPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2Pgo8IS0tIOKUgOKUgCBBZGQgLyBFZGl0IFNob2UgTW9kYWwg4pSA4pSAIC0tPgo8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5IiBpZD0iYWRkU2hvZU1vZGFsIj4KICA8ZGl2IGNsYXNzPSJtb2RhbC1zaGVldCI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oYW5kbGUiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtdGl0bGUiIGlkPSJhZGRTaG9lVGl0bGUiPvCfkZ8gQWRkIE5ldyBTaG9lPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1zdWIiPlRha2UgYSBwaG90byB0byBhdXRvLWlkZW50aWZ5LCBvciBlbnRlciBkZXRhaWxzIG1hbnVhbGx5PC9kaXY+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0iZWRpdFNob2VJZCIgLz4KICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTRweCI+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0Mik7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjhweCI+8J+TuCBJZGVudGlmeSB2aWEgUGhvdG8gKEFJKTwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOjE2cHg7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6IzBmMTcyYTthc3BlY3QtcmF0aW86MTYvOTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLWJvdHRvbTo4cHgiIGlkPSJzaG9lUGhvdG9QcmV2aWV3Ij4KICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojNDc1NTY5IiBpZD0ic2hvZVBob3RvUGxhY2Vob2xkZXIiPjxkaXYgc3R5bGU9ImZvbnQtc2l6ZTozNnB4Ij7wn5O3PC9kaXY+PGRpdiBzdHlsZT0iZm9udC1zaXplOjEycHg7bWFyZ2luLXRvcDo2cHg7Zm9udC13ZWlnaHQ6NjAwIj5ObyBwaG90byB5ZXQ8L2Rpdj48L2Rpdj4KICAgICAgICA8aW1nIGlkPSJzaG9lUGhvdG9JbWciIHN0eWxlPSJkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvYmplY3QtZml0OmNvdmVyIiAvPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDo4cHgiPgogICAgICAgIDxsYWJlbCBzdHlsZT0iZmxleDoxO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6OHB4O3BhZGRpbmc6MTBweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTtib3JkZXItcmFkaXVzOjEycHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtjdXJzb3I6cG9pbnRlciI+CiAgICAgICAgICDwn5O3IFRha2UgUGhvdG88aW5wdXQgdHlwZT0iZmlsZSIgYWNjZXB0PSJpbWFnZS8qIiBjYXB0dXJlPSJlbnZpcm9ubWVudCIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgb25jaGFuZ2U9ImhhbmRsZVNob2VQaG90byh0aGlzKSIgLz4KICAgICAgICA8L2xhYmVsPgogICAgICAgIDxsYWJlbCBzdHlsZT0iZmxleDoxO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6OHB4O3BhZGRpbmc6MTBweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXI6MS41cHggc29saWQgdmFyKC0tYm9yZGVyKTtib3JkZXItcmFkaXVzOjEycHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOnZhcigtLXRleHQyKTtjdXJzb3I6cG9pbnRlciI+CiAgICAgICAgICDwn5a877iPIENob29zZSBQaG90bzxpbnB1dCB0eXBlPSJmaWxlIiBhY2NlcHQ9ImltYWdlLyoiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIG9uY2hhbmdlPSJoYW5kbGVTaG9lUGhvdG8odGhpcykiIC8+CiAgICAgICAgPC9sYWJlbD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9InNob2VBSVN0YXR1cyIgc3R5bGU9ImRpc3BsYXk6bm9uZTttYXJnaW4tdG9wOjhweDtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo2MDA7Y29sb3I6dmFyKC0tdGV4dDIpO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MTBweDtiYWNrZ3JvdW5kOnZhcigtLXN1cmZhY2UyKTtib3JkZXItcmFkaXVzOjEwcHgiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo4cHgiPlNob2UgRGV0YWlsczwvZGl2PgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzaG9lTmFtZUlucHV0IiBwbGFjZWhvbGRlcj0iZS5nLiBCcm9va3MgR2hvc3QgMTUg4oCUIFJhY2UgUGFpciIgc3R5bGU9Im1hcmdpbi1ib3R0b206OHB4IiAvPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzaG9lQnJhbmRJbnB1dCIgcGxhY2Vob2xkZXI9IkJyYW5kIChlLmcuIEJyb29rcywgTmlrZSwgQVNJQ1MpIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo4cHgiIC8+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7Z2FwOjhweDttYXJnaW4tYm90dG9tOjE0cHgiPgogICAgICA8ZGl2PjxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0Mik7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjVweCI+U3RhcnRpbmcgTWlsZXM8L2Rpdj48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic2hvZVN0YXJ0TWlsZXMiIHBsYWNlaG9sZGVyPSIwIiB2YWx1ZT0iMCIgbWluPSIwIiAvPjwvZGl2PgogICAgICA8ZGl2PjxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjp2YXIoLS10ZXh0Mik7bGV0dGVyLXNwYWNpbmc6MXB4O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjVweCI+UmV0aXJlIEF0IChtaSk8L2Rpdj48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic2hvZVJldGlyZU1pbGVzIiBwbGFjZWhvbGRlcj0iNDAwIiB2YWx1ZT0iNDAwIiBtaW49IjEwMCIgLz48L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDo4cHg7bWFyZ2luLWJvdHRvbToxNHB4Ij4KICAgICAgPGRpdiBzdHlsZT0iZmxleDoxIj48ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo1cHgiPkNvbG9yPC9kaXY+PGlucHV0IHR5cGU9InRleHQiIGlkPSJzaG9lQ29sb3JJbnB1dCIgcGxhY2Vob2xkZXI9ImUuZy4gQmx1ZS9XaGl0ZSIgLz48L2Rpdj4KICAgICAgPGRpdiBzdHlsZT0iZmxleDoxIj48ZGl2IHN0eWxlPSJmb250LXNpemU6MTBweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2xldHRlci1zcGFjaW5nOjFweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7bWFyZ2luLWJvdHRvbTo1cHgiPlN0YXR1czwvZGl2PgogICAgICAgIDxzZWxlY3QgaWQ9InNob2VTdGF0dXNJbnB1dCIgc3R5bGU9IndpZHRoOjEwMCU7cGFkZGluZzoxMXB4IDEycHg7Ym9yZGVyLXJhZGl1czoxNHB4O2JvcmRlcjoxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tdGV4dCkiPgogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWN0aXZlIj5BY3RpdmU8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJyZXRpcmVkIj5SZXRpcmVkPC9vcHRpb24+CiAgICAgICAgPC9zZWxlY3Q+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1ncmVlbiIgb25jbGljaz0ic2F2ZVNob2UoKSI+8J+SviBTYXZlIFNob2U8L2J1dHRvbj4KICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLW91dGxpbmUiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRTaG9lTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJykiPkNhbmNlbDwvYnV0dG9uPgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0g4pSA4pSAIEFzc2lnbiBSdW4gdG8gU2hvZSBNb2RhbCDilIDilIAgLS0+CjxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiIGlkPSJhc3NpZ25SdW5Nb2RhbCI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtc2hlZXQiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRpdGxlIj7wn4+DIFdoaWNoIHNob2VzIGRpZCB5b3Ugd2Vhcj88L2Rpdj4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLXN1YiIgaWQ9ImFzc2lnblJ1bkRldGFpbHMiPkFzc2lnbiB0b2RheSdzIHJ1biB0byBhIHBhaXIgb2Ygc2hvZXM8L2Rpdj4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJhc3NpZ25SdW5EYXRhIiAvPgogICAgPCEtLSBBSSBwaG90byBtYXRjaCAtLT4KICAgIDxkaXYgaWQ9InNob2VQaG90b01hdGNoU2VjdGlvbiIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTRweCI+CiAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2dhcDo4cHg7cGFkZGluZzoxMHB4IDE0cHg7YmFja2dyb3VuZDp2YXIoLS1zdXJmYWNlMik7Ym9yZGVyOjEuNXB4IGRhc2hlZCB2YXIoLS1ib3JkZXIpO2JvcmRlci1yYWRpdXM6MTRweDtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tdGV4dDIpO2N1cnNvcjpwb2ludGVyIj4KICAgICAgICDwn5O4IFRha2UgcGhvdG8gdG8gYXV0by1pZGVudGlmeSBzaG9lcwogICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBhY2NlcHQ9ImltYWdlLyoiIGNhcHR1cmU9ImVudmlyb25tZW50IiBzdHlsZT0iZGlzcGxheTpub25lIiBvbmNoYW5nZT0ibWF0Y2hTaG9lRnJvbVBob3RvKHRoaXMpIiAvPgogICAgICA8L2xhYmVsPgogICAgICA8ZGl2IGlkPSJzaG9lTWF0Y2hTdGF0dXMiIHN0eWxlPSJkaXNwbGF5Om5vbmU7bWFyZ2luLXRvcDo4cHg7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NjAwO3BhZGRpbmc6MTBweCAxMnB4O2JhY2tncm91bmQ6dmFyKC0tc3VyZmFjZTIpO2JvcmRlci1yYWRpdXM6MTBweDtsaW5lLWhlaWdodDoxLjUiPjwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGlkPSJhc3NpZ25TaG9lTGlzdCIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweCI+PC9kaXY+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4tb3V0bGluZSIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fzc2lnblJ1bk1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpIj5Ta2lwIGZvciBub3c8L2J1dHRvbj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIOKUgOKUgCBTaG9lIERldGFpbCBNb2RhbCDilIDilIAgLS0+CjxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiIGlkPSJzaG9lRGV0YWlsTW9kYWwiPgogIDxkaXYgY2xhc3M9Im1vZGFsLXNoZWV0IiBzdHlsZT0ibWF4LWhlaWdodDo5MHZoO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW4iPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGFuZGxlIj48L2Rpdj4KICAgIDxkaXYgaWQ9InNob2VEZXRhaWxDb250ZW50IiBzdHlsZT0iZmxleDoxO292ZXJmbG93LXk6YXV0bztwYWRkaW5nLWJvdHRvbTo4cHgiPjwvZGl2PgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLW91dGxpbmUiIHN0eWxlPSJmbGV4LXNocmluazowO21hcmdpbi10b3A6MTBweCIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob2VEZXRhaWxNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKSI+Q2xvc2U8L2J1dHRvbj4KICA8L2Rpdj4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4=';
function d(s){const b=atob(s),r=new Uint8Array(b.length);for(let i=0;i<b.length;i++)r[i]=b.charCodeAt(i);return new TextDecoder().decode(r);}
export default{
  async fetch(req){
    const u=new URL(req.url);
    if(u.pathname==='/api/claude'&&req.method==='POST'){
      try{
        const b=await req.json();
        const r=await fetch('https://api.anthropic.com/v1/messages',{method:'POST',headers:{'content-type':'application/json','anthropic-version':'2023-06-01','x-api-key':AK},body:JSON.stringify(b)});
        const data=await r.json();
        return new Response(JSON.stringify(data),{headers:{'content-type':'application/json','access-control-allow-origin':'*'}});
      }catch(e){return new Response(JSON.stringify({error:{message:e.message}}),{headers:{'content-type':'application/json'}});}
    }
    return new Response(d(H),{headers:{'content-type':'text/html;charset=utf-8'}});
  }
}
